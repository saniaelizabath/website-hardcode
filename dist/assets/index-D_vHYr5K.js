(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function Ww(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var em={exports:{}},Xl={};var Sb;function HE(){if(Sb)return Xl;Sb=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:s,type:n,key:l,ref:r!==void 0?r:null,props:o}}return Xl.Fragment=e,Xl.jsx=t,Xl.jsxs=t,Xl}var Eb;function GE(){return Eb||(Eb=1,em.exports=HE()),em.exports}var m=GE(),tm={exports:{}},it={};var Tb;function VE(){if(Tb)return it;Tb=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=y&&k[y]||k["@@iterator"],typeof k=="function"?k:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function M(k,$,Z){this.props=k,this.context=$,this.refs=E,this.updater=Z||v}M.prototype.isReactComponent={},M.prototype.setState=function(k,$){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,$,"setState")},M.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function S(){}S.prototype=M.prototype;function C(k,$,Z){this.props=k,this.context=$,this.refs=E,this.updater=Z||v}var A=C.prototype=new S;A.constructor=C,_(A,M.prototype),A.isPureReactComponent=!0;var N=Array.isArray;function D(){}var R={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function q(k,$,Z){var ie=Z.ref;return{$$typeof:s,type:k,key:$,ref:ie!==void 0?ie:null,props:Z}}function G(k,$){return q(k.type,$,k.props)}function j(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function oe(k){var $={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(Z){return $[Z]})}var Q=/\/+/g;function W(k,$){return typeof k=="object"&&k!==null&&k.key!=null?oe(""+k.key):$.toString(36)}function re(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(D,D):(k.status="pending",k.then(function($){k.status==="pending"&&(k.status="fulfilled",k.value=$)},function($){k.status==="pending"&&(k.status="rejected",k.reason=$)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function B(k,$,Z,ie,_e){var te=typeof k;(te==="undefined"||te==="boolean")&&(k=null);var ee=!1;if(k===null)ee=!0;else switch(te){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(k.$$typeof){case s:case e:ee=!0;break;case p:return ee=k._init,B(ee(k._payload),$,Z,ie,_e)}}if(ee)return _e=_e(k),ee=ie===""?"."+W(k,0):ie,N(_e)?(Z="",ee!=null&&(Z=ee.replace(Q,"$&/")+"/"),B(_e,$,Z,"",function(ze){return ze})):_e!=null&&(j(_e)&&(_e=G(_e,Z+(_e.key==null||k&&k.key===_e.key?"":(""+_e.key).replace(Q,"$&/")+"/")+ee)),$.push(_e)),1;ee=0;var be=ie===""?".":ie+":";if(N(k))for(var ye=0;ye<k.length;ye++)ie=k[ye],te=be+W(ie,ye),ee+=B(ie,$,Z,te,_e);else if(ye=b(k),typeof ye=="function")for(k=ye.call(k),ye=0;!(ie=k.next()).done;)ie=ie.value,te=be+W(ie,ye++),ee+=B(ie,$,Z,te,_e);else if(te==="object"){if(typeof k.then=="function")return B(re(k),$,Z,ie,_e);throw $=String(k),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ee}function V(k,$,Z){if(k==null)return k;var ie=[],_e=0;return B(k,ie,"","",function(te){return $.call(Z,te,_e++)}),ie}function ce(k){if(k._status===-1){var $=k._result;$=$(),$.then(function(Z){(k._status===0||k._status===-1)&&(k._status=1,k._result=Z)},function(Z){(k._status===0||k._status===-1)&&(k._status=2,k._result=Z)}),k._status===-1&&(k._status=0,k._result=$)}if(k._status===1)return k._result.default;throw k._result}var Te=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Le={map:V,forEach:function(k,$,Z){V(k,function(){$.apply(this,arguments)},Z)},count:function(k){var $=0;return V(k,function(){$++}),$},toArray:function(k){return V(k,function($){return $})||[]},only:function(k){if(!j(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return it.Activity=g,it.Children=Le,it.Component=M,it.Fragment=t,it.Profiler=r,it.PureComponent=C,it.StrictMode=n,it.Suspense=d,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,it.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},it.cache=function(k){return function(){return k.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(k,$,Z){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ie=_({},k.props),_e=k.key;if($!=null)for(te in $.key!==void 0&&(_e=""+$.key),$)!P.call($,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&$.ref===void 0||(ie[te]=$[te]);var te=arguments.length-2;if(te===1)ie.children=Z;else if(1<te){for(var ee=Array(te),be=0;be<te;be++)ee[be]=arguments[be+2];ie.children=ee}return q(k.type,_e,ie)},it.createContext=function(k){return k={$$typeof:l,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:o,_context:k},k},it.createElement=function(k,$,Z){var ie,_e={},te=null;if($!=null)for(ie in $.key!==void 0&&(te=""+$.key),$)P.call($,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(_e[ie]=$[ie]);var ee=arguments.length-2;if(ee===1)_e.children=Z;else if(1<ee){for(var be=Array(ee),ye=0;ye<ee;ye++)be[ye]=arguments[ye+2];_e.children=be}if(k&&k.defaultProps)for(ie in ee=k.defaultProps,ee)_e[ie]===void 0&&(_e[ie]=ee[ie]);return q(k,te,_e)},it.createRef=function(){return{current:null}},it.forwardRef=function(k){return{$$typeof:u,render:k}},it.isValidElement=j,it.lazy=function(k){return{$$typeof:p,_payload:{_status:-1,_result:k},_init:ce}},it.memo=function(k,$){return{$$typeof:f,type:k,compare:$===void 0?null:$}},it.startTransition=function(k){var $=R.T,Z={};R.T=Z;try{var ie=k(),_e=R.S;_e!==null&&_e(Z,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(D,Te)}catch(te){Te(te)}finally{$!==null&&Z.types!==null&&($.types=Z.types),R.T=$}},it.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},it.use=function(k){return R.H.use(k)},it.useActionState=function(k,$,Z){return R.H.useActionState(k,$,Z)},it.useCallback=function(k,$){return R.H.useCallback(k,$)},it.useContext=function(k){return R.H.useContext(k)},it.useDebugValue=function(){},it.useDeferredValue=function(k,$){return R.H.useDeferredValue(k,$)},it.useEffect=function(k,$){return R.H.useEffect(k,$)},it.useEffectEvent=function(k){return R.H.useEffectEvent(k)},it.useId=function(){return R.H.useId()},it.useImperativeHandle=function(k,$,Z){return R.H.useImperativeHandle(k,$,Z)},it.useInsertionEffect=function(k,$){return R.H.useInsertionEffect(k,$)},it.useLayoutEffect=function(k,$){return R.H.useLayoutEffect(k,$)},it.useMemo=function(k,$){return R.H.useMemo(k,$)},it.useOptimistic=function(k,$){return R.H.useOptimistic(k,$)},it.useReducer=function(k,$,Z){return R.H.useReducer(k,$,Z)},it.useRef=function(k){return R.H.useRef(k)},it.useState=function(k){return R.H.useState(k)},it.useSyncExternalStore=function(k,$,Z){return R.H.useSyncExternalStore(k,$,Z)},it.useTransition=function(){return R.H.useTransition()},it.version="19.2.3",it}var Ab;function R0(){return Ab||(Ab=1,tm.exports=VE()),tm.exports}var I=R0(),nm={exports:{}},Zl={},im={exports:{}},sm={};var Cb;function WE(){return Cb||(Cb=1,(function(s){function e(B,V){var ce=B.length;B.push(V);e:for(;0<ce;){var Te=ce-1>>>1,Le=B[Te];if(0<r(Le,V))B[Te]=V,B[ce]=Le,ce=Te;else break e}}function t(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var V=B[0],ce=B.pop();if(ce!==V){B[0]=ce;e:for(var Te=0,Le=B.length,k=Le>>>1;Te<k;){var $=2*(Te+1)-1,Z=B[$],ie=$+1,_e=B[ie];if(0>r(Z,ce))ie<Le&&0>r(_e,Z)?(B[Te]=_e,B[ie]=ce,Te=ie):(B[Te]=Z,B[$]=ce,Te=$);else if(ie<Le&&0>r(_e,ce))B[Te]=_e,B[ie]=ce,Te=ie;else break e}}return V}function r(B,V){var ce=B.sortIndex-V.sortIndex;return ce!==0?ce:B.id-V.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();s.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,g=null,y=3,b=!1,v=!1,_=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function A(B){for(var V=t(f);V!==null;){if(V.callback===null)n(f);else if(V.startTime<=B)n(f),V.sortIndex=V.expirationTime,e(d,V);else break;V=t(f)}}function N(B){if(_=!1,A(B),!v)if(t(d)!==null)v=!0,D||(D=!0,oe());else{var V=t(f);V!==null&&re(N,V.startTime-B)}}var D=!1,R=-1,P=5,q=-1;function G(){return E?!0:!(s.unstable_now()-q<P)}function j(){if(E=!1,D){var B=s.unstable_now();q=B;var V=!0;try{e:{v=!1,_&&(_=!1,S(R),R=-1),b=!0;var ce=y;try{t:{for(A(B),g=t(d);g!==null&&!(g.expirationTime>B&&G());){var Te=g.callback;if(typeof Te=="function"){g.callback=null,y=g.priorityLevel;var Le=Te(g.expirationTime<=B);if(B=s.unstable_now(),typeof Le=="function"){g.callback=Le,A(B),V=!0;break t}g===t(d)&&n(d),A(B)}else n(d);g=t(d)}if(g!==null)V=!0;else{var k=t(f);k!==null&&re(N,k.startTime-B),V=!1}}break e}finally{g=null,y=ce,b=!1}V=void 0}}finally{V?oe():D=!1}}}var oe;if(typeof C=="function")oe=function(){C(j)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,W=Q.port2;Q.port1.onmessage=j,oe=function(){W.postMessage(null)}}else oe=function(){M(j,0)};function re(B,V){R=M(function(){B(s.unstable_now())},V)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return y},s.unstable_next=function(B){switch(y){case 1:case 2:case 3:var V=3;break;default:V=y}var ce=y;y=V;try{return B()}finally{y=ce}},s.unstable_requestPaint=function(){E=!0},s.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ce=y;y=B;try{return V()}finally{y=ce}},s.unstable_scheduleCallback=function(B,V,ce){var Te=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Te+ce:Te):ce=Te,B){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=ce+Le,B={id:p++,callback:V,priorityLevel:B,startTime:ce,expirationTime:Le,sortIndex:-1},ce>Te?(B.sortIndex=ce,e(f,B),t(d)===null&&B===t(f)&&(_?(S(R),R=-1):_=!0,re(N,ce-Te))):(B.sortIndex=Le,e(d,B),v||b||(v=!0,D||(D=!0,oe()))),B},s.unstable_shouldYield=G,s.unstable_wrapCallback=function(B){var V=y;return function(){var ce=y;y=V;try{return B.apply(this,arguments)}finally{y=ce}}}})(sm)),sm}var Rb;function qE(){return Rb||(Rb=1,im.exports=WE()),im.exports}var rm={exports:{}},Ln={};var Nb;function YE(){if(Nb)return Ln;Nb=1;var s=R0();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ln.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,p)},Ln.flushSync=function(d){var f=l.T,p=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=p,n.d.f()}},Ln.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},Ln.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Ln.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):p==="script"&&n.d.X(d,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ln.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},Ln.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);n.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ln.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},Ln.requestFormReset=function(d){n.d.r(d)},Ln.unstable_batchedUpdates=function(d,f){return d(f)},Ln.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},Ln.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ln.version="19.2.3",Ln}var Lb;function XE(){if(Lb)return rm.exports;Lb=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),rm.exports=YE(),rm.exports}var Db;function ZE(){if(Db)return Zl;Db=1;var s=qE(),e=R0(),t=XE();function n(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function l(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function u(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(n(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(n(188));return a!==i?null:i}for(var c=i,h=a;;){var x=c.return;if(x===null)break;var w=x.alternate;if(w===null){if(h=x.return,h!==null){c=h;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===c)return d(x),i;if(w===h)return d(x),a;w=w.sibling}throw Error(n(188))}if(c.return!==h.return)c=x,h=w;else{for(var T=!1,L=x.child;L;){if(L===c){T=!0,c=x,h=w;break}if(L===h){T=!0,h=x,c=w;break}L=L.sibling}if(!T){for(L=w.child;L;){if(L===c){T=!0,c=w,h=x;break}if(L===h){T=!0,h=w,c=x;break}L=L.sibling}if(!T)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:a}function p(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=p(i),a!==null)return a;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function oe(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var Q=Symbol.for("react.client.reference");function W(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Q?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case _:return"Fragment";case M:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case D:return"SuspenseList";case q:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case v:return"Portal";case C:return i.displayName||"Context";case S:return(i._context.displayName||"Context")+".Consumer";case A:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return a=i.displayName||null,a!==null?a:W(i.type)||"Memo";case P:a=i._payload,i=i._init;try{return W(i(a))}catch{}}return null}var re=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Te=[],Le=-1;function k(i){return{current:i}}function $(i){0>Le||(i.current=Te[Le],Te[Le]=null,Le--)}function Z(i,a){Le++,Te[Le]=i.current,i.current=a}var ie=k(null),_e=k(null),te=k(null),ee=k(null);function be(i,a){switch(Z(te,a),Z(_e,i),Z(ie,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?Yv(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=Yv(a),i=Xv(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}$(ie),Z(ie,i)}function ye(){$(ie),$(_e),$(te)}function ze(i){i.memoizedState!==null&&Z(ee,i);var a=ie.current,c=Xv(a,i.type);a!==c&&(Z(_e,i),Z(ie,c))}function je(i){_e.current===i&&($(ie),$(_e)),ee.current===i&&($(ee),Vl._currentValue=ce)}var fe,we;function Ne(i){if(fe===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);fe=a&&a[1]||"",we=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+i+we}var Ge=!1;function De(i,a){if(!i||Ge)return"";Ge=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(he){var le=he}Reflect.construct(i,[],ve)}else{try{ve.call()}catch(he){le=he}i.call(ve.prototype)}}else{try{throw Error()}catch(he){le=he}(ve=i())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(he){if(he&&le&&typeof he.stack=="string")return[he.stack,le.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),T=w[0],L=w[1];if(T&&L){var H=T.split(`
`),se=L.split(`
`);for(x=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;x<se.length&&!se[x].includes("DetermineComponentFrameRoot");)x++;if(h===H.length||x===se.length)for(h=H.length-1,x=se.length-1;1<=h&&0<=x&&H[h]!==se[x];)x--;for(;1<=h&&0<=x;h--,x--)if(H[h]!==se[x]){if(h!==1||x!==1)do if(h--,x--,0>x||H[h]!==se[x]){var ge=`
`+H[h].replace(" at new "," at ");return i.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",i.displayName)),ge}while(1<=h&&0<=x);break}}}finally{Ge=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?Ne(c):""}function F(i,a){switch(i.tag){case 26:case 27:case 5:return Ne(i.type);case 16:return Ne("Lazy");case 13:return i.child!==a&&a!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return De(i.type,!1);case 11:return De(i.type.render,!1);case 1:return De(i.type,!0);case 31:return Ne("Activity");default:return""}}function U(i){try{var a="",c=null;do a+=F(i,c),c=i,i=i.return;while(i);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var pe=Object.prototype.hasOwnProperty,Re=s.unstable_scheduleCallback,Ce=s.unstable_cancelCallback,ke=s.unstable_shouldYield,Qe=s.unstable_requestPaint,Pe=s.unstable_now,$e=s.unstable_getCurrentPriorityLevel,Ve=s.unstable_ImmediatePriority,J=s.unstable_UserBlockingPriority,Oe=s.unstable_NormalPriority,Se=s.unstable_LowPriority,qe=s.unstable_IdlePriority,We=s.log,ot=s.unstable_setDisableYieldValue,Gt=null,Mt=null;function un(i){if(typeof We=="function"&&ot(i),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Gt,i)}catch{}}var ut=Math.clz32?Math.clz32:al,Qn=Math.log,Un=Math.LN2;function al(i){return i>>>=0,i===0?32:31-(Qn(i)/Un|0)|0}var es=256,ts=262144,Fn=4194304;function fi(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ns(i,a,c){var h=i.pendingLanes;if(h===0)return 0;var x=0,w=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var L=h&134217727;return L!==0?(h=L&~w,h!==0?x=fi(h):(T&=L,T!==0?x=fi(T):c||(c=L&~i,c!==0&&(x=fi(c))))):(L=h&~w,L!==0?x=fi(L):T!==0?x=fi(T):c||(c=h&~i,c!==0&&(x=fi(c)))),x===0?0:a!==0&&a!==x&&(a&w)===0&&(w=x&-x,c=a&-a,w>=c||w===32&&(c&4194048)!==0)?a:x}function is(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function js(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ra(){var i=Fn;return Fn<<=1,(Fn&62914560)===0&&(Fn=4194304),i}function ss(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function ji(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Na(i,a,c,h,x,w){var T=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var L=i.entanglements,H=i.expirationTimes,se=i.hiddenUpdates;for(c=T&~c;0<c;){var ge=31-ut(c),ve=1<<ge;L[ge]=0,H[ge]=-1;var le=se[ge];if(le!==null)for(se[ge]=null,ge=0;ge<le.length;ge++){var he=le[ge];he!==null&&(he.lane&=-536870913)}c&=~ve}h!==0&&Y(i,h,0),w!==0&&x===0&&i.tag!==0&&(i.suspendedLanes|=w&~(T&~a))}function Y(i,a,c){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-ut(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|c&261930}function Ae(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var h=31-ut(c),x=1<<h;x&a|i[h]&a&&(i[h]|=a),c&=~x}}function O(i,a){var c=a&-a;return c=(c&42)!==0?1:ae(c),(c&(i.suspendedLanes|a))!==0?0:c}function ae(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function me(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function de(){var i=V.p;return i!==0?i:(i=window.event,i===void 0?32:xb(i.type))}function Me(i,a){var c=V.p;try{return V.p=i,a()}finally{V.p=c}}var Ke=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Ke,He="__reactProps$"+Ke,nt="__reactContainer$"+Ke,wt="__reactEvents$"+Ke,ht="__reactListeners$"+Ke,vt="__reactHandles$"+Ke,kt="__reactResources$"+Ke,Kn="__reactMarker$"+Ke;function xt(i){delete i[Fe],delete i[He],delete i[wt],delete i[ht],delete i[vt]}function pi(i){var a=i[Fe];if(a)return a;for(var c=i.parentNode;c;){if(a=c[nt]||c[Fe]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=tb(i);i!==null;){if(c=i[Fe])return c;i=tb(i)}return a}i=c,c=i.parentNode}return null}function St(i){if(i=i[Fe]||i[nt]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function $n(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(n(33))}function In(i){var a=i[kt];return a||(a=i[kt]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ut(i){i[Kn]=!0}var Ai=new Set,jt={};function ei(i,a){mn(i,a),mn(i+"Capture",a)}function mn(i,a){for(jt[i]=a,i=0;i<a.length;i++)Ai.add(a[i])}var zS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pg={},kg={};function OS(i){return pe.call(kg,i)?!0:pe.call(Pg,i)?!1:zS.test(i)?kg[i]=!0:(Pg[i]=!0,!1)}function Qc(i,a,c){if(OS(a))if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+c)}}function Kc(i,a,c){if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+c)}}function rs(i,a,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(a,c,""+h)}}function mi(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function jg(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function BS(i,a,c){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,w=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return x.call(this)},set:function(T){c=""+T,w.call(this,T)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function qd(i){if(!i._valueTracker){var a=jg(i)?"checked":"value";i._valueTracker=BS(i,a,""+i[a])}}function Fg(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return i&&(h=jg(i)?i.checked?"true":"false":i.value),i=h,i!==c?(a.setValue(i),!0):!1}function $c(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var US=/[\n"\\]/g;function gi(i){return i.replace(US,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Yd(i,a,c,h,x,w,T,L){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),a!=null?T==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+mi(a)):i.value!==""+mi(a)&&(i.value=""+mi(a)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),a!=null?Xd(i,T,mi(a)):c!=null?Xd(i,T,mi(c)):h!=null&&i.removeAttribute("value"),x==null&&w!=null&&(i.defaultChecked=!!w),x!=null&&(i.checked=x&&typeof x!="function"&&typeof x!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.name=""+mi(L):i.removeAttribute("name")}function Ig(i,a,c,h,x,w,T,L){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),a!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||a!=null)){qd(i);return}c=c!=null?""+mi(c):"",a=a!=null?""+mi(a):c,L||a===i.value||(i.value=a),i.defaultValue=a}h=h??x,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=L?i.checked:!!h,i.defaultChecked=!!h,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),qd(i)}function Xd(i,a,c){a==="number"&&$c(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function La(i,a,c,h){if(i=i.options,a){a={};for(var x=0;x<c.length;x++)a["$"+c[x]]=!0;for(c=0;c<i.length;c++)x=a.hasOwnProperty("$"+i[c].value),i[c].selected!==x&&(i[c].selected=x),x&&h&&(i[c].defaultSelected=!0)}else{for(c=""+mi(c),a=null,x=0;x<i.length;x++){if(i[x].value===c){i[x].selected=!0,h&&(i[x].defaultSelected=!0);return}a!==null||i[x].disabled||(a=i[x])}a!==null&&(a.selected=!0)}}function Hg(i,a,c){if(a!=null&&(a=""+mi(a),a!==i.value&&(i.value=a),c==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=c!=null?""+mi(c):""}function Gg(i,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(n(92));if(re(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=mi(a),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h),qd(i)}function Da(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var PS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vg(i,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,c):typeof c!="number"||c===0||PS.has(a)?a==="float"?i.cssFloat=c:i[a]=(""+c).trim():i[a]=c+"px"}function Wg(i,a,c){if(a!=null&&typeof a!="object")throw Error(n(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var x in a)h=a[x],a.hasOwnProperty(x)&&c[x]!==h&&Vg(i,x,h)}else for(var w in a)a.hasOwnProperty(w)&&Vg(i,w,a[w])}function Zd(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eu(i){return jS.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function as(){}var Jd=null;function Qd(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var za=null,Oa=null;function qg(i){var a=St(i);if(a&&(i=a.stateNode)){var c=i[He]||null;e:switch(i=a.stateNode,a.type){case"input":if(Yd(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+gi(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==i&&h.form===i.form){var x=h[He]||null;if(!x)throw Error(n(90));Yd(h,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===i.form&&Fg(h)}break e;case"textarea":Hg(i,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&La(i,!!c.multiple,a,!1)}}}var Kd=!1;function Yg(i,a,c){if(Kd)return i(a,c);Kd=!0;try{var h=i(a);return h}finally{if(Kd=!1,(za!==null||Oa!==null)&&(Iu(),za&&(a=za,i=Oa,Oa=za=null,qg(a),i)))for(a=0;a<i.length;a++)qg(i[a])}}function ol(i,a){var c=i.stateNode;if(c===null)return null;var h=c[He]||null;if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$d=!1;if(os)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){$d=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{$d=!1}var Fs=null,ef=null,tu=null;function Xg(){if(tu)return tu;var i,a=ef,c=a.length,h,x="value"in Fs?Fs.value:Fs.textContent,w=x.length;for(i=0;i<c&&a[i]===x[i];i++);var T=c-i;for(h=1;h<=T&&a[c-h]===x[w-h];h++);return tu=x.slice(i,1<h?1-h:void 0)}function nu(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function iu(){return!0}function Zg(){return!1}function Hn(i){function a(c,h,x,w,T){this._reactName=c,this._targetInst=x,this.type=h,this.nativeEvent=w,this.target=T,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(c=i[L],this[L]=c?c(w):w[L]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?iu:Zg,this.isPropagationStopped=Zg,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=iu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=iu)},persist:function(){},isPersistent:iu}),a}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},su=Hn(Rr),cl=g({},Rr,{view:0,detail:0}),FS=Hn(cl),tf,nf,ul,ru=g({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ul&&(ul&&i.type==="mousemove"?(tf=i.screenX-ul.screenX,nf=i.screenY-ul.screenY):nf=tf=0,ul=i),tf)},movementY:function(i){return"movementY"in i?i.movementY:nf}}),Jg=Hn(ru),IS=g({},ru,{dataTransfer:0}),HS=Hn(IS),GS=g({},cl,{relatedTarget:0}),sf=Hn(GS),VS=g({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),WS=Hn(VS),qS=g({},Rr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),YS=Hn(qS),XS=g({},Rr,{data:0}),Qg=Hn(XS),ZS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KS(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=QS[i])?!!a[i]:!1}function rf(){return KS}var $S=g({},cl,{key:function(i){if(i.key){var a=ZS[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=nu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?JS[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rf,charCode:function(i){return i.type==="keypress"?nu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?nu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),e3=Hn($S),t3=g({},ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kg=Hn(t3),n3=g({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rf}),i3=Hn(n3),s3=g({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),r3=Hn(s3),a3=g({},ru,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),o3=Hn(a3),l3=g({},Rr,{newState:0,oldState:0}),c3=Hn(l3),u3=[9,13,27,32],af=os&&"CompositionEvent"in window,hl=null;os&&"documentMode"in document&&(hl=document.documentMode);var h3=os&&"TextEvent"in window&&!hl,$g=os&&(!af||hl&&8<hl&&11>=hl),ex=" ",tx=!1;function nx(i,a){switch(i){case"keyup":return u3.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ix(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ba=!1;function d3(i,a){switch(i){case"compositionend":return ix(a);case"keypress":return a.which!==32?null:(tx=!0,ex);case"textInput":return i=a.data,i===ex&&tx?null:i;default:return null}}function f3(i,a){if(Ba)return i==="compositionend"||!af&&nx(i,a)?(i=Xg(),tu=ef=Fs=null,Ba=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return $g&&a.locale!=="ko"?null:a.data;default:return null}}var p3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sx(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!p3[i.type]:a==="textarea"}function rx(i,a,c,h){za?Oa?Oa.push(h):Oa=[h]:za=h,a=Xu(a,"onChange"),0<a.length&&(c=new su("onChange","change",null,c,h),i.push({event:c,listeners:a}))}var dl=null,fl=null;function m3(i){Iv(i,0)}function au(i){var a=$n(i);if(Fg(a))return i}function ax(i,a){if(i==="change")return a}var ox=!1;if(os){var of;if(os){var lf="oninput"in document;if(!lf){var lx=document.createElement("div");lx.setAttribute("oninput","return;"),lf=typeof lx.oninput=="function"}of=lf}else of=!1;ox=of&&(!document.documentMode||9<document.documentMode)}function cx(){dl&&(dl.detachEvent("onpropertychange",ux),fl=dl=null)}function ux(i){if(i.propertyName==="value"&&au(fl)){var a=[];rx(a,fl,i,Qd(i)),Yg(m3,a)}}function g3(i,a,c){i==="focusin"?(cx(),dl=a,fl=c,dl.attachEvent("onpropertychange",ux)):i==="focusout"&&cx()}function x3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return au(fl)}function y3(i,a){if(i==="click")return au(a)}function v3(i,a){if(i==="input"||i==="change")return au(a)}function b3(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var ti=typeof Object.is=="function"?Object.is:b3;function pl(i,a){if(ti(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var x=c[h];if(!pe.call(a,x)||!ti(i[x],a[x]))return!1}return!0}function hx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function dx(i,a){var c=hx(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=a&&h>=a)return{node:c,offset:a-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=hx(c)}}function fx(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?fx(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function px(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=$c(i.document);a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=$c(i.document)}return a}function cf(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var w3=os&&"documentMode"in document&&11>=document.documentMode,Ua=null,uf=null,ml=null,hf=!1;function mx(i,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;hf||Ua==null||Ua!==$c(h)||(h=Ua,"selectionStart"in h&&cf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ml&&pl(ml,h)||(ml=h,h=Xu(uf,"onSelect"),0<h.length&&(a=new su("onSelect","select",null,a,c),i.push({event:a,listeners:h}),a.target=Ua)))}function Nr(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var Pa={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},df={},gx={};os&&(gx=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Lr(i){if(df[i])return df[i];if(!Pa[i])return i;var a=Pa[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in gx)return df[i]=a[c];return i}var xx=Lr("animationend"),yx=Lr("animationiteration"),vx=Lr("animationstart"),_3=Lr("transitionrun"),M3=Lr("transitionstart"),S3=Lr("transitioncancel"),bx=Lr("transitionend"),wx=new Map,ff="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ff.push("scrollEnd");function Ci(i,a){wx.set(i,a),ei(a,[i])}var ou=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},xi=[],ka=0,pf=0;function lu(){for(var i=ka,a=pf=ka=0;a<i;){var c=xi[a];xi[a++]=null;var h=xi[a];xi[a++]=null;var x=xi[a];xi[a++]=null;var w=xi[a];if(xi[a++]=null,h!==null&&x!==null){var T=h.pending;T===null?x.next=x:(x.next=T.next,T.next=x),h.pending=x}w!==0&&_x(c,x,w)}}function cu(i,a,c,h){xi[ka++]=i,xi[ka++]=a,xi[ka++]=c,xi[ka++]=h,pf|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function mf(i,a,c,h){return cu(i,a,c,h),uu(i)}function Dr(i,a){return cu(i,null,null,a),uu(i)}function _x(i,a,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var x=!1,w=i.return;w!==null;)w.childLanes|=c,h=w.alternate,h!==null&&(h.childLanes|=c),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(x=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,x&&a!==null&&(x=31-ut(c),i=w.hiddenUpdates,h=i[x],h===null?i[x]=[a]:h.push(a),a.lane=c|536870912),w):null}function uu(i){if(50<Pl)throw Pl=0,Sp=null,Error(n(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var ja={};function E3(i,a,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(i,a,c,h){return new E3(i,a,c,h)}function gf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ls(i,a){var c=i.alternate;return c===null?(c=ni(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function Mx(i,a){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,a=c.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function hu(i,a,c,h,x,w){var T=0;if(h=i,typeof i=="function")gf(i)&&(T=1);else if(typeof i=="string")T=NE(i,c,ie.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case q:return i=ni(31,c,a,x),i.elementType=q,i.lanes=w,i;case _:return zr(c.children,x,w,a);case E:T=8,x|=24;break;case M:return i=ni(12,c,a,x|2),i.elementType=M,i.lanes=w,i;case N:return i=ni(13,c,a,x),i.elementType=N,i.lanes=w,i;case D:return i=ni(19,c,a,x),i.elementType=D,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:T=10;break e;case S:T=9;break e;case A:T=11;break e;case R:T=14;break e;case P:T=16,h=null;break e}T=29,c=Error(n(130,i===null?"null":typeof i,"")),h=null}return a=ni(T,c,a,x),a.elementType=i,a.type=h,a.lanes=w,a}function zr(i,a,c,h){return i=ni(7,i,h,a),i.lanes=c,i}function xf(i,a,c){return i=ni(6,i,null,a),i.lanes=c,i}function Sx(i){var a=ni(18,null,null,0);return a.stateNode=i,a}function yf(i,a,c){return a=ni(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Ex=new WeakMap;function yi(i,a){if(typeof i=="object"&&i!==null){var c=Ex.get(i);return c!==void 0?c:(a={value:i,source:a,stack:U(a)},Ex.set(i,a),a)}return{value:i,source:a,stack:U(a)}}var Fa=[],Ia=0,du=null,gl=0,vi=[],bi=0,Is=null,Fi=1,Ii="";function cs(i,a){Fa[Ia++]=gl,Fa[Ia++]=du,du=i,gl=a}function Tx(i,a,c){vi[bi++]=Fi,vi[bi++]=Ii,vi[bi++]=Is,Is=i;var h=Fi;i=Ii;var x=32-ut(h)-1;h&=~(1<<x),c+=1;var w=32-ut(a)+x;if(30<w){var T=x-x%5;w=(h&(1<<T)-1).toString(32),h>>=T,x-=T,Fi=1<<32-ut(a)+x|c<<x|h,Ii=w+i}else Fi=1<<w|c<<x|h,Ii=i}function vf(i){i.return!==null&&(cs(i,1),Tx(i,1,0))}function bf(i){for(;i===du;)du=Fa[--Ia],Fa[Ia]=null,gl=Fa[--Ia],Fa[Ia]=null;for(;i===Is;)Is=vi[--bi],vi[bi]=null,Ii=vi[--bi],vi[bi]=null,Fi=vi[--bi],vi[bi]=null}function Ax(i,a){vi[bi++]=Fi,vi[bi++]=Ii,vi[bi++]=Is,Fi=a.id,Ii=a.overflow,Is=i}var wn=null,Ft=null,yt=!1,Hs=null,wi=!1,wf=Error(n(519));function Gs(i){var a=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xl(yi(a,i)),wf}function Cx(i){var a=i.stateNode,c=i.type,h=i.memoizedProps;switch(a[Fe]=i,a[He]=h,c){case"dialog":ft("cancel",a),ft("close",a);break;case"iframe":case"object":case"embed":ft("load",a);break;case"video":case"audio":for(c=0;c<jl.length;c++)ft(jl[c],a);break;case"source":ft("error",a);break;case"img":case"image":case"link":ft("error",a),ft("load",a);break;case"details":ft("toggle",a);break;case"input":ft("invalid",a),Ig(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":ft("invalid",a);break;case"textarea":ft("invalid",a),Gg(a,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||Wv(a.textContent,c)?(h.popover!=null&&(ft("beforetoggle",a),ft("toggle",a)),h.onScroll!=null&&ft("scroll",a),h.onScrollEnd!=null&&ft("scrollend",a),h.onClick!=null&&(a.onclick=as),a=!0):a=!1,a||Gs(i,!0)}function Rx(i){for(wn=i.return;wn;)switch(wn.tag){case 5:case 31:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:wn=wn.return}}function Ha(i){if(i!==wn)return!1;if(!yt)return Rx(i),yt=!0,!1;var a=i.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||jp(i.type,i.memoizedProps)),c=!c),c&&Ft&&Gs(i),Rx(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Ft=eb(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Ft=eb(i)}else a===27?(a=Ft,ir(i.type)?(i=Vp,Vp=null,Ft=i):Ft=a):Ft=wn?Mi(i.stateNode.nextSibling):null;return!0}function Or(){Ft=wn=null,yt=!1}function _f(){var i=Hs;return i!==null&&(qn===null?qn=i:qn.push.apply(qn,i),Hs=null),i}function xl(i){Hs===null?Hs=[i]:Hs.push(i)}var Mf=k(null),Br=null,us=null;function Vs(i,a,c){Z(Mf,a._currentValue),a._currentValue=c}function hs(i){i._currentValue=Mf.current,$(Mf)}function Sf(i,a,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===c)break;i=i.return}}function Ef(i,a,c,h){var x=i.child;for(x!==null&&(x.return=i);x!==null;){var w=x.dependencies;if(w!==null){var T=x.child;w=w.firstContext;e:for(;w!==null;){var L=w;w=x;for(var H=0;H<a.length;H++)if(L.context===a[H]){w.lanes|=c,L=w.alternate,L!==null&&(L.lanes|=c),Sf(w.return,c,i),h||(T=null);break e}w=L.next}}else if(x.tag===18){if(T=x.return,T===null)throw Error(n(341));T.lanes|=c,w=T.alternate,w!==null&&(w.lanes|=c),Sf(T,c,i),T=null}else T=x.child;if(T!==null)T.return=x;else for(T=x;T!==null;){if(T===i){T=null;break}if(x=T.sibling,x!==null){x.return=T.return,T=x;break}T=T.return}x=T}}function Ga(i,a,c,h){i=null;for(var x=a,w=!1;x!==null;){if(!w){if((x.flags&524288)!==0)w=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var T=x.alternate;if(T===null)throw Error(n(387));if(T=T.memoizedProps,T!==null){var L=x.type;ti(x.pendingProps.value,T.value)||(i!==null?i.push(L):i=[L])}}else if(x===ee.current){if(T=x.alternate,T===null)throw Error(n(387));T.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(i!==null?i.push(Vl):i=[Vl])}x=x.return}i!==null&&Ef(a,i,c,h),a.flags|=262144}function fu(i){for(i=i.firstContext;i!==null;){if(!ti(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ur(i){Br=i,us=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function _n(i){return Nx(Br,i)}function pu(i,a){return Br===null&&Ur(i),Nx(i,a)}function Nx(i,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},us===null){if(i===null)throw Error(n(308));us=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else us=us.next=a;return c}var T3=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(c){return c()})}},A3=s.unstable_scheduleCallback,C3=s.unstable_NormalPriority,nn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new T3,data:new Map,refCount:0}}function yl(i){i.refCount--,i.refCount===0&&A3(C3,function(){i.controller.abort()})}var vl=null,Af=0,Va=0,Wa=null;function R3(i,a){if(vl===null){var c=vl=[];Af=0,Va=Np(),Wa={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Af++,a.then(Lx,Lx),a}function Lx(){if(--Af===0&&vl!==null){Wa!==null&&(Wa.status="fulfilled");var i=vl;vl=null,Va=0,Wa=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function N3(i,a){var c=[],h={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var x=0;x<c.length;x++)(0,c[x])(a)},function(x){for(h.status="rejected",h.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),h}var Dx=B.S;B.S=function(i,a){mv=Pe(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&R3(i,a),Dx!==null&&Dx(i,a)};var Pr=k(null);function Cf(){var i=Pr.current;return i!==null?i:Bt.pooledCache}function mu(i,a){a===null?Z(Pr,Pr.current):Z(Pr,a.pool)}function zx(){var i=Cf();return i===null?null:{parent:nn._currentValue,pool:i}}var qa=Error(n(460)),Rf=Error(n(474)),gu=Error(n(542)),xu={then:function(){}};function Ox(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Bx(i,a,c){switch(c=i[c],c===void 0?i.push(a):c!==a&&(a.then(as,as),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Px(i),i;default:if(typeof a.status=="string")a.then(as,as);else{if(i=Bt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var x=a;x.status="fulfilled",x.value=h}},function(h){if(a.status==="pending"){var x=a;x.status="rejected",x.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Px(i),i}throw jr=a,qa}}function kr(i){try{var a=i._init;return a(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(jr=c,qa):c}}var jr=null;function Ux(){if(jr===null)throw Error(n(459));var i=jr;return jr=null,i}function Px(i){if(i===qa||i===gu)throw Error(n(483))}var Ya=null,bl=0;function yu(i){var a=bl;return bl+=1,Ya===null&&(Ya=[]),Bx(Ya,i,a)}function wl(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function vu(i,a){throw a.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function kx(i){function a(K,X){if(i){var ne=K.deletions;ne===null?(K.deletions=[X],K.flags|=16):ne.push(X)}}function c(K,X){if(!i)return null;for(;X!==null;)a(K,X),X=X.sibling;return null}function h(K){for(var X=new Map;K!==null;)K.key!==null?X.set(K.key,K):X.set(K.index,K),K=K.sibling;return X}function x(K,X){return K=ls(K,X),K.index=0,K.sibling=null,K}function w(K,X,ne){return K.index=ne,i?(ne=K.alternate,ne!==null?(ne=ne.index,ne<X?(K.flags|=67108866,X):ne):(K.flags|=67108866,X)):(K.flags|=1048576,X)}function T(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function L(K,X,ne,xe){return X===null||X.tag!==6?(X=xf(ne,K.mode,xe),X.return=K,X):(X=x(X,ne),X.return=K,X)}function H(K,X,ne,xe){var Je=ne.type;return Je===_?ge(K,X,ne.props.children,xe,ne.key):X!==null&&(X.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===P&&kr(Je)===X.type)?(X=x(X,ne.props),wl(X,ne),X.return=K,X):(X=hu(ne.type,ne.key,ne.props,null,K.mode,xe),wl(X,ne),X.return=K,X)}function se(K,X,ne,xe){return X===null||X.tag!==4||X.stateNode.containerInfo!==ne.containerInfo||X.stateNode.implementation!==ne.implementation?(X=yf(ne,K.mode,xe),X.return=K,X):(X=x(X,ne.children||[]),X.return=K,X)}function ge(K,X,ne,xe,Je){return X===null||X.tag!==7?(X=zr(ne,K.mode,xe,Je),X.return=K,X):(X=x(X,ne),X.return=K,X)}function ve(K,X,ne){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=xf(""+X,K.mode,ne),X.return=K,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return ne=hu(X.type,X.key,X.props,null,K.mode,ne),wl(ne,X),ne.return=K,ne;case v:return X=yf(X,K.mode,ne),X.return=K,X;case P:return X=kr(X),ve(K,X,ne)}if(re(X)||oe(X))return X=zr(X,K.mode,ne,null),X.return=K,X;if(typeof X.then=="function")return ve(K,yu(X),ne);if(X.$$typeof===C)return ve(K,pu(K,X),ne);vu(K,X)}return null}function le(K,X,ne,xe){var Je=X!==null?X.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Je!==null?null:L(K,X,""+ne,xe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:return ne.key===Je?H(K,X,ne,xe):null;case v:return ne.key===Je?se(K,X,ne,xe):null;case P:return ne=kr(ne),le(K,X,ne,xe)}if(re(ne)||oe(ne))return Je!==null?null:ge(K,X,ne,xe,null);if(typeof ne.then=="function")return le(K,X,yu(ne),xe);if(ne.$$typeof===C)return le(K,X,pu(K,ne),xe);vu(K,ne)}return null}function he(K,X,ne,xe,Je){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return K=K.get(ne)||null,L(X,K,""+xe,Je);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:return K=K.get(xe.key===null?ne:xe.key)||null,H(X,K,xe,Je);case v:return K=K.get(xe.key===null?ne:xe.key)||null,se(X,K,xe,Je);case P:return xe=kr(xe),he(K,X,ne,xe,Je)}if(re(xe)||oe(xe))return K=K.get(ne)||null,ge(X,K,xe,Je,null);if(typeof xe.then=="function")return he(K,X,ne,yu(xe),Je);if(xe.$$typeof===C)return he(K,X,ne,pu(X,xe),Je);vu(X,xe)}return null}function Ie(K,X,ne,xe){for(var Je=null,Et=null,Ye=X,at=X=0,gt=null;Ye!==null&&at<ne.length;at++){Ye.index>at?(gt=Ye,Ye=null):gt=Ye.sibling;var Tt=le(K,Ye,ne[at],xe);if(Tt===null){Ye===null&&(Ye=gt);break}i&&Ye&&Tt.alternate===null&&a(K,Ye),X=w(Tt,X,at),Et===null?Je=Tt:Et.sibling=Tt,Et=Tt,Ye=gt}if(at===ne.length)return c(K,Ye),yt&&cs(K,at),Je;if(Ye===null){for(;at<ne.length;at++)Ye=ve(K,ne[at],xe),Ye!==null&&(X=w(Ye,X,at),Et===null?Je=Ye:Et.sibling=Ye,Et=Ye);return yt&&cs(K,at),Je}for(Ye=h(Ye);at<ne.length;at++)gt=he(Ye,K,at,ne[at],xe),gt!==null&&(i&&gt.alternate!==null&&Ye.delete(gt.key===null?at:gt.key),X=w(gt,X,at),Et===null?Je=gt:Et.sibling=gt,Et=gt);return i&&Ye.forEach(function(lr){return a(K,lr)}),yt&&cs(K,at),Je}function et(K,X,ne,xe){if(ne==null)throw Error(n(151));for(var Je=null,Et=null,Ye=X,at=X=0,gt=null,Tt=ne.next();Ye!==null&&!Tt.done;at++,Tt=ne.next()){Ye.index>at?(gt=Ye,Ye=null):gt=Ye.sibling;var lr=le(K,Ye,Tt.value,xe);if(lr===null){Ye===null&&(Ye=gt);break}i&&Ye&&lr.alternate===null&&a(K,Ye),X=w(lr,X,at),Et===null?Je=lr:Et.sibling=lr,Et=lr,Ye=gt}if(Tt.done)return c(K,Ye),yt&&cs(K,at),Je;if(Ye===null){for(;!Tt.done;at++,Tt=ne.next())Tt=ve(K,Tt.value,xe),Tt!==null&&(X=w(Tt,X,at),Et===null?Je=Tt:Et.sibling=Tt,Et=Tt);return yt&&cs(K,at),Je}for(Ye=h(Ye);!Tt.done;at++,Tt=ne.next())Tt=he(Ye,K,at,Tt.value,xe),Tt!==null&&(i&&Tt.alternate!==null&&Ye.delete(Tt.key===null?at:Tt.key),X=w(Tt,X,at),Et===null?Je=Tt:Et.sibling=Tt,Et=Tt);return i&&Ye.forEach(function(IE){return a(K,IE)}),yt&&cs(K,at),Je}function Ot(K,X,ne,xe){if(typeof ne=="object"&&ne!==null&&ne.type===_&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:e:{for(var Je=ne.key;X!==null;){if(X.key===Je){if(Je=ne.type,Je===_){if(X.tag===7){c(K,X.sibling),xe=x(X,ne.props.children),xe.return=K,K=xe;break e}}else if(X.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===P&&kr(Je)===X.type){c(K,X.sibling),xe=x(X,ne.props),wl(xe,ne),xe.return=K,K=xe;break e}c(K,X);break}else a(K,X);X=X.sibling}ne.type===_?(xe=zr(ne.props.children,K.mode,xe,ne.key),xe.return=K,K=xe):(xe=hu(ne.type,ne.key,ne.props,null,K.mode,xe),wl(xe,ne),xe.return=K,K=xe)}return T(K);case v:e:{for(Je=ne.key;X!==null;){if(X.key===Je)if(X.tag===4&&X.stateNode.containerInfo===ne.containerInfo&&X.stateNode.implementation===ne.implementation){c(K,X.sibling),xe=x(X,ne.children||[]),xe.return=K,K=xe;break e}else{c(K,X);break}else a(K,X);X=X.sibling}xe=yf(ne,K.mode,xe),xe.return=K,K=xe}return T(K);case P:return ne=kr(ne),Ot(K,X,ne,xe)}if(re(ne))return Ie(K,X,ne,xe);if(oe(ne)){if(Je=oe(ne),typeof Je!="function")throw Error(n(150));return ne=Je.call(ne),et(K,X,ne,xe)}if(typeof ne.then=="function")return Ot(K,X,yu(ne),xe);if(ne.$$typeof===C)return Ot(K,X,pu(K,ne),xe);vu(K,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,X!==null&&X.tag===6?(c(K,X.sibling),xe=x(X,ne),xe.return=K,K=xe):(c(K,X),xe=xf(ne,K.mode,xe),xe.return=K,K=xe),T(K)):c(K,X)}return function(K,X,ne,xe){try{bl=0;var Je=Ot(K,X,ne,xe);return Ya=null,Je}catch(Ye){if(Ye===qa||Ye===gu)throw Ye;var Et=ni(29,Ye,null,K.mode);return Et.lanes=xe,Et.return=K,Et}}}var Fr=kx(!0),jx=kx(!1),Ws=!1;function Nf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lf(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function qs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ys(i,a,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(At&2)!==0){var x=h.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),h.pending=a,a=uu(i),_x(i,null,c),a}return cu(i,h,a,c),uu(i)}function _l(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,c|=h,a.lanes=c,Ae(i,c)}}function Df(i,a){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var x=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?x=w=T:w=w.next=T,c=c.next}while(c!==null);w===null?x=w=a:w=w.next=a}else x=w=a;c={baseState:h.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}var zf=!1;function Ml(){if(zf){var i=Wa;if(i!==null)throw i}}function Sl(i,a,c,h){zf=!1;var x=i.updateQueue;Ws=!1;var w=x.firstBaseUpdate,T=x.lastBaseUpdate,L=x.shared.pending;if(L!==null){x.shared.pending=null;var H=L,se=H.next;H.next=null,T===null?w=se:T.next=se,T=H;var ge=i.alternate;ge!==null&&(ge=ge.updateQueue,L=ge.lastBaseUpdate,L!==T&&(L===null?ge.firstBaseUpdate=se:L.next=se,ge.lastBaseUpdate=H))}if(w!==null){var ve=x.baseState;T=0,ge=se=H=null,L=w;do{var le=L.lane&-536870913,he=le!==L.lane;if(he?(mt&le)===le:(h&le)===le){le!==0&&le===Va&&(zf=!0),ge!==null&&(ge=ge.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Ie=i,et=L;le=a;var Ot=c;switch(et.tag){case 1:if(Ie=et.payload,typeof Ie=="function"){ve=Ie.call(Ot,ve,le);break e}ve=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=et.payload,le=typeof Ie=="function"?Ie.call(Ot,ve,le):Ie,le==null)break e;ve=g({},ve,le);break e;case 2:Ws=!0}}le=L.callback,le!==null&&(i.flags|=64,he&&(i.flags|=8192),he=x.callbacks,he===null?x.callbacks=[le]:he.push(le))}else he={lane:le,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ge===null?(se=ge=he,H=ve):ge=ge.next=he,T|=le;if(L=L.next,L===null){if(L=x.shared.pending,L===null)break;he=L,L=he.next,he.next=null,x.lastBaseUpdate=he,x.shared.pending=null}}while(!0);ge===null&&(H=ve),x.baseState=H,x.firstBaseUpdate=se,x.lastBaseUpdate=ge,w===null&&(x.shared.lanes=0),Ks|=T,i.lanes=T,i.memoizedState=ve}}function Fx(i,a){if(typeof i!="function")throw Error(n(191,i));i.call(a)}function Ix(i,a){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)Fx(c[i],a)}var Xa=k(null),bu=k(0);function Hx(i,a){i=bs,Z(bu,i),Z(Xa,a),bs=i|a.baseLanes}function Of(){Z(bu,bs),Z(Xa,Xa.current)}function Bf(){bs=bu.current,$(Xa),$(bu)}var ii=k(null),_i=null;function Xs(i){var a=i.alternate;Z(Zt,Zt.current&1),Z(ii,i),_i===null&&(a===null||Xa.current!==null||a.memoizedState!==null)&&(_i=i)}function Uf(i){Z(Zt,Zt.current),Z(ii,i),_i===null&&(_i=i)}function Gx(i){i.tag===22?(Z(Zt,Zt.current),Z(ii,i),_i===null&&(_i=i)):Zs()}function Zs(){Z(Zt,Zt.current),Z(ii,ii.current)}function si(i){$(ii),_i===i&&(_i=null),$(Zt)}var Zt=k(0);function wu(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Hp(c)||Gp(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ds=0,st=null,Dt=null,sn=null,_u=!1,Za=!1,Ir=!1,Mu=0,El=0,Ja=null,L3=0;function qt(){throw Error(n(321))}function Pf(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!ti(i[c],a[c]))return!1;return!0}function kf(i,a,c,h,x,w){return ds=w,st=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=i===null||i.memoizedState===null?Ty:$f,Ir=!1,w=c(h,x),Ir=!1,Za&&(w=Wx(a,c,h,x)),Vx(i),w}function Vx(i){B.H=Cl;var a=Dt!==null&&Dt.next!==null;if(ds=0,sn=Dt=st=null,_u=!1,El=0,Ja=null,a)throw Error(n(300));i===null||rn||(i=i.dependencies,i!==null&&fu(i)&&(rn=!0))}function Wx(i,a,c,h){st=i;var x=0;do{if(Za&&(Ja=null),El=0,Za=!1,25<=x)throw Error(n(301));if(x+=1,sn=Dt=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}B.H=Ay,w=a(c,h)}while(Za);return w}function D3(){var i=B.H,a=i.useState()[0];return a=typeof a.then=="function"?Tl(a):a,i=i.useState()[0],(Dt!==null?Dt.memoizedState:null)!==i&&(st.flags|=1024),a}function jf(){var i=Mu!==0;return Mu=0,i}function Ff(i,a,c){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~c}function If(i){if(_u){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}_u=!1}ds=0,sn=Dt=st=null,Za=!1,El=Mu=0,Ja=null}function Pn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?st.memoizedState=sn=i:sn=sn.next=i,sn}function Jt(){if(Dt===null){var i=st.alternate;i=i!==null?i.memoizedState:null}else i=Dt.next;var a=sn===null?st.memoizedState:sn.next;if(a!==null)sn=a,Dt=i;else{if(i===null)throw st.alternate===null?Error(n(467)):Error(n(310));Dt=i,i={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},sn===null?st.memoizedState=sn=i:sn=sn.next=i}return sn}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(i){var a=El;return El+=1,Ja===null&&(Ja=[]),i=Bx(Ja,i,a),a=st,(sn===null?a.memoizedState:sn.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?Ty:$f),i}function Eu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Tl(i);if(i.$$typeof===C)return _n(i)}throw Error(n(438,String(i)))}function Hf(i){var a=null,c=st.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=st.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(x){return x.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Su(),st.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(i),h=0;h<i;h++)c[h]=G;return a.index++,c}function fs(i,a){return typeof a=="function"?a(i):a}function Tu(i){var a=Jt();return Gf(a,Dt,i)}function Gf(i,a,c){var h=i.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=c;var x=i.baseQueue,w=h.pending;if(w!==null){if(x!==null){var T=x.next;x.next=w.next,w.next=T}a.baseQueue=x=w,h.pending=null}if(w=i.baseState,x===null)i.memoizedState=w;else{a=x.next;var L=T=null,H=null,se=a,ge=!1;do{var ve=se.lane&-536870913;if(ve!==se.lane?(mt&ve)===ve:(ds&ve)===ve){var le=se.revertLane;if(le===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),ve===Va&&(ge=!0);else if((ds&le)===le){se=se.next,le===Va&&(ge=!0);continue}else ve={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?(L=H=ve,T=w):H=H.next=ve,st.lanes|=le,Ks|=le;ve=se.action,Ir&&c(w,ve),w=se.hasEagerState?se.eagerState:c(w,ve)}else le={lane:ve,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?(L=H=le,T=w):H=H.next=le,st.lanes|=ve,Ks|=ve;se=se.next}while(se!==null&&se!==a);if(H===null?T=w:H.next=L,!ti(w,i.memoizedState)&&(rn=!0,ge&&(c=Wa,c!==null)))throw c;i.memoizedState=w,i.baseState=T,i.baseQueue=H,h.lastRenderedState=w}return x===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Vf(i){var a=Jt(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=c.dispatch,x=c.pending,w=a.memoizedState;if(x!==null){c.pending=null;var T=x=x.next;do w=i(w,T.action),T=T.next;while(T!==x);ti(w,a.memoizedState)||(rn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,h]}function qx(i,a,c){var h=st,x=Jt(),w=yt;if(w){if(c===void 0)throw Error(n(407));c=c()}else c=a();var T=!ti((Dt||x).memoizedState,c);if(T&&(x.memoizedState=c,rn=!0),x=x.queue,Yf(Zx.bind(null,h,x,i),[i]),x.getSnapshot!==a||T||sn!==null&&sn.memoizedState.tag&1){if(h.flags|=2048,Qa(9,{destroy:void 0},Xx.bind(null,h,x,c,a),null),Bt===null)throw Error(n(349));w||(ds&127)!==0||Yx(h,a,c)}return c}function Yx(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=st.updateQueue,a===null?(a=Su(),st.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function Xx(i,a,c,h){a.value=c,a.getSnapshot=h,Jx(a)&&Qx(i)}function Zx(i,a,c){return c(function(){Jx(a)&&Qx(i)})}function Jx(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!ti(i,c)}catch{return!0}}function Qx(i){var a=Dr(i,2);a!==null&&Yn(a,i,2)}function Wf(i){var a=Pn();if(typeof i=="function"){var c=i;if(i=c(),Ir){un(!0);try{c()}finally{un(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:i},a}function Kx(i,a,c,h){return i.baseState=c,Gf(i,Dt,typeof h=="function"?h:fs)}function z3(i,a,c,h,x){if(Ru(i))throw Error(n(485));if(i=a.action,i!==null){var w={payload:x,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){w.listeners.push(T)}};B.T!==null?c(!0):w.isTransition=!1,h(w),c=a.pending,c===null?(w.next=a.pending=w,$x(a,w)):(w.next=c.next,a.pending=c.next=w)}}function $x(i,a){var c=a.action,h=a.payload,x=i.state;if(a.isTransition){var w=B.T,T={};B.T=T;try{var L=c(x,h),H=B.S;H!==null&&H(T,L),ey(i,a,L)}catch(se){qf(i,a,se)}finally{w!==null&&T.types!==null&&(w.types=T.types),B.T=w}}else try{w=c(x,h),ey(i,a,w)}catch(se){qf(i,a,se)}}function ey(i,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){ty(i,a,h)},function(h){return qf(i,a,h)}):ty(i,a,c)}function ty(i,a,c){a.status="fulfilled",a.value=c,ny(a),i.state=c,a=i.pending,a!==null&&(c=a.next,c===a?i.pending=null:(c=c.next,a.next=c,$x(i,c)))}function qf(i,a,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,ny(a),a=a.next;while(a!==h)}i.action=null}function ny(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function iy(i,a){return a}function sy(i,a){if(yt){var c=Bt.formState;if(c!==null){e:{var h=st;if(yt){if(Ft){t:{for(var x=Ft,w=wi;x.nodeType!==8;){if(!w){x=null;break t}if(x=Mi(x.nextSibling),x===null){x=null;break t}}w=x.data,x=w==="F!"||w==="F"?x:null}if(x){Ft=Mi(x.nextSibling),h=x.data==="F!";break e}}Gs(h)}h=!1}h&&(a=c[0])}}return c=Pn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iy,lastRenderedState:a},c.queue=h,c=My.bind(null,st,h),h.dispatch=c,h=Wf(!1),w=Kf.bind(null,st,!1,h.queue),h=Pn(),x={state:a,dispatch:null,action:i,pending:null},h.queue=x,c=z3.bind(null,st,x,w,c),x.dispatch=c,h.memoizedState=i,[a,c,!1]}function ry(i){var a=Jt();return ay(a,Dt,i)}function ay(i,a,c){if(a=Gf(i,a,iy)[0],i=Tu(fs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Tl(a)}catch(T){throw T===qa?gu:T}else h=a;a=Jt();var x=a.queue,w=x.dispatch;return c!==a.memoizedState&&(st.flags|=2048,Qa(9,{destroy:void 0},O3.bind(null,x,c),null)),[h,w,i]}function O3(i,a){i.action=a}function oy(i){var a=Jt(),c=Dt;if(c!==null)return ay(a,c,i);Jt(),a=a.memoizedState,c=Jt();var h=c.queue.dispatch;return c.memoizedState=i,[a,h,!1]}function Qa(i,a,c,h){return i={tag:i,create:c,deps:h,inst:a,next:null},a=st.updateQueue,a===null&&(a=Su(),st.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,a.lastEffect=i),i}function ly(){return Jt().memoizedState}function Au(i,a,c,h){var x=Pn();st.flags|=i,x.memoizedState=Qa(1|a,{destroy:void 0},c,h===void 0?null:h)}function Cu(i,a,c,h){var x=Jt();h=h===void 0?null:h;var w=x.memoizedState.inst;Dt!==null&&h!==null&&Pf(h,Dt.memoizedState.deps)?x.memoizedState=Qa(a,w,c,h):(st.flags|=i,x.memoizedState=Qa(1|a,w,c,h))}function cy(i,a){Au(8390656,8,i,a)}function Yf(i,a){Cu(2048,8,i,a)}function B3(i){st.flags|=4;var a=st.updateQueue;if(a===null)a=Su(),st.updateQueue=a,a.events=[i];else{var c=a.events;c===null?a.events=[i]:c.push(i)}}function uy(i){var a=Jt().memoizedState;return B3({ref:a,nextImpl:i}),function(){if((At&2)!==0)throw Error(n(440));return a.impl.apply(void 0,arguments)}}function hy(i,a){return Cu(4,2,i,a)}function dy(i,a){return Cu(4,4,i,a)}function fy(i,a){if(typeof a=="function"){i=i();var c=a(i);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function py(i,a,c){c=c!=null?c.concat([i]):null,Cu(4,4,fy.bind(null,a,i),c)}function Xf(){}function my(i,a){var c=Jt();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&Pf(a,h[1])?h[0]:(c.memoizedState=[i,a],i)}function gy(i,a){var c=Jt();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&Pf(a,h[1]))return h[0];if(h=i(),Ir){un(!0);try{i()}finally{un(!1)}}return c.memoizedState=[h,a],h}function Zf(i,a,c){return c===void 0||(ds&1073741824)!==0&&(mt&261930)===0?i.memoizedState=a:(i.memoizedState=c,i=xv(),st.lanes|=i,Ks|=i,c)}function xy(i,a,c,h){return ti(c,a)?c:Xa.current!==null?(i=Zf(i,c,h),ti(i,a)||(rn=!0),i):(ds&42)===0||(ds&1073741824)!==0&&(mt&261930)===0?(rn=!0,i.memoizedState=c):(i=xv(),st.lanes|=i,Ks|=i,a)}function yy(i,a,c,h,x){var w=V.p;V.p=w!==0&&8>w?w:8;var T=B.T,L={};B.T=L,Kf(i,!1,a,c);try{var H=x(),se=B.S;if(se!==null&&se(L,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ge=N3(H,h);Al(i,a,ge,oi(i))}else Al(i,a,h,oi(i))}catch(ve){Al(i,a,{then:function(){},status:"rejected",reason:ve},oi())}finally{V.p=w,T!==null&&L.types!==null&&(T.types=L.types),B.T=T}}function U3(){}function Jf(i,a,c,h){if(i.tag!==5)throw Error(n(476));var x=vy(i).queue;yy(i,x,a,ce,c===null?U3:function(){return by(i),c(h)})}function vy(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:ce},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:c},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function by(i){var a=vy(i);a.next===null&&(a=i.alternate.memoizedState),Al(i,a.next.queue,{},oi())}function Qf(){return _n(Vl)}function wy(){return Jt().memoizedState}function _y(){return Jt().memoizedState}function P3(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var c=oi();i=qs(c);var h=Ys(a,i,c);h!==null&&(Yn(h,a,c),_l(h,a,c)),a={cache:Tf()},i.payload=a;return}a=a.return}}function k3(i,a,c){var h=oi();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ru(i)?Sy(a,c):(c=mf(i,a,c,h),c!==null&&(Yn(c,i,h),Ey(c,a,h)))}function My(i,a,c){var h=oi();Al(i,a,c,h)}function Al(i,a,c,h){var x={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ru(i))Sy(a,x);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var T=a.lastRenderedState,L=w(T,c);if(x.hasEagerState=!0,x.eagerState=L,ti(L,T))return cu(i,a,x,0),Bt===null&&lu(),!1}catch{}if(c=mf(i,a,x,h),c!==null)return Yn(c,i,h),Ey(c,a,h),!0}return!1}function Kf(i,a,c,h){if(h={lane:2,revertLane:Np(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Ru(i)){if(a)throw Error(n(479))}else a=mf(i,c,h,2),a!==null&&Yn(a,i,2)}function Ru(i){var a=i.alternate;return i===st||a!==null&&a===st}function Sy(i,a){Za=_u=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function Ey(i,a,c){if((c&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,c|=h,a.lanes=c,Ae(i,c)}}var Cl={readContext:_n,use:Eu,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt};Cl.useEffectEvent=qt;var Ty={readContext:_n,use:Eu,useCallback:function(i,a){return Pn().memoizedState=[i,a===void 0?null:a],i},useContext:_n,useEffect:cy,useImperativeHandle:function(i,a,c){c=c!=null?c.concat([i]):null,Au(4194308,4,fy.bind(null,a,i),c)},useLayoutEffect:function(i,a){return Au(4194308,4,i,a)},useInsertionEffect:function(i,a){Au(4,2,i,a)},useMemo:function(i,a){var c=Pn();a=a===void 0?null:a;var h=i();if(Ir){un(!0);try{i()}finally{un(!1)}}return c.memoizedState=[h,a],h},useReducer:function(i,a,c){var h=Pn();if(c!==void 0){var x=c(a);if(Ir){un(!0);try{c(a)}finally{un(!1)}}}else x=a;return h.memoizedState=h.baseState=x,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:x},h.queue=i,i=i.dispatch=k3.bind(null,st,i),[h.memoizedState,i]},useRef:function(i){var a=Pn();return i={current:i},a.memoizedState=i},useState:function(i){i=Wf(i);var a=i.queue,c=My.bind(null,st,a);return a.dispatch=c,[i.memoizedState,c]},useDebugValue:Xf,useDeferredValue:function(i,a){var c=Pn();return Zf(c,i,a)},useTransition:function(){var i=Wf(!1);return i=yy.bind(null,st,i.queue,!0,!1),Pn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,c){var h=st,x=Pn();if(yt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),Bt===null)throw Error(n(349));(mt&127)!==0||Yx(h,a,c)}x.memoizedState=c;var w={value:c,getSnapshot:a};return x.queue=w,cy(Zx.bind(null,h,w,i),[i]),h.flags|=2048,Qa(9,{destroy:void 0},Xx.bind(null,h,w,c,a),null),c},useId:function(){var i=Pn(),a=Bt.identifierPrefix;if(yt){var c=Ii,h=Fi;c=(h&~(1<<32-ut(h)-1)).toString(32)+c,a="_"+a+"R_"+c,c=Mu++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=L3++,a="_"+a+"r_"+c.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Qf,useFormState:sy,useActionState:sy,useOptimistic:function(i){var a=Pn();a.memoizedState=a.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Kf.bind(null,st,!0,c),c.dispatch=a,[i,a]},useMemoCache:Hf,useCacheRefresh:function(){return Pn().memoizedState=P3.bind(null,st)},useEffectEvent:function(i){var a=Pn(),c={impl:i};return a.memoizedState=c,function(){if((At&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},$f={readContext:_n,use:Eu,useCallback:my,useContext:_n,useEffect:Yf,useImperativeHandle:py,useInsertionEffect:hy,useLayoutEffect:dy,useMemo:gy,useReducer:Tu,useRef:ly,useState:function(){return Tu(fs)},useDebugValue:Xf,useDeferredValue:function(i,a){var c=Jt();return xy(c,Dt.memoizedState,i,a)},useTransition:function(){var i=Tu(fs)[0],a=Jt().memoizedState;return[typeof i=="boolean"?i:Tl(i),a]},useSyncExternalStore:qx,useId:wy,useHostTransitionStatus:Qf,useFormState:ry,useActionState:ry,useOptimistic:function(i,a){var c=Jt();return Kx(c,Dt,i,a)},useMemoCache:Hf,useCacheRefresh:_y};$f.useEffectEvent=uy;var Ay={readContext:_n,use:Eu,useCallback:my,useContext:_n,useEffect:Yf,useImperativeHandle:py,useInsertionEffect:hy,useLayoutEffect:dy,useMemo:gy,useReducer:Vf,useRef:ly,useState:function(){return Vf(fs)},useDebugValue:Xf,useDeferredValue:function(i,a){var c=Jt();return Dt===null?Zf(c,i,a):xy(c,Dt.memoizedState,i,a)},useTransition:function(){var i=Vf(fs)[0],a=Jt().memoizedState;return[typeof i=="boolean"?i:Tl(i),a]},useSyncExternalStore:qx,useId:wy,useHostTransitionStatus:Qf,useFormState:oy,useActionState:oy,useOptimistic:function(i,a){var c=Jt();return Dt!==null?Kx(c,Dt,i,a):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Hf,useCacheRefresh:_y};Ay.useEffectEvent=uy;function ep(i,a,c,h){a=i.memoizedState,c=c(h,a),c=c==null?a:g({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var tp={enqueueSetState:function(i,a,c){i=i._reactInternals;var h=oi(),x=qs(h);x.payload=a,c!=null&&(x.callback=c),a=Ys(i,x,h),a!==null&&(Yn(a,i,h),_l(a,i,h))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var h=oi(),x=qs(h);x.tag=1,x.payload=a,c!=null&&(x.callback=c),a=Ys(i,x,h),a!==null&&(Yn(a,i,h),_l(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=oi(),h=qs(c);h.tag=2,a!=null&&(h.callback=a),a=Ys(i,h,c),a!==null&&(Yn(a,i,c),_l(a,i,c))}};function Cy(i,a,c,h,x,w,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,T):a.prototype&&a.prototype.isPureReactComponent?!pl(c,h)||!pl(x,w):!0}function Ry(i,a,c,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==i&&tp.enqueueReplaceState(a,a.state,null)}function Hr(i,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(i=i.defaultProps){c===a&&(c=g({},c));for(var x in i)c[x]===void 0&&(c[x]=i[x])}return c}function Ny(i){ou(i)}function Ly(i){console.error(i)}function Dy(i){ou(i)}function Nu(i,a){try{var c=i.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function zy(i,a,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function np(i,a,c){return c=qs(c),c.tag=3,c.payload={element:null},c.callback=function(){Nu(i,a)},c}function Oy(i){return i=qs(i),i.tag=3,i}function By(i,a,c,h){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var w=h.value;i.payload=function(){return x(w)},i.callback=function(){zy(a,c,h)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){zy(a,c,h),typeof x!="function"&&($s===null?$s=new Set([this]):$s.add(this));var L=h.stack;this.componentDidCatch(h.value,{componentStack:L!==null?L:""})})}function j3(i,a,c,h,x){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&Ga(a,c,x,!0),c=ii.current,c!==null){switch(c.tag){case 31:case 13:return _i===null?Hu():c.alternate===null&&Yt===0&&(Yt=3),c.flags&=-257,c.flags|=65536,c.lanes=x,h===xu?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),Ap(i,h,x)),!1;case 22:return c.flags|=65536,h===xu?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),Ap(i,h,x)),!1}throw Error(n(435,c.tag))}return Ap(i,h,x),Hu(),!1}if(yt)return a=ii.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=x,h!==wf&&(i=Error(n(422),{cause:h}),xl(yi(i,c)))):(h!==wf&&(a=Error(n(423),{cause:h}),xl(yi(a,c))),i=i.current.alternate,i.flags|=65536,x&=-x,i.lanes|=x,h=yi(h,c),x=np(i.stateNode,h,x),Df(i,x),Yt!==4&&(Yt=2)),!1;var w=Error(n(520),{cause:h});if(w=yi(w,c),Ul===null?Ul=[w]:Ul.push(w),Yt!==4&&(Yt=2),a===null)return!0;h=yi(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,i=x&-x,c.lanes|=i,i=np(c.stateNode,h,i),Df(c,i),!1;case 1:if(a=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&($s===null||!$s.has(w))))return c.flags|=65536,x&=-x,c.lanes|=x,x=Oy(x),By(x,i,c,h),Df(c,x),!1}c=c.return}while(c!==null);return!1}var ip=Error(n(461)),rn=!1;function Mn(i,a,c,h){a.child=i===null?jx(a,null,c,h):Fr(a,i.child,c,h)}function Uy(i,a,c,h,x){c=c.render;var w=a.ref;if("ref"in h){var T={};for(var L in h)L!=="ref"&&(T[L]=h[L])}else T=h;return Ur(a),h=kf(i,a,c,T,w,x),L=jf(),i!==null&&!rn?(Ff(i,a,x),ps(i,a,x)):(yt&&L&&vf(a),a.flags|=1,Mn(i,a,h,x),a.child)}function Py(i,a,c,h,x){if(i===null){var w=c.type;return typeof w=="function"&&!gf(w)&&w.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=w,ky(i,a,w,h,x)):(i=hu(c.type,null,h,a,a.mode,x),i.ref=a.ref,i.return=a,a.child=i)}if(w=i.child,!hp(i,x)){var T=w.memoizedProps;if(c=c.compare,c=c!==null?c:pl,c(T,h)&&i.ref===a.ref)return ps(i,a,x)}return a.flags|=1,i=ls(w,h),i.ref=a.ref,i.return=a,a.child=i}function ky(i,a,c,h,x){if(i!==null){var w=i.memoizedProps;if(pl(w,h)&&i.ref===a.ref)if(rn=!1,a.pendingProps=h=w,hp(i,x))(i.flags&131072)!==0&&(rn=!0);else return a.lanes=i.lanes,ps(i,a,x)}return sp(i,a,c,h,x)}function jy(i,a,c,h){var x=h.children,w=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,i!==null){for(h=a.child=i.child,x=0;h!==null;)x=x|h.lanes|h.childLanes,h=h.sibling;h=x&~w}else h=0,a.child=null;return Fy(i,a,w,c,h)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&mu(a,w!==null?w.cachePool:null),w!==null?Hx(a,w):Of(),Gx(a);else return h=a.lanes=536870912,Fy(i,a,w!==null?w.baseLanes|c:c,c,h)}else w!==null?(mu(a,w.cachePool),Hx(a,w),Zs(),a.memoizedState=null):(i!==null&&mu(a,null),Of(),Zs());return Mn(i,a,x,c),a.child}function Rl(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Fy(i,a,c,h,x){var w=Cf();return w=w===null?null:{parent:nn._currentValue,pool:w},a.memoizedState={baseLanes:c,cachePool:w},i!==null&&mu(a,null),Of(),Gx(a),i!==null&&Ga(i,a,h,!0),a.childLanes=x,null}function Lu(i,a){return a=zu({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function Iy(i,a,c){return Fr(a,i.child,null,c),i=Lu(a,a.pendingProps),i.flags|=2,si(a),a.memoizedState=null,i}function F3(i,a,c){var h=a.pendingProps,x=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(yt){if(h.mode==="hidden")return i=Lu(a,h),a.lanes=536870912,Rl(null,i);if(Uf(a),(i=Ft)?(i=$v(i,wi),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Is!==null?{id:Fi,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},c=Sx(i),c.return=a,a.child=c,wn=a,Ft=null)):i=null,i===null)throw Gs(a);return a.lanes=536870912,null}return Lu(a,h)}var w=i.memoizedState;if(w!==null){var T=w.dehydrated;if(Uf(a),x)if(a.flags&256)a.flags&=-257,a=Iy(i,a,c);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(n(558));else if(rn||Ga(i,a,c,!1),x=(c&i.childLanes)!==0,rn||x){if(h=Bt,h!==null&&(T=O(h,c),T!==0&&T!==w.retryLane))throw w.retryLane=T,Dr(i,T),Yn(h,i,T),ip;Hu(),a=Iy(i,a,c)}else i=w.treeContext,Ft=Mi(T.nextSibling),wn=a,yt=!0,Hs=null,wi=!1,i!==null&&Ax(a,i),a=Lu(a,h),a.flags|=4096;return a}return i=ls(i.child,{mode:h.mode,children:h.children}),i.ref=a.ref,a.child=i,i.return=a,i}function Du(i,a){var c=a.ref;if(c===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(i===null||i.ref!==c)&&(a.flags|=4194816)}}function sp(i,a,c,h,x){return Ur(a),c=kf(i,a,c,h,void 0,x),h=jf(),i!==null&&!rn?(Ff(i,a,x),ps(i,a,x)):(yt&&h&&vf(a),a.flags|=1,Mn(i,a,c,x),a.child)}function Hy(i,a,c,h,x,w){return Ur(a),a.updateQueue=null,c=Wx(a,h,c,x),Vx(i),h=jf(),i!==null&&!rn?(Ff(i,a,w),ps(i,a,w)):(yt&&h&&vf(a),a.flags|=1,Mn(i,a,c,w),a.child)}function Gy(i,a,c,h,x){if(Ur(a),a.stateNode===null){var w=ja,T=c.contextType;typeof T=="object"&&T!==null&&(w=_n(T)),w=new c(h,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=tp,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=h,w.state=a.memoizedState,w.refs={},Nf(a),T=c.contextType,w.context=typeof T=="object"&&T!==null?_n(T):ja,w.state=a.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(ep(a,c,T,h),w.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(T=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),T!==w.state&&tp.enqueueReplaceState(w,w.state,null),Sl(a,h,w,x),Ml(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){w=a.stateNode;var L=a.memoizedProps,H=Hr(c,L);w.props=H;var se=w.context,ge=c.contextType;T=ja,typeof ge=="object"&&ge!==null&&(T=_n(ge));var ve=c.getDerivedStateFromProps;ge=typeof ve=="function"||typeof w.getSnapshotBeforeUpdate=="function",L=a.pendingProps!==L,ge||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(L||se!==T)&&Ry(a,w,h,T),Ws=!1;var le=a.memoizedState;w.state=le,Sl(a,h,w,x),Ml(),se=a.memoizedState,L||le!==se||Ws?(typeof ve=="function"&&(ep(a,c,ve,h),se=a.memoizedState),(H=Ws||Cy(a,c,H,h,le,se,T))?(ge||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=se),w.props=h,w.state=se,w.context=T,h=H):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{w=a.stateNode,Lf(i,a),T=a.memoizedProps,ge=Hr(c,T),w.props=ge,ve=a.pendingProps,le=w.context,se=c.contextType,H=ja,typeof se=="object"&&se!==null&&(H=_n(se)),L=c.getDerivedStateFromProps,(se=typeof L=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==ve||le!==H)&&Ry(a,w,h,H),Ws=!1,le=a.memoizedState,w.state=le,Sl(a,h,w,x),Ml();var he=a.memoizedState;T!==ve||le!==he||Ws||i!==null&&i.dependencies!==null&&fu(i.dependencies)?(typeof L=="function"&&(ep(a,c,L,h),he=a.memoizedState),(ge=Ws||Cy(a,c,ge,h,le,he,H)||i!==null&&i.dependencies!==null&&fu(i.dependencies))?(se||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,he,H),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,he,H)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||T===i.memoizedProps&&le===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&le===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=he),w.props=h,w.state=he,w.context=H,h=ge):(typeof w.componentDidUpdate!="function"||T===i.memoizedProps&&le===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&le===i.memoizedState||(a.flags|=1024),h=!1)}return w=h,Du(i,a),h=(a.flags&128)!==0,w||h?(w=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,i!==null&&h?(a.child=Fr(a,i.child,null,x),a.child=Fr(a,null,c,x)):Mn(i,a,c,x),a.memoizedState=w.state,i=a.child):i=ps(i,a,x),i}function Vy(i,a,c,h){return Or(),a.flags|=256,Mn(i,a,c,h),a.child}var rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ap(i){return{baseLanes:i,cachePool:zx()}}function op(i,a,c){return i=i!==null?i.childLanes&~c:0,a&&(i|=ai),i}function Wy(i,a,c){var h=a.pendingProps,x=!1,w=(a.flags&128)!==0,T;if((T=w)||(T=i!==null&&i.memoizedState===null?!1:(Zt.current&2)!==0),T&&(x=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,i===null){if(yt){if(x?Xs(a):Zs(),(i=Ft)?(i=$v(i,wi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Is!==null?{id:Fi,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},c=Sx(i),c.return=a,a.child=c,wn=a,Ft=null)):i=null,i===null)throw Gs(a);return Gp(i)?a.lanes=32:a.lanes=536870912,null}var L=h.children;return h=h.fallback,x?(Zs(),x=a.mode,L=zu({mode:"hidden",children:L},x),h=zr(h,x,c,null),L.return=a,h.return=a,L.sibling=h,a.child=L,h=a.child,h.memoizedState=ap(c),h.childLanes=op(i,T,c),a.memoizedState=rp,Rl(null,h)):(Xs(a),lp(a,L))}var H=i.memoizedState;if(H!==null&&(L=H.dehydrated,L!==null)){if(w)a.flags&256?(Xs(a),a.flags&=-257,a=cp(i,a,c)):a.memoizedState!==null?(Zs(),a.child=i.child,a.flags|=128,a=null):(Zs(),L=h.fallback,x=a.mode,h=zu({mode:"visible",children:h.children},x),L=zr(L,x,c,null),L.flags|=2,h.return=a,L.return=a,h.sibling=L,a.child=h,Fr(a,i.child,null,c),h=a.child,h.memoizedState=ap(c),h.childLanes=op(i,T,c),a.memoizedState=rp,a=Rl(null,h));else if(Xs(a),Gp(L)){if(T=L.nextSibling&&L.nextSibling.dataset,T)var se=T.dgst;T=se,h=Error(n(419)),h.stack="",h.digest=T,xl({value:h,source:null,stack:null}),a=cp(i,a,c)}else if(rn||Ga(i,a,c,!1),T=(c&i.childLanes)!==0,rn||T){if(T=Bt,T!==null&&(h=O(T,c),h!==0&&h!==H.retryLane))throw H.retryLane=h,Dr(i,h),Yn(T,i,h),ip;Hp(L)||Hu(),a=cp(i,a,c)}else Hp(L)?(a.flags|=192,a.child=i.child,a=null):(i=H.treeContext,Ft=Mi(L.nextSibling),wn=a,yt=!0,Hs=null,wi=!1,i!==null&&Ax(a,i),a=lp(a,h.children),a.flags|=4096);return a}return x?(Zs(),L=h.fallback,x=a.mode,H=i.child,se=H.sibling,h=ls(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,se!==null?L=ls(se,L):(L=zr(L,x,c,null),L.flags|=2),L.return=a,h.return=a,h.sibling=L,a.child=h,Rl(null,h),h=a.child,L=i.child.memoizedState,L===null?L=ap(c):(x=L.cachePool,x!==null?(H=nn._currentValue,x=x.parent!==H?{parent:H,pool:H}:x):x=zx(),L={baseLanes:L.baseLanes|c,cachePool:x}),h.memoizedState=L,h.childLanes=op(i,T,c),a.memoizedState=rp,Rl(i.child,h)):(Xs(a),c=i.child,i=c.sibling,c=ls(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,i!==null&&(T=a.deletions,T===null?(a.deletions=[i],a.flags|=16):T.push(i)),a.child=c,a.memoizedState=null,c)}function lp(i,a){return a=zu({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function zu(i,a){return i=ni(22,i,null,a),i.lanes=0,i}function cp(i,a,c){return Fr(a,i.child,null,c),i=lp(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function qy(i,a,c){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),Sf(i.return,a,c)}function up(i,a,c,h,x,w){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:x,treeForkCount:w}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=h,T.tail=c,T.tailMode=x,T.treeForkCount=w)}function Yy(i,a,c){var h=a.pendingProps,x=h.revealOrder,w=h.tail;h=h.children;var T=Zt.current,L=(T&2)!==0;if(L?(T=T&1|2,a.flags|=128):T&=1,Z(Zt,T),Mn(i,a,h,c),h=yt?gl:0,!L&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&qy(i,c,a);else if(i.tag===19)qy(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(x){case"forwards":for(c=a.child,x=null;c!==null;)i=c.alternate,i!==null&&wu(i)===null&&(x=c),c=c.sibling;c=x,c===null?(x=a.child,a.child=null):(x=c.sibling,c.sibling=null),up(a,!1,x,c,w,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,x=a.child,a.child=null;x!==null;){if(i=x.alternate,i!==null&&wu(i)===null){a.child=x;break}i=x.sibling,x.sibling=c,c=x,x=i}up(a,!0,c,null,w,h);break;case"together":up(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function ps(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),Ks|=a.lanes,(c&a.childLanes)===0)if(i!==null){if(Ga(i,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,c=ls(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=ls(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function hp(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&fu(i)))}function I3(i,a,c){switch(a.tag){case 3:be(a,a.stateNode.containerInfo),Vs(a,nn,i.memoizedState.cache),Or();break;case 27:case 5:ze(a);break;case 4:be(a,a.stateNode.containerInfo);break;case 10:Vs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Uf(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Xs(a),a.flags|=128,null):(c&a.child.childLanes)!==0?Wy(i,a,c):(Xs(a),i=ps(i,a,c),i!==null?i.sibling:null);Xs(a);break;case 19:var x=(i.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(Ga(i,a,c,!1),h=(c&a.childLanes)!==0),x){if(h)return Yy(i,a,c);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Z(Zt,Zt.current),h)break;return null;case 22:return a.lanes=0,jy(i,a,c,a.pendingProps);case 24:Vs(a,nn,i.memoizedState.cache)}return ps(i,a,c)}function Xy(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps)rn=!0;else{if(!hp(i,c)&&(a.flags&128)===0)return rn=!1,I3(i,a,c);rn=(i.flags&131072)!==0}else rn=!1,yt&&(a.flags&1048576)!==0&&Tx(a,gl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var h=a.pendingProps;if(i=kr(a.elementType),a.type=i,typeof i=="function")gf(i)?(h=Hr(i,h),a.tag=1,a=Gy(null,a,i,h,c)):(a.tag=0,a=sp(null,a,i,h,c));else{if(i!=null){var x=i.$$typeof;if(x===A){a.tag=11,a=Uy(null,a,i,h,c);break e}else if(x===R){a.tag=14,a=Py(null,a,i,h,c);break e}}throw a=W(i)||i,Error(n(306,a,""))}}return a;case 0:return sp(i,a,a.type,a.pendingProps,c);case 1:return h=a.type,x=Hr(h,a.pendingProps),Gy(i,a,h,x,c);case 3:e:{if(be(a,a.stateNode.containerInfo),i===null)throw Error(n(387));h=a.pendingProps;var w=a.memoizedState;x=w.element,Lf(i,a),Sl(a,h,null,c);var T=a.memoizedState;if(h=T.cache,Vs(a,nn,h),h!==w.cache&&Ef(a,[nn],c,!0),Ml(),h=T.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=Vy(i,a,h,c);break e}else if(h!==x){x=yi(Error(n(424)),a),xl(x),a=Vy(i,a,h,c);break e}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Ft=Mi(i.firstChild),wn=a,yt=!0,Hs=null,wi=!0,c=jx(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Or(),h===x){a=ps(i,a,c);break e}Mn(i,a,h,c)}a=a.child}return a;case 26:return Du(i,a),i===null?(c=rb(a.type,null,a.pendingProps,null))?a.memoizedState=c:yt||(c=a.type,i=a.pendingProps,h=Zu(te.current).createElement(c),h[Fe]=a,h[He]=i,Sn(h,c,i),Ut(h),a.stateNode=h):a.memoizedState=rb(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return ze(a),i===null&&yt&&(h=a.stateNode=nb(a.type,a.pendingProps,te.current),wn=a,wi=!0,x=Ft,ir(a.type)?(Vp=x,Ft=Mi(h.firstChild)):Ft=x),Mn(i,a,a.pendingProps.children,c),Du(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&yt&&((x=h=Ft)&&(h=xE(h,a.type,a.pendingProps,wi),h!==null?(a.stateNode=h,wn=a,Ft=Mi(h.firstChild),wi=!1,x=!0):x=!1),x||Gs(a)),ze(a),x=a.type,w=a.pendingProps,T=i!==null?i.memoizedProps:null,h=w.children,jp(x,w)?h=null:T!==null&&jp(x,T)&&(a.flags|=32),a.memoizedState!==null&&(x=kf(i,a,D3,null,null,c),Vl._currentValue=x),Du(i,a),Mn(i,a,h,c),a.child;case 6:return i===null&&yt&&((i=c=Ft)&&(c=yE(c,a.pendingProps,wi),c!==null?(a.stateNode=c,wn=a,Ft=null,i=!0):i=!1),i||Gs(a)),null;case 13:return Wy(i,a,c);case 4:return be(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=Fr(a,null,h,c):Mn(i,a,h,c),a.child;case 11:return Uy(i,a,a.type,a.pendingProps,c);case 7:return Mn(i,a,a.pendingProps,c),a.child;case 8:return Mn(i,a,a.pendingProps.children,c),a.child;case 12:return Mn(i,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,Vs(a,a.type,h.value),Mn(i,a,h.children,c),a.child;case 9:return x=a.type._context,h=a.pendingProps.children,Ur(a),x=_n(x),h=h(x),a.flags|=1,Mn(i,a,h,c),a.child;case 14:return Py(i,a,a.type,a.pendingProps,c);case 15:return ky(i,a,a.type,a.pendingProps,c);case 19:return Yy(i,a,c);case 31:return F3(i,a,c);case 22:return jy(i,a,c,a.pendingProps);case 24:return Ur(a),h=_n(nn),i===null?(x=Cf(),x===null&&(x=Bt,w=Tf(),x.pooledCache=w,w.refCount++,w!==null&&(x.pooledCacheLanes|=c),x=w),a.memoizedState={parent:h,cache:x},Nf(a),Vs(a,nn,x)):((i.lanes&c)!==0&&(Lf(i,a),Sl(a,null,null,c),Ml()),x=i.memoizedState,w=a.memoizedState,x.parent!==h?(x={parent:h,cache:h},a.memoizedState=x,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=x),Vs(a,nn,h)):(h=w.cache,Vs(a,nn,h),h!==x.cache&&Ef(a,[nn],c,!0))),Mn(i,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(n(156,a.tag))}function ms(i){i.flags|=4}function dp(i,a,c,h,x){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(x&335544128)===x)if(i.stateNode.complete)i.flags|=8192;else if(wv())i.flags|=8192;else throw jr=xu,Rf}else i.flags&=-16777217}function Zy(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ub(a))if(wv())i.flags|=8192;else throw jr=xu,Rf}function Ou(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Ra():536870912,i.lanes|=a,to|=a)}function Nl(i,a){if(!yt)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function It(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(a)for(var x=i.child;x!==null;)c|=x.lanes|x.childLanes,h|=x.subtreeFlags&65011712,h|=x.flags&65011712,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)c|=x.lanes|x.childLanes,h|=x.subtreeFlags,h|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=h,i.childLanes=c,a}function H3(i,a,c){var h=a.pendingProps;switch(bf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(a),null;case 1:return It(a),null;case 3:return c=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),hs(nn),ye(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Ha(a)?ms(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,_f())),It(a),null;case 26:var x=a.type,w=a.memoizedState;return i===null?(ms(a),w!==null?(It(a),Zy(a,w)):(It(a),dp(a,x,null,h,c))):w?w!==i.memoizedState?(ms(a),It(a),Zy(a,w)):(It(a),a.flags&=-16777217):(i=i.memoizedProps,i!==h&&ms(a),It(a),dp(a,x,i,h,c)),null;case 27:if(je(a),c=te.current,x=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&ms(a);else{if(!h){if(a.stateNode===null)throw Error(n(166));return It(a),null}i=ie.current,Ha(a)?Cx(a):(i=nb(x,h,c),a.stateNode=i,ms(a))}return It(a),null;case 5:if(je(a),x=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&ms(a);else{if(!h){if(a.stateNode===null)throw Error(n(166));return It(a),null}if(w=ie.current,Ha(a))Cx(a);else{var T=Zu(te.current);switch(w){case 1:w=T.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:w=T.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":w=T.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":w=T.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":w=T.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?T.createElement("select",{is:h.is}):T.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?T.createElement(x,{is:h.is}):T.createElement(x)}}w[Fe]=a,w[He]=h;e:for(T=a.child;T!==null;){if(T.tag===5||T.tag===6)w.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===a)break e;for(;T.sibling===null;){if(T.return===null||T.return===a)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}a.stateNode=w;e:switch(Sn(w,x,h),x){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ms(a)}}return It(a),dp(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,c),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&ms(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(n(166));if(i=te.current,Ha(a)){if(i=a.stateNode,c=a.memoizedProps,h=null,x=wn,x!==null)switch(x.tag){case 27:case 5:h=x.memoizedProps}i[Fe]=a,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Wv(i.nodeValue,c)),i||Gs(a,!0)}else i=Zu(i).createTextNode(h),i[Fe]=a,a.stateNode=i}return It(a),null;case 31:if(c=a.memoizedState,i===null||i.memoizedState!==null){if(h=Ha(a),c!==null){if(i===null){if(!h)throw Error(n(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Fe]=a}else Or(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;It(a),i=!1}else c=_f(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return a.flags&256?(si(a),a):(si(a),null);if((a.flags&128)!==0)throw Error(n(558))}return It(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(x=Ha(a),h!==null&&h.dehydrated!==null){if(i===null){if(!x)throw Error(n(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Fe]=a}else Or(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;It(a),x=!1}else x=_f(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=x),x=!0;if(!x)return a.flags&256?(si(a),a):(si(a),null)}return si(a),(a.flags&128)!==0?(a.lanes=c,a):(c=h!==null,i=i!==null&&i.memoizedState!==null,c&&(h=a.child,x=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(x=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==x&&(h.flags|=2048)),c!==i&&c&&(a.child.flags|=8192),Ou(a,a.updateQueue),It(a),null);case 4:return ye(),i===null&&Op(a.stateNode.containerInfo),It(a),null;case 10:return hs(a.type),It(a),null;case 19:if($(Zt),h=a.memoizedState,h===null)return It(a),null;if(x=(a.flags&128)!==0,w=h.rendering,w===null)if(x)Nl(h,!1);else{if(Yt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(w=wu(i),w!==null){for(a.flags|=128,Nl(h,!1),i=w.updateQueue,a.updateQueue=i,Ou(a,i),a.subtreeFlags=0,i=c,c=a.child;c!==null;)Mx(c,i),c=c.sibling;return Z(Zt,Zt.current&1|2),yt&&cs(a,h.treeForkCount),a.child}i=i.sibling}h.tail!==null&&Pe()>ju&&(a.flags|=128,x=!0,Nl(h,!1),a.lanes=4194304)}else{if(!x)if(i=wu(w),i!==null){if(a.flags|=128,x=!0,i=i.updateQueue,a.updateQueue=i,Ou(a,i),Nl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!yt)return It(a),null}else 2*Pe()-h.renderingStartTime>ju&&c!==536870912&&(a.flags|=128,x=!0,Nl(h,!1),a.lanes=4194304);h.isBackwards?(w.sibling=a.child,a.child=w):(i=h.last,i!==null?i.sibling=w:a.child=w,h.last=w)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Pe(),i.sibling=null,c=Zt.current,Z(Zt,x?c&1|2:c&1),yt&&cs(a,h.treeForkCount),i):(It(a),null);case 22:case 23:return si(a),Bf(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(It(a),a.subtreeFlags&6&&(a.flags|=8192)):It(a),c=a.updateQueue,c!==null&&Ou(a,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),i!==null&&$(Pr),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),hs(nn),It(a),null;case 25:return null;case 30:return null}throw Error(n(156,a.tag))}function G3(i,a){switch(bf(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return hs(nn),ye(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return je(a),null;case 31:if(a.memoizedState!==null){if(si(a),a.alternate===null)throw Error(n(340));Or()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(si(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Or()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return $(Zt),null;case 4:return ye(),null;case 10:return hs(a.type),null;case 22:case 23:return si(a),Bf(),i!==null&&$(Pr),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return hs(nn),null;case 25:return null;default:return null}}function Jy(i,a){switch(bf(a),a.tag){case 3:hs(nn),ye();break;case 26:case 27:case 5:je(a);break;case 4:ye();break;case 31:a.memoizedState!==null&&si(a);break;case 13:si(a);break;case 19:$(Zt);break;case 10:hs(a.type);break;case 22:case 23:si(a),Bf(),i!==null&&$(Pr);break;case 24:hs(nn)}}function Ll(i,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var x=h.next;c=x;do{if((c.tag&i)===i){h=void 0;var w=c.create,T=c.inst;h=w(),T.destroy=h}c=c.next}while(c!==x)}}catch(L){Rt(a,a.return,L)}}function Js(i,a,c){try{var h=a.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var w=x.next;h=w;do{if((h.tag&i)===i){var T=h.inst,L=T.destroy;if(L!==void 0){T.destroy=void 0,x=a;var H=c,se=L;try{se()}catch(ge){Rt(x,H,ge)}}}h=h.next}while(h!==w)}}catch(ge){Rt(a,a.return,ge)}}function Qy(i){var a=i.updateQueue;if(a!==null){var c=i.stateNode;try{Ix(a,c)}catch(h){Rt(i,i.return,h)}}}function Ky(i,a,c){c.props=Hr(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){Rt(i,a,h)}}function Dl(i,a){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(x){Rt(i,a,x)}}function Hi(i,a){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(x){Rt(i,a,x)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){Rt(i,a,x)}else c.current=null}function $y(i){var a=i.type,c=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(x){Rt(i,i.return,x)}}function fp(i,a,c){try{var h=i.stateNode;hE(h,i.type,c,a),h[He]=a}catch(x){Rt(i,i.return,x)}}function ev(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ir(i.type)||i.tag===4}function pp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ev(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ir(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mp(i,a,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(i),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=as));else if(h!==4&&(h===27&&ir(i.type)&&(c=i.stateNode,a=null),i=i.child,i!==null))for(mp(i,a,c),i=i.sibling;i!==null;)mp(i,a,c),i=i.sibling}function Bu(i,a,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(h!==4&&(h===27&&ir(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Bu(i,a,c),i=i.sibling;i!==null;)Bu(i,a,c),i=i.sibling}function tv(i){var a=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,x=a.attributes;x.length;)a.removeAttributeNode(x[0]);Sn(a,h,c),a[Fe]=i,a[He]=c}catch(w){Rt(i,i.return,w)}}var gs=!1,an=!1,gp=!1,nv=typeof WeakSet=="function"?WeakSet:Set,gn=null;function V3(i,a){if(i=i.containerInfo,Pp=nh,i=px(i),cf(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var x=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var T=0,L=-1,H=-1,se=0,ge=0,ve=i,le=null;t:for(;;){for(var he;ve!==c||x!==0&&ve.nodeType!==3||(L=T+x),ve!==w||h!==0&&ve.nodeType!==3||(H=T+h),ve.nodeType===3&&(T+=ve.nodeValue.length),(he=ve.firstChild)!==null;)le=ve,ve=he;for(;;){if(ve===i)break t;if(le===c&&++se===x&&(L=T),le===w&&++ge===h&&(H=T),(he=ve.nextSibling)!==null)break;ve=le,le=ve.parentNode}ve=he}c=L===-1||H===-1?null:{start:L,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(kp={focusedElem:i,selectionRange:c},nh=!1,gn=a;gn!==null;)if(a=gn,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,gn=i;else for(;gn!==null;){switch(a=gn,w=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)x=i[c],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,c=a,x=w.memoizedProps,w=w.memoizedState,h=c.stateNode;try{var Ie=Hr(c.type,x);i=h.getSnapshotBeforeUpdate(Ie,w),h.__reactInternalSnapshotBeforeUpdate=i}catch(et){Rt(c,c.return,et)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,c=i.nodeType,c===9)Ip(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ip(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=a.sibling,i!==null){i.return=a.return,gn=i;break}gn=a.return}}function iv(i,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:ys(i,c),h&4&&Ll(5,c);break;case 1:if(ys(i,c),h&4)if(i=c.stateNode,a===null)try{i.componentDidMount()}catch(T){Rt(c,c.return,T)}else{var x=Hr(c.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(x,a,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Rt(c,c.return,T)}}h&64&&Qy(c),h&512&&Dl(c,c.return);break;case 3:if(ys(i,c),h&64&&(i=c.updateQueue,i!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{Ix(i,a)}catch(T){Rt(c,c.return,T)}}break;case 27:a===null&&h&4&&tv(c);case 26:case 5:ys(i,c),a===null&&h&4&&$y(c),h&512&&Dl(c,c.return);break;case 12:ys(i,c);break;case 31:ys(i,c),h&4&&av(i,c);break;case 13:ys(i,c),h&4&&ov(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=$3.bind(null,c),vE(i,c))));break;case 22:if(h=c.memoizedState!==null||gs,!h){a=a!==null&&a.memoizedState!==null||an,x=gs;var w=an;gs=h,(an=a)&&!w?vs(i,c,(c.subtreeFlags&8772)!==0):ys(i,c),gs=x,an=w}break;case 30:break;default:ys(i,c)}}function sv(i){var a=i.alternate;a!==null&&(i.alternate=null,sv(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&xt(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Vt=null,Gn=!1;function xs(i,a,c){for(c=c.child;c!==null;)rv(i,a,c),c=c.sibling}function rv(i,a,c){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Gt,c)}catch{}switch(c.tag){case 26:an||Hi(c,a),xs(i,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:an||Hi(c,a);var h=Vt,x=Gn;ir(c.type)&&(Vt=c.stateNode,Gn=!1),xs(i,a,c),Il(c.stateNode),Vt=h,Gn=x;break;case 5:an||Hi(c,a);case 6:if(h=Vt,x=Gn,Vt=null,xs(i,a,c),Vt=h,Gn=x,Vt!==null)if(Gn)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(c.stateNode)}catch(w){Rt(c,a,w)}else try{Vt.removeChild(c.stateNode)}catch(w){Rt(c,a,w)}break;case 18:Vt!==null&&(Gn?(i=Vt,Qv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),co(i)):Qv(Vt,c.stateNode));break;case 4:h=Vt,x=Gn,Vt=c.stateNode.containerInfo,Gn=!0,xs(i,a,c),Vt=h,Gn=x;break;case 0:case 11:case 14:case 15:Js(2,c,a),an||Js(4,c,a),xs(i,a,c);break;case 1:an||(Hi(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Ky(c,a,h)),xs(i,a,c);break;case 21:xs(i,a,c);break;case 22:an=(h=an)||c.memoizedState!==null,xs(i,a,c),an=h;break;default:xs(i,a,c)}}function av(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{co(i)}catch(c){Rt(a,a.return,c)}}}function ov(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{co(i)}catch(c){Rt(a,a.return,c)}}function W3(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new nv),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new nv),a;default:throw Error(n(435,i.tag))}}function Uu(i,a){var c=W3(i);a.forEach(function(h){if(!c.has(h)){c.add(h);var x=eE.bind(null,i,h);h.then(x,x)}})}function Vn(i,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var x=c[h],w=i,T=a,L=T;e:for(;L!==null;){switch(L.tag){case 27:if(ir(L.type)){Vt=L.stateNode,Gn=!1;break e}break;case 5:Vt=L.stateNode,Gn=!1;break e;case 3:case 4:Vt=L.stateNode.containerInfo,Gn=!0;break e}L=L.return}if(Vt===null)throw Error(n(160));rv(w,T,x),Vt=null,Gn=!1,w=x.alternate,w!==null&&(w.return=null),x.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)lv(a,i),a=a.sibling}var Ri=null;function lv(i,a){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Vn(a,i),Wn(i),h&4&&(Js(3,i,i.return),Ll(3,i),Js(5,i,i.return));break;case 1:Vn(a,i),Wn(i),h&512&&(an||c===null||Hi(c,c.return)),h&64&&gs&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var x=Ri;if(Vn(a,i),Wn(i),h&512&&(an||c===null||Hi(c,c.return)),h&4){var w=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){e:{h=i.type,c=i.memoizedProps,x=x.ownerDocument||x;t:switch(h){case"title":w=x.getElementsByTagName("title")[0],(!w||w[Kn]||w[Fe]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=x.createElement(h),x.head.insertBefore(w,x.querySelector("head > title"))),Sn(w,h,c),w[Fe]=i,Ut(w),h=w;break e;case"link":var T=lb("link","href",x).get(h+(c.href||""));if(T){for(var L=0;L<T.length;L++)if(w=T[L],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice(L,1);break t}}w=x.createElement(h),Sn(w,h,c),x.head.appendChild(w);break;case"meta":if(T=lb("meta","content",x).get(h+(c.content||""))){for(L=0;L<T.length;L++)if(w=T[L],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice(L,1);break t}}w=x.createElement(h),Sn(w,h,c),x.head.appendChild(w);break;default:throw Error(n(468,h))}w[Fe]=i,Ut(w),h=w}i.stateNode=h}else cb(x,i.type,i.stateNode);else i.stateNode=ob(x,h,i.memoizedProps);else w!==h?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,h===null?cb(x,i.type,i.stateNode):ob(x,h,i.memoizedProps)):h===null&&i.stateNode!==null&&fp(i,i.memoizedProps,c.memoizedProps)}break;case 27:Vn(a,i),Wn(i),h&512&&(an||c===null||Hi(c,c.return)),c!==null&&h&4&&fp(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Vn(a,i),Wn(i),h&512&&(an||c===null||Hi(c,c.return)),i.flags&32){x=i.stateNode;try{Da(x,"")}catch(Ie){Rt(i,i.return,Ie)}}h&4&&i.stateNode!=null&&(x=i.memoizedProps,fp(i,x,c!==null?c.memoizedProps:x)),h&1024&&(gp=!0);break;case 6:if(Vn(a,i),Wn(i),h&4){if(i.stateNode===null)throw Error(n(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(Ie){Rt(i,i.return,Ie)}}break;case 3:if(Ku=null,x=Ri,Ri=Ju(a.containerInfo),Vn(a,i),Ri=x,Wn(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{co(a.containerInfo)}catch(Ie){Rt(i,i.return,Ie)}gp&&(gp=!1,cv(i));break;case 4:h=Ri,Ri=Ju(i.stateNode.containerInfo),Vn(a,i),Wn(i),Ri=h;break;case 12:Vn(a,i),Wn(i);break;case 31:Vn(a,i),Wn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Uu(i,h)));break;case 13:Vn(a,i),Wn(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(ku=Pe()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Uu(i,h)));break;case 22:x=i.memoizedState!==null;var H=c!==null&&c.memoizedState!==null,se=gs,ge=an;if(gs=se||x,an=ge||H,Vn(a,i),an=ge,gs=se,Wn(i),h&8192)e:for(a=i.stateNode,a._visibility=x?a._visibility&-2:a._visibility|1,x&&(c===null||H||gs||an||Gr(i)),c=null,a=i;;){if(a.tag===5||a.tag===26){if(c===null){H=c=a;try{if(w=H.stateNode,x)T=w.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{L=H.stateNode;var ve=H.memoizedProps.style,le=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;L.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Ie){Rt(H,H.return,Ie)}}}else if(a.tag===6){if(c===null){H=a;try{H.stateNode.nodeValue=x?"":H.memoizedProps}catch(Ie){Rt(H,H.return,Ie)}}}else if(a.tag===18){if(c===null){H=a;try{var he=H.stateNode;x?Kv(he,!0):Kv(H.stateNode,!1)}catch(Ie){Rt(H,H.return,Ie)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Uu(i,c))));break;case 19:Vn(a,i),Wn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Uu(i,h)));break;case 30:break;case 21:break;default:Vn(a,i),Wn(i)}}function Wn(i){var a=i.flags;if(a&2){try{for(var c,h=i.return;h!==null;){if(ev(h)){c=h;break}h=h.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var x=c.stateNode,w=pp(i);Bu(i,w,x);break;case 5:var T=c.stateNode;c.flags&32&&(Da(T,""),c.flags&=-33);var L=pp(i);Bu(i,L,T);break;case 3:case 4:var H=c.stateNode.containerInfo,se=pp(i);mp(i,se,H);break;default:throw Error(n(161))}}catch(ge){Rt(i,i.return,ge)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function cv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;cv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ys(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)iv(i,a.alternate,a),a=a.sibling}function Gr(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Js(4,a,a.return),Gr(a);break;case 1:Hi(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&Ky(a,a.return,c),Gr(a);break;case 27:Il(a.stateNode);case 26:case 5:Hi(a,a.return),Gr(a);break;case 22:a.memoizedState===null&&Gr(a);break;case 30:Gr(a);break;default:Gr(a)}i=i.sibling}}function vs(i,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,x=i,w=a,T=w.flags;switch(w.tag){case 0:case 11:case 15:vs(x,w,c),Ll(4,w);break;case 1:if(vs(x,w,c),h=w,x=h.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(se){Rt(h,h.return,se)}if(h=w,x=h.updateQueue,x!==null){var L=h.stateNode;try{var H=x.shared.hiddenCallbacks;if(H!==null)for(x.shared.hiddenCallbacks=null,x=0;x<H.length;x++)Fx(H[x],L)}catch(se){Rt(h,h.return,se)}}c&&T&64&&Qy(w),Dl(w,w.return);break;case 27:tv(w);case 26:case 5:vs(x,w,c),c&&h===null&&T&4&&$y(w),Dl(w,w.return);break;case 12:vs(x,w,c);break;case 31:vs(x,w,c),c&&T&4&&av(x,w);break;case 13:vs(x,w,c),c&&T&4&&ov(x,w);break;case 22:w.memoizedState===null&&vs(x,w,c),Dl(w,w.return);break;case 30:break;default:vs(x,w,c)}a=a.sibling}}function xp(i,a){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&yl(c))}function yp(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&yl(i))}function Ni(i,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)uv(i,a,c,h),a=a.sibling}function uv(i,a,c,h){var x=a.flags;switch(a.tag){case 0:case 11:case 15:Ni(i,a,c,h),x&2048&&Ll(9,a);break;case 1:Ni(i,a,c,h);break;case 3:Ni(i,a,c,h),x&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&yl(i)));break;case 12:if(x&2048){Ni(i,a,c,h),i=a.stateNode;try{var w=a.memoizedProps,T=w.id,L=w.onPostCommit;typeof L=="function"&&L(T,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){Rt(a,a.return,H)}}else Ni(i,a,c,h);break;case 31:Ni(i,a,c,h);break;case 13:Ni(i,a,c,h);break;case 23:break;case 22:w=a.stateNode,T=a.alternate,a.memoizedState!==null?w._visibility&2?Ni(i,a,c,h):zl(i,a):w._visibility&2?Ni(i,a,c,h):(w._visibility|=2,Ka(i,a,c,h,(a.subtreeFlags&10256)!==0||!1)),x&2048&&xp(T,a);break;case 24:Ni(i,a,c,h),x&2048&&yp(a.alternate,a);break;default:Ni(i,a,c,h)}}function Ka(i,a,c,h,x){for(x=x&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var w=i,T=a,L=c,H=h,se=T.flags;switch(T.tag){case 0:case 11:case 15:Ka(w,T,L,H,x),Ll(8,T);break;case 23:break;case 22:var ge=T.stateNode;T.memoizedState!==null?ge._visibility&2?Ka(w,T,L,H,x):zl(w,T):(ge._visibility|=2,Ka(w,T,L,H,x)),x&&se&2048&&xp(T.alternate,T);break;case 24:Ka(w,T,L,H,x),x&&se&2048&&yp(T.alternate,T);break;default:Ka(w,T,L,H,x)}a=a.sibling}}function zl(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=i,h=a,x=h.flags;switch(h.tag){case 22:zl(c,h),x&2048&&xp(h.alternate,h);break;case 24:zl(c,h),x&2048&&yp(h.alternate,h);break;default:zl(c,h)}a=a.sibling}}var Ol=8192;function $a(i,a,c){if(i.subtreeFlags&Ol)for(i=i.child;i!==null;)hv(i,a,c),i=i.sibling}function hv(i,a,c){switch(i.tag){case 26:$a(i,a,c),i.flags&Ol&&i.memoizedState!==null&&LE(c,Ri,i.memoizedState,i.memoizedProps);break;case 5:$a(i,a,c);break;case 3:case 4:var h=Ri;Ri=Ju(i.stateNode.containerInfo),$a(i,a,c),Ri=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Ol,Ol=16777216,$a(i,a,c),Ol=h):$a(i,a,c));break;default:$a(i,a,c)}}function dv(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Bl(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];gn=h,pv(h,i)}dv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fv(i),i=i.sibling}function fv(i){switch(i.tag){case 0:case 11:case 15:Bl(i),i.flags&2048&&Js(9,i,i.return);break;case 3:Bl(i);break;case 12:Bl(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Pu(i)):Bl(i);break;default:Bl(i)}}function Pu(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];gn=h,pv(h,i)}dv(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Js(8,a,a.return),Pu(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,Pu(a));break;default:Pu(a)}i=i.sibling}}function pv(i,a){for(;gn!==null;){var c=gn;switch(c.tag){case 0:case 11:case 15:Js(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:yl(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,gn=h;else e:for(c=i;gn!==null;){h=gn;var x=h.sibling,w=h.return;if(sv(h),h===c){gn=null;break e}if(x!==null){x.return=w,gn=x;break e}gn=w}}}var q3={getCacheForType:function(i){var a=_n(nn),c=a.data.get(i);return c===void 0&&(c=i(),a.data.set(i,c)),c},cacheSignal:function(){return _n(nn).controller.signal}},Y3=typeof WeakMap=="function"?WeakMap:Map,At=0,Bt=null,dt=null,mt=0,Ct=0,ri=null,Qs=!1,eo=!1,vp=!1,bs=0,Yt=0,Ks=0,Vr=0,bp=0,ai=0,to=0,Ul=null,qn=null,wp=!1,ku=0,mv=0,ju=1/0,Fu=null,$s=null,hn=0,er=null,no=null,ws=0,_p=0,Mp=null,gv=null,Pl=0,Sp=null;function oi(){return(At&2)!==0&&mt!==0?mt&-mt:B.T!==null?Np():de()}function xv(){if(ai===0)if((mt&536870912)===0||yt){var i=ts;ts<<=1,(ts&3932160)===0&&(ts=262144),ai=i}else ai=536870912;return i=ii.current,i!==null&&(i.flags|=32),ai}function Yn(i,a,c){(i===Bt&&(Ct===2||Ct===9)||i.cancelPendingCommit!==null)&&(io(i,0),tr(i,mt,ai,!1)),ji(i,c),((At&2)===0||i!==Bt)&&(i===Bt&&((At&2)===0&&(Vr|=c),Yt===4&&tr(i,mt,ai,!1)),Gi(i))}function yv(i,a,c){if((At&6)!==0)throw Error(n(327));var h=!c&&(a&127)===0&&(a&i.expiredLanes)===0||is(i,a),x=h?J3(i,a):Tp(i,a,!0),w=h;do{if(x===0){eo&&!h&&tr(i,a,0,!1);break}else{if(c=i.current.alternate,w&&!X3(c)){x=Tp(i,a,!1),w=!1;continue}if(x===2){if(w=a,i.errorRecoveryDisabledLanes&w)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var L=i;x=Ul;var H=L.current.memoizedState.isDehydrated;if(H&&(io(L,T).flags|=256),T=Tp(L,T,!1),T!==2){if(vp&&!H){L.errorRecoveryDisabledLanes|=w,Vr|=w,x=4;break e}w=qn,qn=x,w!==null&&(qn===null?qn=w:qn.push.apply(qn,w))}x=T}if(w=!1,x!==2)continue}}if(x===1){io(i,0),tr(i,a,0,!0);break}e:{switch(h=i,w=x,w){case 0:case 1:throw Error(n(345));case 4:if((a&4194048)!==a)break;case 6:tr(h,a,ai,!Qs);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((a&62914560)===a&&(x=ku+300-Pe(),10<x)){if(tr(h,a,ai,!Qs),ns(h,0,!0)!==0)break e;ws=a,h.timeoutHandle=Zv(vv.bind(null,h,c,qn,Fu,wp,a,ai,Vr,to,Qs,w,"Throttled",-0,0),x);break e}vv(h,c,qn,Fu,wp,a,ai,Vr,to,Qs,w,null,-0,0)}}break}while(!0);Gi(i)}function vv(i,a,c,h,x,w,T,L,H,se,ge,ve,le,he){if(i.timeoutHandle=-1,ve=a.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:as},hv(a,w,ve);var Ie=(w&62914560)===w?ku-Pe():(w&4194048)===w?mv-Pe():0;if(Ie=DE(ve,Ie),Ie!==null){ws=w,i.cancelPendingCommit=Ie(Av.bind(null,i,a,w,c,h,x,T,L,H,ge,ve,null,le,he)),tr(i,w,T,!se);return}}Av(i,a,w,c,h,x,T,L,H)}function X3(i){for(var a=i;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var x=c[h],w=x.getSnapshot;x=x.value;try{if(!ti(w(),x))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function tr(i,a,c,h){a&=~bp,a&=~Vr,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var x=a;0<x;){var w=31-ut(x),T=1<<w;h[w]=-1,x&=~T}c!==0&&Y(i,c,a)}function Iu(){return(At&6)===0?(kl(0),!1):!0}function Ep(){if(dt!==null){if(Ct===0)var i=dt.return;else i=dt,us=Br=null,If(i),Ya=null,bl=0,i=dt;for(;i!==null;)Jy(i.alternate,i),i=i.return;dt=null}}function io(i,a){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,pE(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),ws=0,Ep(),Bt=i,dt=c=ls(i.current,null),mt=a,Ct=0,ri=null,Qs=!1,eo=is(i,a),vp=!1,to=ai=bp=Vr=Ks=Yt=0,qn=Ul=null,wp=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var x=31-ut(h),w=1<<x;a|=i[x],h&=~w}return bs=a,lu(),c}function bv(i,a){st=null,B.H=Cl,a===qa||a===gu?(a=Ux(),Ct=3):a===Rf?(a=Ux(),Ct=4):Ct=a===ip?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ri=a,dt===null&&(Yt=1,Nu(i,yi(a,i.current)))}function wv(){var i=ii.current;return i===null?!0:(mt&4194048)===mt?_i===null:(mt&62914560)===mt||(mt&536870912)!==0?i===_i:!1}function _v(){var i=B.H;return B.H=Cl,i===null?Cl:i}function Mv(){var i=B.A;return B.A=q3,i}function Hu(){Yt=4,Qs||(mt&4194048)!==mt&&ii.current!==null||(eo=!0),(Ks&134217727)===0&&(Vr&134217727)===0||Bt===null||tr(Bt,mt,ai,!1)}function Tp(i,a,c){var h=At;At|=2;var x=_v(),w=Mv();(Bt!==i||mt!==a)&&(Fu=null,io(i,a)),a=!1;var T=Yt;e:do try{if(Ct!==0&&dt!==null){var L=dt,H=ri;switch(Ct){case 8:Ep(),T=6;break e;case 3:case 2:case 9:case 6:ii.current===null&&(a=!0);var se=Ct;if(Ct=0,ri=null,so(i,L,H,se),c&&eo){T=0;break e}break;default:se=Ct,Ct=0,ri=null,so(i,L,H,se)}}Z3(),T=Yt;break}catch(ge){bv(i,ge)}while(!0);return a&&i.shellSuspendCounter++,us=Br=null,At=h,B.H=x,B.A=w,dt===null&&(Bt=null,mt=0,lu()),T}function Z3(){for(;dt!==null;)Sv(dt)}function J3(i,a){var c=At;At|=2;var h=_v(),x=Mv();Bt!==i||mt!==a?(Fu=null,ju=Pe()+500,io(i,a)):eo=is(i,a);e:do try{if(Ct!==0&&dt!==null){a=dt;var w=ri;t:switch(Ct){case 1:Ct=0,ri=null,so(i,a,w,1);break;case 2:case 9:if(Ox(w)){Ct=0,ri=null,Ev(a);break}a=function(){Ct!==2&&Ct!==9||Bt!==i||(Ct=7),Gi(i)},w.then(a,a);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:Ox(w)?(Ct=0,ri=null,Ev(a)):(Ct=0,ri=null,so(i,a,w,7));break;case 5:var T=null;switch(dt.tag){case 26:T=dt.memoizedState;case 5:case 27:var L=dt;if(T?ub(T):L.stateNode.complete){Ct=0,ri=null;var H=L.sibling;if(H!==null)dt=H;else{var se=L.return;se!==null?(dt=se,Gu(se)):dt=null}break t}}Ct=0,ri=null,so(i,a,w,5);break;case 6:Ct=0,ri=null,so(i,a,w,6);break;case 8:Ep(),Yt=6;break e;default:throw Error(n(462))}}Q3();break}catch(ge){bv(i,ge)}while(!0);return us=Br=null,B.H=h,B.A=x,At=c,dt!==null?0:(Bt=null,mt=0,lu(),Yt)}function Q3(){for(;dt!==null&&!ke();)Sv(dt)}function Sv(i){var a=Xy(i.alternate,i,bs);i.memoizedProps=i.pendingProps,a===null?Gu(i):dt=a}function Ev(i){var a=i,c=a.alternate;switch(a.tag){case 15:case 0:a=Hy(c,a,a.pendingProps,a.type,void 0,mt);break;case 11:a=Hy(c,a,a.pendingProps,a.type.render,a.ref,mt);break;case 5:If(a);default:Jy(c,a),a=dt=Mx(a,bs),a=Xy(c,a,bs)}i.memoizedProps=i.pendingProps,a===null?Gu(i):dt=a}function so(i,a,c,h){us=Br=null,If(a),Ya=null,bl=0;var x=a.return;try{if(j3(i,x,a,c,mt)){Yt=1,Nu(i,yi(c,i.current)),dt=null;return}}catch(w){if(x!==null)throw dt=x,w;Yt=1,Nu(i,yi(c,i.current)),dt=null;return}a.flags&32768?(yt||h===1?i=!0:eo||(mt&536870912)!==0?i=!1:(Qs=i=!0,(h===2||h===9||h===3||h===6)&&(h=ii.current,h!==null&&h.tag===13&&(h.flags|=16384))),Tv(a,i)):Gu(a)}function Gu(i){var a=i;do{if((a.flags&32768)!==0){Tv(a,Qs);return}i=a.return;var c=H3(a.alternate,a,bs);if(c!==null){dt=c;return}if(a=a.sibling,a!==null){dt=a;return}dt=a=i}while(a!==null);Yt===0&&(Yt=5)}function Tv(i,a){do{var c=G3(i.alternate,i);if(c!==null){c.flags&=32767,dt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(i=i.sibling,i!==null)){dt=i;return}dt=i=c}while(i!==null);Yt=6,dt=null}function Av(i,a,c,h,x,w,T,L,H){i.cancelPendingCommit=null;do Vu();while(hn!==0);if((At&6)!==0)throw Error(n(327));if(a!==null){if(a===i.current)throw Error(n(177));if(w=a.lanes|a.childLanes,w|=pf,Na(i,c,w,T,L,H),i===Bt&&(dt=Bt=null,mt=0),no=a,er=i,ws=c,_p=w,Mp=x,gv=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,tE(Oe,function(){return Dv(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,x=V.p,V.p=2,T=At,At|=4;try{V3(i,a,c)}finally{At=T,V.p=x,B.T=h}}hn=1,Cv(),Rv(),Nv()}}function Cv(){if(hn===1){hn=0;var i=er,a=no,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=B.T,B.T=null;var h=V.p;V.p=2;var x=At;At|=4;try{lv(a,i);var w=kp,T=px(i.containerInfo),L=w.focusedElem,H=w.selectionRange;if(T!==L&&L&&L.ownerDocument&&fx(L.ownerDocument.documentElement,L)){if(H!==null&&cf(L)){var se=H.start,ge=H.end;if(ge===void 0&&(ge=se),"selectionStart"in L)L.selectionStart=se,L.selectionEnd=Math.min(ge,L.value.length);else{var ve=L.ownerDocument||document,le=ve&&ve.defaultView||window;if(le.getSelection){var he=le.getSelection(),Ie=L.textContent.length,et=Math.min(H.start,Ie),Ot=H.end===void 0?et:Math.min(H.end,Ie);!he.extend&&et>Ot&&(T=Ot,Ot=et,et=T);var K=dx(L,et),X=dx(L,Ot);if(K&&X&&(he.rangeCount!==1||he.anchorNode!==K.node||he.anchorOffset!==K.offset||he.focusNode!==X.node||he.focusOffset!==X.offset)){var ne=ve.createRange();ne.setStart(K.node,K.offset),he.removeAllRanges(),et>Ot?(he.addRange(ne),he.extend(X.node,X.offset)):(ne.setEnd(X.node,X.offset),he.addRange(ne))}}}}for(ve=[],he=L;he=he.parentNode;)he.nodeType===1&&ve.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ve.length;L++){var xe=ve[L];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}nh=!!Pp,kp=Pp=null}finally{At=x,V.p=h,B.T=c}}i.current=a,hn=2}}function Rv(){if(hn===2){hn=0;var i=er,a=no,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=B.T,B.T=null;var h=V.p;V.p=2;var x=At;At|=4;try{iv(i,a.alternate,a)}finally{At=x,V.p=h,B.T=c}}hn=3}}function Nv(){if(hn===4||hn===3){hn=0,Qe();var i=er,a=no,c=ws,h=gv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?hn=5:(hn=0,no=er=null,Lv(i,i.pendingLanes));var x=i.pendingLanes;if(x===0&&($s=null),me(c),a=a.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Gt,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=B.T,x=V.p,V.p=2,B.T=null;try{for(var w=i.onRecoverableError,T=0;T<h.length;T++){var L=h[T];w(L.value,{componentStack:L.stack})}}finally{B.T=a,V.p=x}}(ws&3)!==0&&Vu(),Gi(i),x=i.pendingLanes,(c&261930)!==0&&(x&42)!==0?i===Sp?Pl++:(Pl=0,Sp=i):Pl=0,kl(0)}}function Lv(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,yl(a)))}function Vu(){return Cv(),Rv(),Nv(),Dv()}function Dv(){if(hn!==5)return!1;var i=er,a=_p;_p=0;var c=me(ws),h=B.T,x=V.p;try{V.p=32>c?32:c,B.T=null,c=Mp,Mp=null;var w=er,T=ws;if(hn=0,no=er=null,ws=0,(At&6)!==0)throw Error(n(331));var L=At;if(At|=4,fv(w.current),uv(w,w.current,T,c),At=L,kl(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Gt,w)}catch{}return!0}finally{V.p=x,B.T=h,Lv(i,a)}}function zv(i,a,c){a=yi(c,a),a=np(i.stateNode,a,2),i=Ys(i,a,2),i!==null&&(ji(i,2),Gi(i))}function Rt(i,a,c){if(i.tag===3)zv(i,i,c);else for(;a!==null;){if(a.tag===3){zv(a,i,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&($s===null||!$s.has(h))){i=yi(c,i),c=Oy(2),h=Ys(a,c,2),h!==null&&(By(c,h,a,i),ji(h,2),Gi(h));break}}a=a.return}}function Ap(i,a,c){var h=i.pingCache;if(h===null){h=i.pingCache=new Y3;var x=new Set;h.set(a,x)}else x=h.get(a),x===void 0&&(x=new Set,h.set(a,x));x.has(c)||(vp=!0,x.add(c),i=K3.bind(null,i,a,c),a.then(i,i))}function K3(i,a,c){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Bt===i&&(mt&c)===c&&(Yt===4||Yt===3&&(mt&62914560)===mt&&300>Pe()-ku?(At&2)===0&&io(i,0):bp|=c,to===mt&&(to=0)),Gi(i)}function Ov(i,a){a===0&&(a=Ra()),i=Dr(i,a),i!==null&&(ji(i,a),Gi(i))}function $3(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),Ov(i,c)}function eE(i,a){var c=0;switch(i.tag){case 31:case 13:var h=i.stateNode,x=i.memoizedState;x!==null&&(c=x.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(a),Ov(i,c)}function tE(i,a){return Re(i,a)}var Wu=null,ro=null,Cp=!1,qu=!1,Rp=!1,nr=0;function Gi(i){i!==ro&&i.next===null&&(ro===null?Wu=ro=i:ro=ro.next=i),qu=!0,Cp||(Cp=!0,iE())}function kl(i,a){if(!Rp&&qu){Rp=!0;do for(var c=!1,h=Wu;h!==null;){if(i!==0){var x=h.pendingLanes;if(x===0)var w=0;else{var T=h.suspendedLanes,L=h.pingedLanes;w=(1<<31-ut(42|i)+1)-1,w&=x&~(T&~L),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,kv(h,w))}else w=mt,w=ns(h,h===Bt?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||is(h,w)||(c=!0,kv(h,w));h=h.next}while(c);Rp=!1}}function nE(){Bv()}function Bv(){qu=Cp=!1;var i=0;nr!==0&&fE()&&(i=nr);for(var a=Pe(),c=null,h=Wu;h!==null;){var x=h.next,w=Uv(h,a);w===0?(h.next=null,c===null?Wu=x:c.next=x,x===null&&(ro=c)):(c=h,(i!==0||(w&3)!==0)&&(qu=!0)),h=x}hn!==0&&hn!==5||kl(i),nr!==0&&(nr=0)}function Uv(i,a){for(var c=i.suspendedLanes,h=i.pingedLanes,x=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var T=31-ut(w),L=1<<T,H=x[T];H===-1?((L&c)===0||(L&h)!==0)&&(x[T]=js(L,a)):H<=a&&(i.expiredLanes|=L),w&=~L}if(a=Bt,c=mt,c=ns(i,i===a?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===a&&(Ct===2||Ct===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Ce(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||is(i,c)){if(a=c&-c,a===i.callbackPriority)return a;switch(h!==null&&Ce(h),me(c)){case 2:case 8:c=J;break;case 32:c=Oe;break;case 268435456:c=qe;break;default:c=Oe}return h=Pv.bind(null,i),c=Re(c,h),i.callbackPriority=a,i.callbackNode=c,a}return h!==null&&h!==null&&Ce(h),i.callbackPriority=2,i.callbackNode=null,2}function Pv(i,a){if(hn!==0&&hn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Vu()&&i.callbackNode!==c)return null;var h=mt;return h=ns(i,i===Bt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(yv(i,h,a),Uv(i,Pe()),i.callbackNode!=null&&i.callbackNode===c?Pv.bind(null,i):null)}function kv(i,a){if(Vu())return null;yv(i,a,!0)}function iE(){mE(function(){(At&6)!==0?Re(Ve,nE):Bv()})}function Np(){if(nr===0){var i=Va;i===0&&(i=es,es<<=1,(es&261888)===0&&(es=256)),nr=i}return nr}function jv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:eu(""+i)}function Fv(i,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,i.id&&c.setAttribute("form",i.id),a.parentNode.insertBefore(c,a),i=new FormData(i),c.parentNode.removeChild(c),i}function sE(i,a,c,h,x){if(a==="submit"&&c&&c.stateNode===x){var w=jv((x[He]||null).action),T=h.submitter;T&&(a=(a=T[He]||null)?jv(a.formAction):T.getAttribute("formAction"),a!==null&&(w=a,T=null));var L=new su("action","action",null,h,x);i.push({event:L,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(nr!==0){var H=T?Fv(x,T):new FormData(x);Jf(c,{pending:!0,data:H,method:x.method,action:w},null,H)}}else typeof w=="function"&&(L.preventDefault(),H=T?Fv(x,T):new FormData(x),Jf(c,{pending:!0,data:H,method:x.method,action:w},w,H))},currentTarget:x}]})}}for(var Lp=0;Lp<ff.length;Lp++){var Dp=ff[Lp],rE=Dp.toLowerCase(),aE=Dp[0].toUpperCase()+Dp.slice(1);Ci(rE,"on"+aE)}Ci(xx,"onAnimationEnd"),Ci(yx,"onAnimationIteration"),Ci(vx,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(_3,"onTransitionRun"),Ci(M3,"onTransitionStart"),Ci(S3,"onTransitionCancel"),Ci(bx,"onTransitionEnd"),mn("onMouseEnter",["mouseout","mouseover"]),mn("onMouseLeave",["mouseout","mouseover"]),mn("onPointerEnter",["pointerout","pointerover"]),mn("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function Iv(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],x=h.event;h=h.listeners;e:{var w=void 0;if(a)for(var T=h.length-1;0<=T;T--){var L=h[T],H=L.instance,se=L.currentTarget;if(L=L.listener,H!==w&&x.isPropagationStopped())break e;w=L,x.currentTarget=se;try{w(x)}catch(ge){ou(ge)}x.currentTarget=null,w=H}else for(T=0;T<h.length;T++){if(L=h[T],H=L.instance,se=L.currentTarget,L=L.listener,H!==w&&x.isPropagationStopped())break e;w=L,x.currentTarget=se;try{w(x)}catch(ge){ou(ge)}x.currentTarget=null,w=H}}}}function ft(i,a){var c=a[wt];c===void 0&&(c=a[wt]=new Set);var h=i+"__bubble";c.has(h)||(Hv(a,i,2,!1),c.add(h))}function zp(i,a,c){var h=0;a&&(h|=4),Hv(c,i,h,a)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function Op(i){if(!i[Yu]){i[Yu]=!0,Ai.forEach(function(c){c!=="selectionchange"&&(oE.has(c)||zp(c,!1,i),zp(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Yu]||(a[Yu]=!0,zp("selectionchange",!1,a))}}function Hv(i,a,c,h){switch(xb(a)){case 2:var x=BE;break;case 8:x=UE;break;default:x=Zp}c=x.bind(null,a,c,i),x=void 0,!$d||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),h?x!==void 0?i.addEventListener(a,c,{capture:!0,passive:x}):i.addEventListener(a,c,!0):x!==void 0?i.addEventListener(a,c,{passive:x}):i.addEventListener(a,c,!1)}function Bp(i,a,c,h,x){var w=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var L=h.stateNode.containerInfo;if(L===x)break;if(T===4)for(T=h.return;T!==null;){var H=T.tag;if((H===3||H===4)&&T.stateNode.containerInfo===x)return;T=T.return}for(;L!==null;){if(T=pi(L),T===null)return;if(H=T.tag,H===5||H===6||H===26||H===27){h=w=T;continue e}L=L.parentNode}}h=h.return}Yg(function(){var se=w,ge=Qd(c),ve=[];e:{var le=wx.get(i);if(le!==void 0){var he=su,Ie=i;switch(i){case"keypress":if(nu(c)===0)break e;case"keydown":case"keyup":he=e3;break;case"focusin":Ie="focus",he=sf;break;case"focusout":Ie="blur",he=sf;break;case"beforeblur":case"afterblur":he=sf;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=HS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=i3;break;case xx:case yx:case vx:he=WS;break;case bx:he=r3;break;case"scroll":case"scrollend":he=FS;break;case"wheel":he=o3;break;case"copy":case"cut":case"paste":he=YS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Kg;break;case"toggle":case"beforetoggle":he=c3}var et=(a&4)!==0,Ot=!et&&(i==="scroll"||i==="scrollend"),K=et?le!==null?le+"Capture":null:le;et=[];for(var X=se,ne;X!==null;){var xe=X;if(ne=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||ne===null||K===null||(xe=ol(X,K),xe!=null&&et.push(Fl(X,xe,ne))),Ot)break;X=X.return}0<et.length&&(le=new he(le,Ie,null,c,ge),ve.push({event:le,listeners:et}))}}if((a&7)===0){e:{if(le=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",le&&c!==Jd&&(Ie=c.relatedTarget||c.fromElement)&&(pi(Ie)||Ie[nt]))break e;if((he||le)&&(le=ge.window===ge?ge:(le=ge.ownerDocument)?le.defaultView||le.parentWindow:window,he?(Ie=c.relatedTarget||c.toElement,he=se,Ie=Ie?pi(Ie):null,Ie!==null&&(Ot=o(Ie),et=Ie.tag,Ie!==Ot||et!==5&&et!==27&&et!==6)&&(Ie=null)):(he=null,Ie=se),he!==Ie)){if(et=Jg,xe="onMouseLeave",K="onMouseEnter",X="mouse",(i==="pointerout"||i==="pointerover")&&(et=Kg,xe="onPointerLeave",K="onPointerEnter",X="pointer"),Ot=he==null?le:$n(he),ne=Ie==null?le:$n(Ie),le=new et(xe,X+"leave",he,c,ge),le.target=Ot,le.relatedTarget=ne,xe=null,pi(ge)===se&&(et=new et(K,X+"enter",Ie,c,ge),et.target=ne,et.relatedTarget=Ot,xe=et),Ot=xe,he&&Ie)t:{for(et=lE,K=he,X=Ie,ne=0,xe=K;xe;xe=et(xe))ne++;xe=0;for(var Je=X;Je;Je=et(Je))xe++;for(;0<ne-xe;)K=et(K),ne--;for(;0<xe-ne;)X=et(X),xe--;for(;ne--;){if(K===X||X!==null&&K===X.alternate){et=K;break t}K=et(K),X=et(X)}et=null}else et=null;he!==null&&Gv(ve,le,he,et,!1),Ie!==null&&Ot!==null&&Gv(ve,Ot,Ie,et,!0)}}e:{if(le=se?$n(se):window,he=le.nodeName&&le.nodeName.toLowerCase(),he==="select"||he==="input"&&le.type==="file")var Et=ax;else if(sx(le))if(ox)Et=v3;else{Et=x3;var Ye=g3}else he=le.nodeName,!he||he.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?se&&Zd(se.elementType)&&(Et=ax):Et=y3;if(Et&&(Et=Et(i,se))){rx(ve,Et,c,ge);break e}Ye&&Ye(i,le,se),i==="focusout"&&se&&le.type==="number"&&se.memoizedProps.value!=null&&Xd(le,"number",le.value)}switch(Ye=se?$n(se):window,i){case"focusin":(sx(Ye)||Ye.contentEditable==="true")&&(Ua=Ye,uf=se,ml=null);break;case"focusout":ml=uf=Ua=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,mx(ve,c,ge);break;case"selectionchange":if(w3)break;case"keydown":case"keyup":mx(ve,c,ge)}var at;if(af)e:{switch(i){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Ba?nx(i,c)&&(gt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(gt="onCompositionStart");gt&&($g&&c.locale!=="ko"&&(Ba||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ba&&(at=Xg()):(Fs=ge,ef="value"in Fs?Fs.value:Fs.textContent,Ba=!0)),Ye=Xu(se,gt),0<Ye.length&&(gt=new Qg(gt,i,null,c,ge),ve.push({event:gt,listeners:Ye}),at?gt.data=at:(at=ix(c),at!==null&&(gt.data=at)))),(at=h3?d3(i,c):f3(i,c))&&(gt=Xu(se,"onBeforeInput"),0<gt.length&&(Ye=new Qg("onBeforeInput","beforeinput",null,c,ge),ve.push({event:Ye,listeners:gt}),Ye.data=at)),sE(ve,i,se,c,ge)}Iv(ve,a)})}function Fl(i,a,c){return{instance:i,listener:a,currentTarget:c}}function Xu(i,a){for(var c=a+"Capture",h=[];i!==null;){var x=i,w=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||w===null||(x=ol(i,c),x!=null&&h.unshift(Fl(i,x,w)),x=ol(i,a),x!=null&&h.push(Fl(i,x,w))),i.tag===3)return h;i=i.return}return[]}function lE(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Gv(i,a,c,h,x){for(var w=a._reactName,T=[];c!==null&&c!==h;){var L=c,H=L.alternate,se=L.stateNode;if(L=L.tag,H!==null&&H===h)break;L!==5&&L!==26&&L!==27||se===null||(H=se,x?(se=ol(c,w),se!=null&&T.unshift(Fl(c,se,H))):x||(se=ol(c,w),se!=null&&T.push(Fl(c,se,H)))),c=c.return}T.length!==0&&i.push({event:a,listeners:T})}var cE=/\r\n?/g,uE=/\u0000|\uFFFD/g;function Vv(i){return(typeof i=="string"?i:""+i).replace(cE,`
`).replace(uE,"")}function Wv(i,a){return a=Vv(a),Vv(i)===a}function zt(i,a,c,h,x,w){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Da(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Da(i,""+h);break;case"className":Kc(i,"class",h);break;case"tabIndex":Kc(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Kc(i,c,h);break;case"style":Wg(i,h,w);break;case"data":if(a!=="object"){Kc(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=eu(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(a!=="input"&&zt(i,a,"name",x.name,x,null),zt(i,a,"formEncType",x.formEncType,x,null),zt(i,a,"formMethod",x.formMethod,x,null),zt(i,a,"formTarget",x.formTarget,x,null)):(zt(i,a,"encType",x.encType,x,null),zt(i,a,"method",x.method,x,null),zt(i,a,"target",x.target,x,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=eu(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=as);break;case"onScroll":h!=null&&ft("scroll",i);break;case"onScrollEnd":h!=null&&ft("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(x.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=eu(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":ft("beforetoggle",i),ft("toggle",i),Qc(i,"popover",h);break;case"xlinkActuate":rs(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":rs(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":rs(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":rs(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":rs(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":rs(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":rs(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":rs(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":rs(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Qc(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=kS.get(c)||c,Qc(i,c,h))}}function Up(i,a,c,h,x,w){switch(c){case"style":Wg(i,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(x.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"children":typeof h=="string"?Da(i,h):(typeof h=="number"||typeof h=="bigint")&&Da(i,""+h);break;case"onScroll":h!=null&&ft("scroll",i);break;case"onScrollEnd":h!=null&&ft("scrollend",i);break;case"onClick":h!=null&&(i.onclick=as);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jt.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),a=c.slice(2,x?c.length-7:void 0),w=i[He]||null,w=w!=null?w[c]:null,typeof w=="function"&&i.removeEventListener(a,w,x),typeof h=="function")){typeof w!="function"&&w!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(a,h,x);break e}c in i?i[c]=h:h===!0?i.setAttribute(c,""):Qc(i,c,h)}}}function Sn(i,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",i),ft("load",i);var h=!1,x=!1,w;for(w in c)if(c.hasOwnProperty(w)){var T=c[w];if(T!=null)switch(w){case"src":h=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:zt(i,a,w,T,c,null)}}x&&zt(i,a,"srcSet",c.srcSet,c,null),h&&zt(i,a,"src",c.src,c,null);return;case"input":ft("invalid",i);var L=w=T=x=null,H=null,se=null;for(h in c)if(c.hasOwnProperty(h)){var ge=c[h];if(ge!=null)switch(h){case"name":x=ge;break;case"type":T=ge;break;case"checked":H=ge;break;case"defaultChecked":se=ge;break;case"value":w=ge;break;case"defaultValue":L=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(n(137,a));break;default:zt(i,a,h,ge,c,null)}}Ig(i,w,L,H,se,T,x,!1);return;case"select":ft("invalid",i),h=T=w=null;for(x in c)if(c.hasOwnProperty(x)&&(L=c[x],L!=null))switch(x){case"value":w=L;break;case"defaultValue":T=L;break;case"multiple":h=L;default:zt(i,a,x,L,c,null)}a=w,c=T,i.multiple=!!h,a!=null?La(i,!!h,a,!1):c!=null&&La(i,!!h,c,!0);return;case"textarea":ft("invalid",i),w=x=h=null;for(T in c)if(c.hasOwnProperty(T)&&(L=c[T],L!=null))switch(T){case"value":h=L;break;case"defaultValue":x=L;break;case"children":w=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(n(91));break;default:zt(i,a,T,L,c,null)}Gg(i,h,x,w);return;case"option":for(H in c)c.hasOwnProperty(H)&&(h=c[H],h!=null)&&(H==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":zt(i,a,H,h,c,null));return;case"dialog":ft("beforetoggle",i),ft("toggle",i),ft("cancel",i),ft("close",i);break;case"iframe":case"object":ft("load",i);break;case"video":case"audio":for(h=0;h<jl.length;h++)ft(jl[h],i);break;case"image":ft("error",i),ft("load",i);break;case"details":ft("toggle",i);break;case"embed":case"source":case"link":ft("error",i),ft("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in c)if(c.hasOwnProperty(se)&&(h=c[se],h!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:zt(i,a,se,h,c,null)}return;default:if(Zd(a)){for(ge in c)c.hasOwnProperty(ge)&&(h=c[ge],h!==void 0&&Up(i,a,ge,h,c,void 0));return}}for(L in c)c.hasOwnProperty(L)&&(h=c[L],h!=null&&zt(i,a,L,h,c,null))}function hE(i,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,w=null,T=null,L=null,H=null,se=null,ge=null;for(he in c){var ve=c[he];if(c.hasOwnProperty(he)&&ve!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":H=ve;default:h.hasOwnProperty(he)||zt(i,a,he,null,h,ve)}}for(var le in h){var he=h[le];if(ve=c[le],h.hasOwnProperty(le)&&(he!=null||ve!=null))switch(le){case"type":w=he;break;case"name":x=he;break;case"checked":se=he;break;case"defaultChecked":ge=he;break;case"value":T=he;break;case"defaultValue":L=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(n(137,a));break;default:he!==ve&&zt(i,a,le,he,h,ve)}}Yd(i,T,L,H,se,ge,w,x);return;case"select":he=T=L=le=null;for(w in c)if(H=c[w],c.hasOwnProperty(w)&&H!=null)switch(w){case"value":break;case"multiple":he=H;default:h.hasOwnProperty(w)||zt(i,a,w,null,h,H)}for(x in h)if(w=h[x],H=c[x],h.hasOwnProperty(x)&&(w!=null||H!=null))switch(x){case"value":le=w;break;case"defaultValue":L=w;break;case"multiple":T=w;default:w!==H&&zt(i,a,x,w,h,H)}a=L,c=T,h=he,le!=null?La(i,!!c,le,!1):!!h!=!!c&&(a!=null?La(i,!!c,a,!0):La(i,!!c,c?[]:"",!1));return;case"textarea":he=le=null;for(L in c)if(x=c[L],c.hasOwnProperty(L)&&x!=null&&!h.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:zt(i,a,L,null,h,x)}for(T in h)if(x=h[T],w=c[T],h.hasOwnProperty(T)&&(x!=null||w!=null))switch(T){case"value":le=x;break;case"defaultValue":he=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(n(91));break;default:x!==w&&zt(i,a,T,x,h,w)}Hg(i,le,he);return;case"option":for(var Ie in c)le=c[Ie],c.hasOwnProperty(Ie)&&le!=null&&!h.hasOwnProperty(Ie)&&(Ie==="selected"?i.selected=!1:zt(i,a,Ie,null,h,le));for(H in h)le=h[H],he=c[H],h.hasOwnProperty(H)&&le!==he&&(le!=null||he!=null)&&(H==="selected"?i.selected=le&&typeof le!="function"&&typeof le!="symbol":zt(i,a,H,le,h,he));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in c)le=c[et],c.hasOwnProperty(et)&&le!=null&&!h.hasOwnProperty(et)&&zt(i,a,et,null,h,le);for(se in h)if(le=h[se],he=c[se],h.hasOwnProperty(se)&&le!==he&&(le!=null||he!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(n(137,a));break;default:zt(i,a,se,le,h,he)}return;default:if(Zd(a)){for(var Ot in c)le=c[Ot],c.hasOwnProperty(Ot)&&le!==void 0&&!h.hasOwnProperty(Ot)&&Up(i,a,Ot,void 0,h,le);for(ge in h)le=h[ge],he=c[ge],!h.hasOwnProperty(ge)||le===he||le===void 0&&he===void 0||Up(i,a,ge,le,h,he);return}}for(var K in c)le=c[K],c.hasOwnProperty(K)&&le!=null&&!h.hasOwnProperty(K)&&zt(i,a,K,null,h,le);for(ve in h)le=h[ve],he=c[ve],!h.hasOwnProperty(ve)||le===he||le==null&&he==null||zt(i,a,ve,le,h,he)}function qv(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dE(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var x=c[h],w=x.transferSize,T=x.initiatorType,L=x.duration;if(w&&L&&qv(T)){for(T=0,L=x.responseEnd,h+=1;h<c.length;h++){var H=c[h],se=H.startTime;if(se>L)break;var ge=H.transferSize,ve=H.initiatorType;ge&&qv(ve)&&(H=H.responseEnd,T+=ge*(H<L?1:(L-se)/(H-se)))}if(--h,a+=8*(w+T)/(x.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Pp=null,kp=null;function Zu(i){return i.nodeType===9?i:i.ownerDocument}function Yv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xv(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function jp(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Fp=null;function fE(){var i=window.event;return i&&i.type==="popstate"?i===Fp?!1:(Fp=i,!0):(Fp=null,!1)}var Zv=typeof setTimeout=="function"?setTimeout:void 0,pE=typeof clearTimeout=="function"?clearTimeout:void 0,Jv=typeof Promise=="function"?Promise:void 0,mE=typeof queueMicrotask=="function"?queueMicrotask:typeof Jv<"u"?function(i){return Jv.resolve(null).then(i).catch(gE)}:Zv;function gE(i){setTimeout(function(){throw i})}function ir(i){return i==="head"}function Qv(i,a){var c=a,h=0;do{var x=c.nextSibling;if(i.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"||c==="/&"){if(h===0){i.removeChild(x),co(a);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Il(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,Il(c);for(var w=c.firstChild;w;){var T=w.nextSibling,L=w.nodeName;w[Kn]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=T}}else c==="body"&&Il(i.ownerDocument.body);c=x}while(c);co(a)}function Kv(i,a){var c=i;i=0;do{var h=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=h}while(c)}function Ip(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Ip(c),xt(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function xE(i,a,c,h){for(;i.nodeType===1;){var x=c;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Kn])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==x.rel||i.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||i.getAttribute("title")!==(x.title==null?null:x.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(x.src==null?null:x.src)||i.getAttribute("type")!==(x.type==null?null:x.type)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var w=x.name==null?null:""+x.name;if(x.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=Mi(i.nextSibling),i===null)break}return null}function yE(i,a,c){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Mi(i.nextSibling),i===null))return null;return i}function $v(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Mi(i.nextSibling),i===null))return null;return i}function Hp(i){return i.data==="$?"||i.data==="$~"}function Gp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function vE(i,a){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||c.readyState!=="loading")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Mi(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var Vp=null;function eb(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(a===0)return Mi(i.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}i=i.nextSibling}return null}function tb(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return i;a--}else c!=="/$"&&c!=="/&"||a++}i=i.previousSibling}return null}function nb(i,a,c){switch(a=Zu(c),i){case"html":if(i=a.documentElement,!i)throw Error(n(452));return i;case"head":if(i=a.head,!i)throw Error(n(453));return i;case"body":if(i=a.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Il(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);xt(i)}var Si=new Map,ib=new Set;function Ju(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var _s=V.d;V.d={f:bE,r:wE,D:_E,C:ME,L:SE,m:EE,X:AE,S:TE,M:CE};function bE(){var i=_s.f(),a=Iu();return i||a}function wE(i){var a=St(i);a!==null&&a.tag===5&&a.type==="form"?by(a):_s.r(i)}var ao=typeof document>"u"?null:document;function sb(i,a,c){var h=ao;if(h&&typeof a=="string"&&a){var x=gi(a);x='link[rel="'+i+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),ib.has(x)||(ib.add(x),i={rel:i,crossOrigin:c,href:a},h.querySelector(x)===null&&(a=h.createElement("link"),Sn(a,"link",i),Ut(a),h.head.appendChild(a)))}}function _E(i){_s.D(i),sb("dns-prefetch",i,null)}function ME(i,a){_s.C(i,a),sb("preconnect",i,a)}function SE(i,a,c){_s.L(i,a,c);var h=ao;if(h&&i&&a){var x='link[rel="preload"][as="'+gi(a)+'"]';a==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+gi(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+gi(c.imageSizes)+'"]')):x+='[href="'+gi(i)+'"]';var w=x;switch(a){case"style":w=oo(i);break;case"script":w=lo(i)}Si.has(w)||(i=g({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:i,as:a},c),Si.set(w,i),h.querySelector(x)!==null||a==="style"&&h.querySelector(Hl(w))||a==="script"&&h.querySelector(Gl(w))||(a=h.createElement("link"),Sn(a,"link",i),Ut(a),h.head.appendChild(a)))}}function EE(i,a){_s.m(i,a);var c=ao;if(c&&i){var h=a&&typeof a.as=="string"?a.as:"script",x='link[rel="modulepreload"][as="'+gi(h)+'"][href="'+gi(i)+'"]',w=x;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=lo(i)}if(!Si.has(w)&&(i=g({rel:"modulepreload",href:i},a),Si.set(w,i),c.querySelector(x)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Gl(w)))return}h=c.createElement("link"),Sn(h,"link",i),Ut(h),c.head.appendChild(h)}}}function TE(i,a,c){_s.S(i,a,c);var h=ao;if(h&&i){var x=In(h).hoistableStyles,w=oo(i);a=a||"default";var T=x.get(w);if(!T){var L={loading:0,preload:null};if(T=h.querySelector(Hl(w)))L.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":a},c),(c=Si.get(w))&&Wp(i,c);var H=T=h.createElement("link");Ut(H),Sn(H,"link",i),H._p=new Promise(function(se,ge){H.onload=se,H.onerror=ge}),H.addEventListener("load",function(){L.loading|=1}),H.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Qu(T,a,h)}T={type:"stylesheet",instance:T,count:1,state:L},x.set(w,T)}}}function AE(i,a){_s.X(i,a);var c=ao;if(c&&i){var h=In(c).hoistableScripts,x=lo(i),w=h.get(x);w||(w=c.querySelector(Gl(x)),w||(i=g({src:i,async:!0},a),(a=Si.get(x))&&qp(i,a),w=c.createElement("script"),Ut(w),Sn(w,"link",i),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(x,w))}}function CE(i,a){_s.M(i,a);var c=ao;if(c&&i){var h=In(c).hoistableScripts,x=lo(i),w=h.get(x);w||(w=c.querySelector(Gl(x)),w||(i=g({src:i,async:!0,type:"module"},a),(a=Si.get(x))&&qp(i,a),w=c.createElement("script"),Ut(w),Sn(w,"link",i),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(x,w))}}function rb(i,a,c,h){var x=(x=te.current)?Ju(x):null;if(!x)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=oo(c.href),c=In(x).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=oo(c.href);var w=In(x).hoistableStyles,T=w.get(i);if(T||(x=x.ownerDocument||x,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,T),(w=x.querySelector(Hl(i)))&&!w._p&&(T.instance=w,T.state.loading=5),Si.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Si.set(i,c),w||RE(x,i,c,T.state))),a&&h===null)throw Error(n(528,""));return T}if(a&&h!==null)throw Error(n(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=lo(c),c=In(x).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function oo(i){return'href="'+gi(i)+'"'}function Hl(i){return'link[rel="stylesheet"]['+i+"]"}function ab(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function RE(i,a,c,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Sn(a,"link",c),Ut(a),i.head.appendChild(a))}function lo(i){return'[src="'+gi(i)+'"]'}function Gl(i){return"script[async]"+i}function ob(i,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+gi(c.href)+'"]');if(h)return a.instance=h,Ut(h),h;var x=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Ut(h),Sn(h,"style",x),Qu(h,c.precedence,i),a.instance=h;case"stylesheet":x=oo(c.href);var w=i.querySelector(Hl(x));if(w)return a.state.loading|=4,a.instance=w,Ut(w),w;h=ab(c),(x=Si.get(x))&&Wp(h,x),w=(i.ownerDocument||i).createElement("link"),Ut(w);var T=w;return T._p=new Promise(function(L,H){T.onload=L,T.onerror=H}),Sn(w,"link",h),a.state.loading|=4,Qu(w,c.precedence,i),a.instance=w;case"script":return w=lo(c.src),(x=i.querySelector(Gl(w)))?(a.instance=x,Ut(x),x):(h=c,(x=Si.get(w))&&(h=g({},c),qp(h,x)),i=i.ownerDocument||i,x=i.createElement("script"),Ut(x),Sn(x,"link",h),i.head.appendChild(x),a.instance=x);case"void":return null;default:throw Error(n(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Qu(h,c.precedence,i));return a.instance}function Qu(i,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=h.length?h[h.length-1]:null,w=x,T=0;T<h.length;T++){var L=h[T];if(L.dataset.precedence===a)w=L;else if(w!==x)break}w?w.parentNode.insertBefore(i,w.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(i,a.firstChild))}function Wp(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function qp(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Ku=null;function lb(i,a,c){if(Ku===null){var h=new Map,x=Ku=new Map;x.set(c,h)}else x=Ku,h=x.get(c),h||(h=new Map,x.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),x=0;x<c.length;x++){var w=c[x];if(!(w[Kn]||w[Fe]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var T=w.getAttribute(a)||"";T=i+T;var L=h.get(T);L?L.push(w):h.set(T,[w])}}return h}function cb(i,a,c){i=i.ownerDocument||i,i.head.insertBefore(c,a==="title"?i.querySelector("head > title"):null)}function NE(i,a,c){if(c===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function ub(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function LE(i,a,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var x=oo(h.href),w=a.querySelector(Hl(x));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=$u.bind(i),a.then(i,i)),c.state.loading|=4,c.instance=w,Ut(w);return}w=a.ownerDocument||a,h=ab(h),(x=Si.get(x))&&Wp(h,x),w=w.createElement("link"),Ut(w);var T=w;T._p=new Promise(function(L,H){T.onload=L,T.onerror=H}),Sn(w,"link",h),c.instance=w}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=$u.bind(i),a.addEventListener("load",c),a.addEventListener("error",c))}}var Yp=0;function DE(i,a){return i.stylesheets&&i.count===0&&th(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var h=setTimeout(function(){if(i.stylesheets&&th(i,i.stylesheets),i.unsuspend){var w=i.unsuspend;i.unsuspend=null,w()}},6e4+a);0<i.imgBytes&&Yp===0&&(Yp=62500*dE());var x=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&th(i,i.stylesheets),i.unsuspend)){var w=i.unsuspend;i.unsuspend=null,w()}},(i.imgBytes>Yp?50:800)+a);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(x)}}:null}function $u(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)th(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var eh=null;function th(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,eh=new Map,a.forEach(zE,i),eh=null,$u.call(i))}function zE(i,a){if(!(a.state.loading&4)){var c=eh.get(i);if(c)var h=c.get(null);else{c=new Map,eh.set(i,c);for(var x=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<x.length;w++){var T=x[w];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),h=T)}h&&c.set(null,h)}x=a.instance,T=x.getAttribute("data-precedence"),w=c.get(T)||h,w===h&&c.set(null,x),c.set(T,x),this.count++,h=$u.bind(this),x.addEventListener("load",h),x.addEventListener("error",h),w?w.parentNode.insertBefore(x,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(x,i.firstChild)),a.state.loading|=4}}var Vl={$$typeof:C,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function OE(i,a,c,h,x,w,T,L,H){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.hiddenUpdates=ss(null),this.identifierPrefix=h,this.onUncaughtError=x,this.onCaughtError=w,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function hb(i,a,c,h,x,w,T,L,H,se,ge,ve){return i=new OE(i,a,c,T,H,se,ge,ve,L),a=1,w===!0&&(a|=24),w=ni(3,null,null,a),i.current=w,w.stateNode=i,a=Tf(),a.refCount++,i.pooledCache=a,a.refCount++,w.memoizedState={element:h,isDehydrated:c,cache:a},Nf(w),i}function db(i){return i?(i=ja,i):ja}function fb(i,a,c,h,x,w){x=db(x),h.context===null?h.context=x:h.pendingContext=x,h=qs(a),h.payload={element:c},w=w===void 0?null:w,w!==null&&(h.callback=w),c=Ys(i,h,a),c!==null&&(Yn(c,i,a),_l(c,i,a))}function pb(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function Xp(i,a){pb(i,a),(i=i.alternate)&&pb(i,a)}function mb(i){if(i.tag===13||i.tag===31){var a=Dr(i,67108864);a!==null&&Yn(a,i,67108864),Xp(i,67108864)}}function gb(i){if(i.tag===13||i.tag===31){var a=oi();a=ae(a);var c=Dr(i,a);c!==null&&Yn(c,i,a),Xp(i,a)}}var nh=!0;function BE(i,a,c,h){var x=B.T;B.T=null;var w=V.p;try{V.p=2,Zp(i,a,c,h)}finally{V.p=w,B.T=x}}function UE(i,a,c,h){var x=B.T;B.T=null;var w=V.p;try{V.p=8,Zp(i,a,c,h)}finally{V.p=w,B.T=x}}function Zp(i,a,c,h){if(nh){var x=Jp(h);if(x===null)Bp(i,a,h,ih,c),yb(i,h);else if(kE(x,i,a,c,h))h.stopPropagation();else if(yb(i,h),a&4&&-1<PE.indexOf(i)){for(;x!==null;){var w=St(x);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var T=fi(w.pendingLanes);if(T!==0){var L=w;for(L.pendingLanes|=2,L.entangledLanes|=2;T;){var H=1<<31-ut(T);L.entanglements[1]|=H,T&=~H}Gi(w),(At&6)===0&&(ju=Pe()+500,kl(0))}}break;case 31:case 13:L=Dr(w,2),L!==null&&Yn(L,w,2),Iu(),Xp(w,2)}if(w=Jp(h),w===null&&Bp(i,a,h,ih,c),w===x)break;x=w}x!==null&&h.stopPropagation()}else Bp(i,a,h,null,c)}}function Jp(i){return i=Qd(i),Qp(i)}var ih=null;function Qp(i){if(ih=null,i=pi(i),i!==null){var a=o(i);if(a===null)i=null;else{var c=a.tag;if(c===13){if(i=l(a),i!==null)return i;i=null}else if(c===31){if(i=u(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return ih=i,null}function xb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($e()){case Ve:return 2;case J:return 8;case Oe:case Se:return 32;case qe:return 268435456;default:return 32}default:return 32}}var Kp=!1,sr=null,rr=null,ar=null,Wl=new Map,ql=new Map,or=[],PE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yb(i,a){switch(i){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Wl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(a.pointerId)}}function Yl(i,a,c,h,x,w){return i===null||i.nativeEvent!==w?(i={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[x]},a!==null&&(a=St(a),a!==null&&mb(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),i)}function kE(i,a,c,h,x){switch(a){case"focusin":return sr=Yl(sr,i,a,c,h,x),!0;case"dragenter":return rr=Yl(rr,i,a,c,h,x),!0;case"mouseover":return ar=Yl(ar,i,a,c,h,x),!0;case"pointerover":var w=x.pointerId;return Wl.set(w,Yl(Wl.get(w)||null,i,a,c,h,x)),!0;case"gotpointercapture":return w=x.pointerId,ql.set(w,Yl(ql.get(w)||null,i,a,c,h,x)),!0}return!1}function vb(i){var a=pi(i.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){i.blockedOn=a,Me(i.priority,function(){gb(c)});return}}else if(a===31){if(a=u(c),a!==null){i.blockedOn=a,Me(i.priority,function(){gb(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function sh(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=Jp(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);Jd=h,c.target.dispatchEvent(h),Jd=null}else return a=St(c),a!==null&&mb(a),i.blockedOn=c,!1;a.shift()}return!0}function bb(i,a,c){sh(i)&&c.delete(a)}function jE(){Kp=!1,sr!==null&&sh(sr)&&(sr=null),rr!==null&&sh(rr)&&(rr=null),ar!==null&&sh(ar)&&(ar=null),Wl.forEach(bb),ql.forEach(bb)}function rh(i,a){i.blockedOn===a&&(i.blockedOn=null,Kp||(Kp=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,jE)))}var ah=null;function wb(i){ah!==i&&(ah=i,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ah===i&&(ah=null);for(var a=0;a<i.length;a+=3){var c=i[a],h=i[a+1],x=i[a+2];if(typeof h!="function"){if(Qp(h||c)===null)continue;break}var w=St(c);w!==null&&(i.splice(a,3),a-=3,Jf(w,{pending:!0,data:x,method:c.method,action:h},h,x))}}))}function co(i){function a(H){return rh(H,i)}sr!==null&&rh(sr,i),rr!==null&&rh(rr,i),ar!==null&&rh(ar,i),Wl.forEach(a),ql.forEach(a);for(var c=0;c<or.length;c++){var h=or[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<or.length&&(c=or[0],c.blockedOn===null);)vb(c),c.blockedOn===null&&or.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var x=c[h],w=c[h+1],T=x[He]||null;if(typeof w=="function")T||wb(c);else if(T){var L=null;if(w&&w.hasAttribute("formAction")){if(x=w,T=w[He]||null)L=T.formAction;else if(Qp(x)!==null)continue}else L=T.action;typeof L=="function"?c[h+1]=L:(c.splice(h,3),h-=3),wb(c)}}}function _b(){function i(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(T){return x=T})},focusReset:"manual",scroll:"manual"})}function a(){x!==null&&(x(),x=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,x=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),x!==null&&(x(),x=null)}}}function $p(i){this._internalRoot=i}oh.prototype.render=$p.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));var c=a.current,h=oi();fb(c,h,i,a,null,null)},oh.prototype.unmount=$p.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;fb(i.current,2,null,i,null,null),Iu(),a[nt]=null}};function oh(i){this._internalRoot=i}oh.prototype.unstable_scheduleHydration=function(i){if(i){var a=de();i={blockedOn:null,target:i,priority:a};for(var c=0;c<or.length&&a!==0&&a<or[c].priority;c++);or.splice(c,0,i),c===0&&vb(i)}};var Mb=e.version;if(Mb!=="19.2.3")throw Error(n(527,Mb,"19.2.3"));V.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(a),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var FE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{Gt=lh.inject(FE),Mt=lh}catch{}}return Zl.createRoot=function(i,a){if(!r(i))throw Error(n(299));var c=!1,h="",x=Ny,w=Ly,T=Dy;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(x=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),a=hb(i,1,!1,null,null,c,h,null,x,w,T,_b),i[nt]=a.current,Op(i),new $p(a)},Zl.hydrateRoot=function(i,a,c){if(!r(i))throw Error(n(299));var h=!1,x="",w=Ny,T=Ly,L=Dy,H=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(L=c.onRecoverableError),c.formState!==void 0&&(H=c.formState)),a=hb(i,1,!0,a,c??null,h,x,H,w,T,L,_b),a.context=db(null),c=a.current,h=oi(),h=ae(h),x=qs(h),x.callback=null,Ys(c,x,h),c=h,a.current.lanes=c,ji(a,c),Gi(a),i[nt]=a.current,Op(i),new oh(a)},Zl.version="19.2.3",Zl}var zb;function JE(){if(zb)return nm.exports;zb=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),nm.exports=ZE(),nm.exports}var QE=JE();const KE=Ww(QE);var Ob="popstate";function $E(s={}){function e(n,r){let{pathname:o,search:l,hash:u}=n.location;return Km("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:pc(r)}return tT(e,t,null,s)}function pn(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Ji(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eT(){return Math.random().toString(36).substring(2,10)}function Bb(s,e){return{usr:s.state,key:s.key,idx:e}}function Km(s,e,t=null,n){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Dc(e):e,state:t,key:e&&e.key||n||eT()}}function pc({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function Dc(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let n=s.indexOf("?");n>=0&&(e.search=s.substring(n),s=s.substring(0,n)),s&&(e.pathname=s)}return e}function tT(s,e,t,n={}){let{window:r=document.defaultView,v5Compat:o=!1}=n,l=r.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let E=p(),M=E==null?null:E-f;f=E,d&&d({action:u,location:_.location,delta:M})}function y(E,M){u="PUSH";let S=Km(_.location,E,M);f=p()+1;let C=Bb(S,f),A=_.createHref(S);try{l.pushState(C,"",A)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(A)}o&&d&&d({action:u,location:_.location,delta:1})}function b(E,M){u="REPLACE";let S=Km(_.location,E,M);f=p();let C=Bb(S,f),A=_.createHref(S);l.replaceState(C,"",A),o&&d&&d({action:u,location:_.location,delta:0})}function v(E){return nT(E)}let _={get action(){return u},get location(){return s(r,l)},listen(E){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(Ob,g),d=E,()=>{r.removeEventListener(Ob,g),d=null}},createHref(E){return e(r,E)},createURL:v,encodeLocation(E){let M=v(E);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:y,replace:b,go(E){return l.go(E)}};return _}function nT(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),pn(t,"No window.location.(origin|href) available to create URL");let n=typeof s=="string"?s:pc(s);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function qw(s,e,t="/"){return iT(s,e,t,!1)}function iT(s,e,t,n){let r=typeof e=="string"?Dc(e):e,o=Ls(r.pathname||"/",t);if(o==null)return null;let l=Yw(s);sT(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=mT(o);u=fT(l[d],f,n)}return u}function Yw(s,e=[],t=[],n="",r=!1){let o=(l,u,d=r,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;pn(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=Rs([n,p.relativePath]),y=t.concat(p);l.children&&l.children.length>0&&(pn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Yw(l.children,e,y,g,d)),!(l.path==null&&!l.index)&&e.push({path:g,score:hT(g,l.index),routesMeta:y})};return s.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let d of Xw(l.path))o(l,u,!0,d)}),e}function Xw(s){let e=s.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return r?[o,""]:[o];let l=Xw(n.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&u.push(...l),u.map(d=>s.startsWith("/")&&d===""?"/":d)}function sT(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:dT(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var rT=/^:[\w-]+$/,aT=3,oT=2,lT=1,cT=10,uT=-2,Ub=s=>s==="*";function hT(s,e){let t=s.split("/"),n=t.length;return t.some(Ub)&&(n+=uT),e&&(n+=oT),t.filter(r=>!Ub(r)).reduce((r,o)=>r+(rT.test(o)?aT:o===""?lT:cT),n)}function dT(s,e){return s.length===e.length&&s.slice(0,-1).every((n,r)=>n===e[r])?s[s.length-1]-e[e.length-1]:0}function fT(s,e,t=!1){let{routesMeta:n}=s,r={},o="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,p=o==="/"?e:e.slice(o.length)||"/",g=ad({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),y=d.route;if(!g&&f&&t&&!n[n.length-1].route.index&&(g=ad({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(r,g.params),l.push({params:r,pathname:Rs([o,g.pathname]),pathnameBase:vT(Rs([o,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(o=Rs([o,g.pathnameBase]))}return l}function ad(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,n]=pT(s.path,s.caseSensitive,s.end),r=e.match(t);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:g},y)=>{if(p==="*"){let v=u[y]||"";l=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const b=u[y];return g&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:s}}function pT(s,e=!1,t=!0){Ji(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let n=[],r="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(n.push({paramName:"*"}),r+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":s!==""&&s!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function mT(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ji(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Ls(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=s.charAt(t);return n&&n!=="/"?null:s.slice(t)||"/"}var gT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function xT(s,e="/"){let{pathname:t,search:n="",hash:r=""}=typeof s=="string"?Dc(s):s,o;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?o=Pb(t.substring(1),"/"):o=Pb(t,e)):o=e,{pathname:o,search:bT(n),hash:wT(r)}}function Pb(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function am(s,e,t,n){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yT(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Zw(s){let e=yT(s);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Jw(s,e,t,n=!1){let r;typeof s=="string"?r=Dc(s):(r={...s},pn(!r.pathname||!r.pathname.includes("?"),am("?","pathname","search",r)),pn(!r.pathname||!r.pathname.includes("#"),am("#","pathname","hash",r)),pn(!r.search||!r.search.includes("#"),am("#","search","hash",r)));let o=s===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=t;else{let g=e.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;r.pathname=y.join("/")}u=g>=0?e[g]:"/"}let d=xT(r,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Rs=s=>s.join("/").replace(/\/\/+/g,"/"),vT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),bT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,wT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,_T=class{constructor(s,e,t,n=!1){this.status=s,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function MT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function ST(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Qw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Kw(s,e){let t=s;if(typeof t!="string"||!gT.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let n=t,r=!1;if(Qw)try{let o=new URL(window.location.href),l=t.startsWith("//")?new URL(o.protocol+t):new URL(t),u=Ls(l.pathname,e);l.origin===o.origin&&u!=null?t=u+l.search+l.hash:r=!0}catch{Ji(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $w=["POST","PUT","PATCH","DELETE"];new Set($w);var ET=["GET",...$w];new Set(ET);var Qo=I.createContext(null);Qo.displayName="DataRouter";var dd=I.createContext(null);dd.displayName="DataRouterState";var TT=I.createContext(!1),e_=I.createContext({isTransitioning:!1});e_.displayName="ViewTransition";var AT=I.createContext(new Map);AT.displayName="Fetchers";var CT=I.createContext(null);CT.displayName="Await";var Ti=I.createContext(null);Ti.displayName="Navigation";var fd=I.createContext(null);fd.displayName="Location";var Ps=I.createContext({outlet:null,matches:[],isDataRoute:!1});Ps.displayName="Route";var N0=I.createContext(null);N0.displayName="RouteError";var t_="REACT_ROUTER_ERROR",RT="REDIRECT",NT="ROUTE_ERROR_RESPONSE";function LT(s){if(s.startsWith(`${t_}:${RT}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function DT(s){if(s.startsWith(`${t_}:${NT}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new _T(e.status,e.statusText,e.data)}catch{}}function zT(s,{relative:e}={}){pn(zc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=I.useContext(Ti),{hash:r,pathname:o,search:l}=Oc(s,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:Rs([t,o])),n.createHref({pathname:u,search:l,hash:r})}function zc(){return I.useContext(fd)!=null}function va(){return pn(zc(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(fd).location}var n_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i_(s){I.useContext(Ti).static||I.useLayoutEffect(s)}function s_(){let{isDataRoute:s}=I.useContext(Ps);return s?qT():OT()}function OT(){pn(zc(),"useNavigate() may be used only in the context of a <Router> component.");let s=I.useContext(Qo),{basename:e,navigator:t}=I.useContext(Ti),{matches:n}=I.useContext(Ps),{pathname:r}=va(),o=JSON.stringify(Zw(n)),l=I.useRef(!1);return i_(()=>{l.current=!0}),I.useCallback((d,f={})=>{if(Ji(l.current,n_),!l.current)return;if(typeof d=="number"){t.go(d);return}let p=Jw(d,JSON.parse(o),r,f.relative==="path");s==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Rs([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,o,r,s])}I.createContext(null);function Oc(s,{relative:e}={}){let{matches:t}=I.useContext(Ps),{pathname:n}=va(),r=JSON.stringify(Zw(t));return I.useMemo(()=>Jw(s,JSON.parse(r),n,e==="path"),[s,r,n,e])}function BT(s,e,t,n,r){pn(zc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=I.useContext(Ti),{matches:l}=I.useContext(Ps),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let S=g&&g.path||"";a_(f,!g||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let y=va(),b;b=y;let v=b.pathname||"/",_=v;if(p!=="/"){let S=p.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let E=qw(s,{pathname:_});return Ji(g||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ji(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),FT(E&&E.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:Rs([p,o.encodeLocation?o.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?p:Rs([p,o.encodeLocation?o.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),l,t,n,r)}function UT(){let s=WT(),e=MT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",s),l=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:o},"ErrorBoundary")," or"," ",I.createElement("code",{style:o},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:r},t):null,l)}var PT=I.createElement(UT,null),r_=class extends I.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const t=DT(s.digest);t&&(s=t)}let e=s!==void 0?I.createElement(Ps.Provider,{value:this.props.routeContext},I.createElement(N0.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?I.createElement(kT,{error:s},e):e}};r_.contextType=TT;var om=new WeakMap;function kT({children:s,error:e}){let{basename:t}=I.useContext(Ti);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=LT(e.digest);if(n){let r=om.get(e);if(r)throw r;let o=Kw(n.location,t);if(Qw&&!om.get(e))if(o.isExternal||n.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:n.replace}));throw om.set(e,l),l}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return s}function jT({routeContext:s,match:e,children:t}){let n=I.useContext(Qo);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Ps.Provider,{value:s},t)}function FT(s,e=[],t=null,n=null,r=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let o=s,l=t?.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);pn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:y,errors:b}=t,v=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||v){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=t&&n?(p,g)=>{n(p,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:ST(t.matches),errorInfo:g})}:void 0;return o.reduceRight((p,g,y)=>{let b,v=!1,_=null,E=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,_=g.route.errorElement||PT,u&&(d<0&&y===0?(a_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):d===y&&(v=!0,E=g.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,y+1)),S=()=>{let C;return b?C=_:v?C=E:g.route.Component?C=I.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=p,I.createElement(jT,{match:g,routeContext:{outlet:p,matches:M,isDataRoute:t!=null},children:C})};return t&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?I.createElement(r_,{location:t.location,revalidation:t.revalidation,component:_,error:b,children:S(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:f}):S()},null)}function L0(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IT(s){let e=I.useContext(Qo);return pn(e,L0(s)),e}function HT(s){let e=I.useContext(dd);return pn(e,L0(s)),e}function GT(s){let e=I.useContext(Ps);return pn(e,L0(s)),e}function D0(s){let e=GT(s),t=e.matches[e.matches.length-1];return pn(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function VT(){return D0("useRouteId")}function WT(){let s=I.useContext(N0),e=HT("useRouteError"),t=D0("useRouteError");return s!==void 0?s:e.errors?.[t]}function qT(){let{router:s}=IT("useNavigate"),e=D0("useNavigate"),t=I.useRef(!1);return i_(()=>{t.current=!0}),I.useCallback(async(r,o={})=>{Ji(t.current,n_),t.current&&(typeof r=="number"?await s.navigate(r):await s.navigate(r,{fromRouteId:e,...o}))},[s,e])}var kb={};function a_(s,e,t){!e&&!kb[s]&&(kb[s]=!0,Ji(!1,t))}I.memo(YT);function YT({routes:s,future:e,state:t,onError:n}){return BT(s,void 0,t,n,e)}function XT({basename:s="/",children:e=null,location:t,navigationType:n="POP",navigator:r,static:o=!1,unstable_useTransitions:l}){pn(!zc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=s.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:u,navigator:r,static:o,unstable_useTransitions:l,future:{}}),[u,r,o,l]);typeof t=="string"&&(t=Dc(t));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:b="default"}=t,v=I.useMemo(()=>{let _=Ls(f,u);return _==null?null:{location:{pathname:_,search:p,hash:g,state:y,key:b},navigationType:n}},[u,f,p,g,y,b,n]);return Ji(v!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:I.createElement(Ti.Provider,{value:d},I.createElement(fd.Provider,{children:e,value:v}))}var Kh="get",$h="application/x-www-form-urlencoded";function pd(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function ZT(s){return pd(s)&&s.tagName.toLowerCase()==="button"}function JT(s){return pd(s)&&s.tagName.toLowerCase()==="form"}function QT(s){return pd(s)&&s.tagName.toLowerCase()==="input"}function KT(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function $T(s,e){return s.button===0&&(!e||e==="_self")&&!KT(s)}var ch=null;function eA(){if(ch===null)try{new FormData(document.createElement("form"),0),ch=!1}catch{ch=!0}return ch}var tA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(s){return s!=null&&!tA.has(s)?(Ji(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$h}"`),null):s}function nA(s,e){let t,n,r,o,l;if(JT(s)){let u=s.getAttribute("action");n=u?Ls(u,e):null,t=s.getAttribute("method")||Kh,r=lm(s.getAttribute("enctype"))||$h,o=new FormData(s)}else if(ZT(s)||QT(s)&&(s.type==="submit"||s.type==="image")){let u=s.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=s.getAttribute("formaction")||u.getAttribute("action");if(n=d?Ls(d,e):null,t=s.getAttribute("formmethod")||u.getAttribute("method")||Kh,r=lm(s.getAttribute("formenctype"))||lm(u.getAttribute("enctype"))||$h,o=new FormData(u,s),!eA()){let{name:f,type:p,value:g}=s;if(p==="image"){let y=f?`${f}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else f&&o.append(f,g)}}else{if(pd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Kh,n=null,r=$h,l=s}return o&&r==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function z0(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function iA(s,e,t,n){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return t?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${n}`:r.pathname=`${r.pathname}.${n}`:r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ls(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function sA(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rA(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function aA(s,e,t){let n=await Promise.all(s.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await sA(o,t);return l.links?l.links():[]}return[]}));return uA(n.flat(1).filter(rA).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function jb(s,e,t,n,r,o){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?e.filter((d,f)=>{let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function oA(s,e,{includeHydrateFallback:t}={}){return lA(s.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function lA(s){return[...new Set(s)]}function cA(s){let e={},t=Object.keys(s).sort();for(let n of t)e[n]=s[n];return e}function uA(s,e){let t=new Set;return new Set(e),s.reduce((n,r)=>{let o=JSON.stringify(cA(r));return t.has(o)||(t.add(o),n.push({key:o,link:r})),n},[])}function o_(){let s=I.useContext(Qo);return z0(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function hA(){let s=I.useContext(dd);return z0(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var O0=I.createContext(void 0);O0.displayName="FrameworkContext";function l_(){let s=I.useContext(O0);return z0(s,"You must render this element inside a <HydratedRouter> element"),s}function dA(s,e){let t=I.useContext(O0),[n,r]=I.useState(!1),[o,l]=I.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,y=I.useRef(null);I.useEffect(()=>{if(s==="render"&&l(!0),s==="viewport"){let _=M=>{M.forEach(S=>{l(S.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[s]),I.useEffect(()=>{if(n){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[n]);let b=()=>{r(!0)},v=()=>{r(!1),l(!1)};return t?s!=="intent"?[o,y,{}]:[o,y,{onFocus:Jl(u,b),onBlur:Jl(d,v),onMouseEnter:Jl(f,b),onMouseLeave:Jl(p,v),onTouchStart:Jl(g,b)}]:[!1,y,{}]}function Jl(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function fA({page:s,...e}){let{router:t}=o_(),n=I.useMemo(()=>qw(t.routes,s,t.basename),[t.routes,s,t.basename]);return n?I.createElement(mA,{page:s,matches:n,...e}):null}function pA(s){let{manifest:e,routeModules:t}=l_(),[n,r]=I.useState([]);return I.useEffect(()=>{let o=!1;return aA(s,e,t).then(l=>{o||r(l)}),()=>{o=!0}},[s,e,t]),n}function mA({page:s,matches:e,...t}){let n=va(),{future:r,manifest:o,routeModules:l}=l_(),{basename:u}=o_(),{loaderData:d,matches:f}=hA(),p=I.useMemo(()=>jb(s,e,f,o,n,"data"),[s,e,f,o,n]),g=I.useMemo(()=>jb(s,e,f,o,n,"assets"),[s,e,f,o,n]),y=I.useMemo(()=>{if(s===n.pathname+n.search+n.hash)return[];let _=new Set,E=!1;if(e.forEach(S=>{let C=o.routes[S.route.id];!C||!C.hasLoader||(!p.some(A=>A.route.id===S.route.id)&&S.route.id in d&&l[S.route.id]?.shouldRevalidate||C.hasClientLoader?E=!0:_.add(S.route.id))}),_.size===0)return[];let M=iA(s,u,r.unstable_trailingSlashAwareDataRequests,"data");return E&&_.size>0&&M.searchParams.set("_routes",e.filter(S=>_.has(S.route.id)).map(S=>S.route.id).join(",")),[M.pathname+M.search]},[u,r.unstable_trailingSlashAwareDataRequests,d,n,o,p,e,s,l]),b=I.useMemo(()=>oA(g,o),[g,o]),v=pA(g);return I.createElement(I.Fragment,null,y.map(_=>I.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),b.map(_=>I.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),v.map(({key:_,link:E})=>I.createElement("link",{key:_,nonce:t.nonce,...E,crossOrigin:E.crossOrigin??t.crossOrigin})))}function gA(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var xA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xA&&(window.__reactRouterVersion="7.13.0")}catch{}function yA({basename:s,children:e,unstable_useTransitions:t,window:n}){let r=I.useRef();r.current==null&&(r.current=$E({window:n,v5Compat:!0}));let o=r.current,[l,u]=I.useState({action:o.action,location:o.location}),d=I.useCallback(f=>{t===!1?u(f):I.startTransition(()=>u(f))},[t]);return I.useLayoutEffect(()=>o.listen(d),[o,d]),I.createElement(XT,{basename:s,children:e,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:t})}var c_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u_=I.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...b},v){let{basename:_,unstable_useTransitions:E}=I.useContext(Ti),M=typeof f=="string"&&c_.test(f),S=Kw(f,_);f=S.to;let C=zT(f,{relative:r}),[A,N,D]=dA(n,b),R=_A(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:r,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:E});function P(G){e&&e(G),G.defaultPrevented||R(G)}let q=I.createElement("a",{...b,...D,href:S.absoluteURL||C,onClick:S.isExternal||o?e:P,ref:gA(v,N),target:d,"data-discover":!M&&t==="render"?"true":void 0});return A&&!M?I.createElement(I.Fragment,null,q,I.createElement(fA,{page:C})):q});u_.displayName="Link";var vA=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let g=Oc(l,{relative:f.relative}),y=va(),b=I.useContext(dd),{navigator:v,basename:_}=I.useContext(Ti),E=b!=null&&AA(g)&&u===!0,M=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,S=y.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(S=S.toLowerCase(),C=C?C.toLowerCase():null,M=M.toLowerCase()),C&&_&&(C=Ls(C,_)||C);const A=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let N=S===M||!r&&S.startsWith(M)&&S.charAt(A)==="/",D=C!=null&&(C===M||!r&&C.startsWith(M)&&C.charAt(M.length)==="/"),R={isActive:N,isPending:D,isTransitioning:E},P=N?e:void 0,q;typeof n=="function"?q=n(R):q=[n,N?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let G=typeof o=="function"?o(R):o;return I.createElement(u_,{...f,"aria-current":P,className:q,ref:p,style:G,to:l,viewTransition:u},typeof d=="function"?d(R):d)});vA.displayName="NavLink";var bA=I.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:r,state:o,method:l=Kh,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...b},v)=>{let{unstable_useTransitions:_}=I.useContext(Ti),E=EA(),M=TA(u,{relative:f}),S=l.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&c_.test(u),A=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let D=N.nativeEvent.submitter,R=D?.getAttribute("formmethod")||l,P=()=>E(D||N.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:r,state:o,relative:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y});_&&t!==!1?I.startTransition(()=>P()):P()};return I.createElement("form",{ref:v,method:S,action:M,onSubmit:n?d:A,...b,"data-discover":!C&&s==="render"?"true":void 0})});bA.displayName="Form";function wA(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h_(s){let e=I.useContext(Qo);return pn(e,wA(s)),e}function _A(s,{target:e,replace:t,state:n,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=s_(),p=va(),g=Oc(s,{relative:o});return I.useCallback(y=>{if($T(y,e)){y.preventDefault();let b=t!==void 0?t:pc(p)===pc(g),v=()=>f(s,{replace:b,state:n,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u});d?I.startTransition(()=>v()):v()}},[p,f,g,t,n,e,s,r,o,l,u,d])}var MA=0,SA=()=>`__${String(++MA)}__`;function EA(){let{router:s}=h_("useSubmit"),{basename:e}=I.useContext(Ti),t=VT(),n=s.fetch,r=s.navigate;return I.useCallback(async(o,l={})=>{let{action:u,method:d,encType:f,formData:p,body:g}=nA(o,e);if(l.navigate===!1){let y=l.fetcherKey||SA();await n(y,t,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await r(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,r,e,t])}function TA(s,{relative:e}={}){let{basename:t}=I.useContext(Ti),n=I.useContext(Ps);pn(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),o={...Oc(s||".",{relative:e})},l=va();if(s==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();o.search=p?`?${p}`:""}}return(!s||s===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Rs([t,o.pathname])),pc(o)}function AA(s,{relative:e}={}){let t=I.useContext(e_);pn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=h_("useViewTransitionState"),r=Oc(s,{relative:e});if(!t.isTransitioning)return!1;let o=Ls(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=Ls(t.nextLocation.pathname,n)||t.nextLocation.pathname;return ad(r.pathname,l)!=null||ad(r.pathname,o)!=null}const CA="/assets/logonew-CVeRHppU.png",RA=({currentPage:s,setCurrentPage:e})=>{const[t,n]=I.useState(!1),[r,o]=I.useState(!1);I.useEffect(()=>{const d=()=>{n(window.scrollY>50)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const l=[{name:"Home",id:"home"},{name:"About Us",id:"about"},{name:"Services",id:"services"},{name:"Portal",id:"portal"},{name:"Contact Us",id:"contact"},{name:"News & Events",id:"news"},{name:"Careers",id:"careers"}],u=d=>{e(d),o(!1),window.scrollTo({top:0,behavior:"smooth"})};return m.jsxs(m.Fragment,{children:[m.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-slate-900/20 backdrop-blur-xl border border-slate-400/20",children:m.jsx("div",{className:"container mx-auto px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1 flex items-center justify-center gap-3",children:[m.jsx("div",{onClick:()=>u("home"),className:"cursor-pointer hover:opacity-80 transition-opacity duration-300",children:m.jsx("img",{src:CA,alt:"Mag Marine Logo",className:"h-12 w-12 md:h-14 md:w-14 object-contain"})}),m.jsx("h1",{onClick:()=>u("home"),className:"text-sm md:text-lg font-bold text-white tracking-wide cursor-pointer hover:text-gray-300 transition-colors duration-300 whitespace-nowrap",children:"MAG MARINE SERVICES PVT. LTD."})]}),m.jsx("button",{onClick:()=>o(!r),className:"w-12 h-12 flex items-center justify-center text-white hover:text-gray-300 transition-colors duration-300","aria-label":"Toggle menu",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:r?m.jsx("path",{d:"M6 18L18 6M6 6l12 12"}):m.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})]})})}),m.jsx("div",{className:`fixed top-0 right-0 h-full w-80 z-40 transition-all duration-500 ease-out ${r?"translate-x-0":"translate-x-full"}`,children:m.jsx("div",{className:"relative h-full w-full pt-20 px-6 pb-6",children:m.jsx("div",{className:"relative h-full",children:l.map((d,f)=>{const p=l.length,g=s===d.id,y=r?f*80:(p-f-1)*40;return m.jsx("button",{onClick:()=>u(d.id),className:`absolute top-0 left-0 w-full rounded-2xl transition-all duration-700 ease-out cursor-pointer group ${g?"bg-gradient-to-br from-cyan-500 to-blue-600 text-white shadow-xl shadow-cyan-500/30":"bg-slate-900/40 backdrop-blur-xl text-gray-300 hover:bg-slate-800/60 border border-white/10"}`,style:{transform:r?`translateY(${f*90}px) scale(${1-f*.02}) translateZ(0)`:`translateY(${f*5}px) scale(${1-f*.05}) translateZ(0)`,opacity:r?1:0,zIndex:p-f,transitionDelay:`${y}ms`,transformOrigin:"top center",boxShadow:r?`0 ${4+f*2}px ${20+f*5}px rgba(0, 0, 0, 0.3)`:"none"},onMouseEnter:b=>{!g&&r&&(b.currentTarget.style.transform=`translateY(${f*90-10}px) scale(${1-f*.02+.03}) translateZ(0)`)},onMouseLeave:b=>{!g&&r&&(b.currentTarget.style.transform=`translateY(${f*90}px) scale(${1-f*.02}) translateZ(0)`)},children:m.jsxs("div",{className:"px-8 py-6 flex items-center justify-between",children:[m.jsx("span",{className:"text-lg font-semibold tracking-wide transition-transform duration-300 group-hover:translate-x-2",children:d.name}),m.jsx("svg",{className:"w-5 h-5 transition-transform duration-300 group-hover:translate-x-1",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{d:"M9 5l7 7-7 7"})})]})},f)})})})}),r&&m.jsx("div",{onClick:()=>o(!1),className:"fixed inset-0 z-30"})]})},NA="/assets/ship-DtojD-G2.mp4",LA="/assets/sailing-ship-BsnuOSdu.mp4",DA="/assets/ship-inside-Cn1FeUTV.mp4",zA="/assets/new-BRW1WHC0.mp4",OA="/assets/diving-ch8zUdGM.mp4",BA=()=>{const s=I.useRef(null),e=I.useRef(null),[t,n]=I.useState(0),[r,o]=I.useState(!1),[l,u]=I.useState("A"),d=[NA,LA,DA,zA,OA],f=l==="A"?s:e,p=l==="A"?e:s;I.useEffect(()=>{f.current&&(f.current.playbackRate=.75);const y=(t+1)%d.length;p.current&&(p.current.src=d[y],p.current.load(),p.current.playbackRate=.75)},[t,l]);const g=()=>{o(!0),setTimeout(()=>{p.current&&(p.current.currentTime=0,p.current.play()),u(y=>y==="A"?"B":"A"),n(y=>(y+1)%d.length),o(!1)},500)};return m.jsxs("section",{className:"relative h-screen w-full overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0",children:[m.jsx("video",{ref:s,src:d[0],autoPlay:!0,muted:!0,playsInline:!0,onEnded:l==="A"?g:void 0,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ${l==="A"&&!r?"opacity-100":"opacity-0"}`}),m.jsx("video",{ref:e,muted:!0,playsInline:!0,onEnded:l==="B"?g:void 0,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ${l==="B"&&!r?"opacity-100":"opacity-0"}`})]}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900/90 via-slate-900/60 to-slate-900/30 z-10"}),m.jsx("div",{className:"relative z-20 h-full flex items-center",children:m.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-20",children:m.jsxs("div",{className:"max-w-3xl animate-fade-in",children:[m.jsxs("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-semibold text-white mb-6 leading-tight animate-slide-up",children:["YOUR CHALLENGE,",m.jsx("br",{}),m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-sky-300 via-cyan-300 to-blue-400 animate-glow-pulse",children:"OUR MISSION"})]}),m.jsxs("p",{className:"text-lg md:text-xl text-blue-100 font-light leading-relaxed animate-slide-up-delay",children:["Delivering excellence in marine engineering and diving services",m.jsx("br",{}),"with innovation, precision, and unwavering commitment to safety"]}),m.jsx("div",{className:"mt-10 animate-slide-up-delay-2",children:m.jsx("button",{className:"px-8 py-4 bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold rounded-lg shadow-lg hover:shadow-cyan-500/50 hover:scale-105 transition-all duration-300",children:"Explore Our Services"})})]})})}),m.jsx("div",{className:"absolute bottom-20 left-6 md:left-12 lg:left-20 z-20 flex gap-2",children:d.map((y,b)=>m.jsx("div",{className:`h-1 rounded-full transition-all duration-500 ${b===t?"w-12 bg-cyan-400":"w-8 bg-white/30 hover:bg-white/50 cursor-pointer"}`,onClick:()=>{o(!0),setTimeout(()=>{n(b),o(!1)},500)}},b))}),m.jsx("div",{className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 z-20 animate-bounce",children:m.jsx("svg",{className:"w-6 h-6 text-cyan-400",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),m.jsx("style",{jsx:!0,children:`
        @keyframes fade-in {
          from { opacity: 0; }
          to { opacity: 1; }
        }

        @keyframes slide-up {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }

        @keyframes glow-pulse {
          0% { filter: brightness(1); }
          50% { filter: brightness(1.3) drop-shadow(0 0 20px rgba(56,189,248,0.6)); }
          100% { filter: brightness(1); }
        }

        .animate-fade-in { animation: fade-in 1s ease-out; }
        .animate-slide-up { animation: slide-up 1s ease-out 0.3s both; }
        .animate-slide-up-delay { animation: slide-up 1s ease-out 0.6s both; }
        .animate-slide-up-delay-2 { animation: slide-up 1s ease-out 0.9s both; }
        .animate-glow-pulse {
          animation: slide-up 1s ease-out 0.3s both,
                     glow-pulse 2.5s ease-in-out 1.5s infinite;
        }
      `})]})},UA="/assets/water-view-Cb9dVNqK.jpg",PA=()=>{const s=I.useRef(null),e=I.useRef(null),[t,n]=I.useState(!1),[r,o]=I.useState(!1);return I.useEffect(()=>{const l=()=>{o(window.innerWidth<768)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),I.useEffect(()=>{const l=new IntersectionObserver(([u])=>{u.isIntersecting&&n(!0)},{threshold:.2,rootMargin:"-50px"});return e.current&&l.observe(e.current),()=>l.disconnect()},[]),I.useEffect(()=>{const l=s.current;if(!l)return;const u=l.getContext("2d"),d=()=>{l.width=window.innerWidth,l.height=l.parentElement.clientHeight};d();const f=[],p=r?150:300,g=l.width/2,y=l.height/2;let b={x:null,y:null,radius:r?100:150},v=0;const _={minOrbitRadius:r?80:150,maxOrbitRadius:r?200:400,waveSpeed:.3,waveAmplitude:1,particleSize:r?1:1.5,color:"#35373a",particleVariance:1,pulseSpeed:2,fieldStrength:12,mouseDamping:.92,returnSpeed:.04};class E{constructor(P){this.index=P,this.orbitRadius=_.minOrbitRadius+Math.random()*(_.maxOrbitRadius-_.minOrbitRadius),this.orbitAngle=P/p*Math.PI*2+Math.random()*.5,this.orbitSpeed=(Math.random()*.4+.3)*(Math.random()>.5?1:-1),this.baseX=g+Math.cos(this.orbitAngle)*this.orbitRadius,this.baseY=y+Math.sin(this.orbitAngle)*this.orbitRadius,this.x=this.baseX,this.y=this.baseY,this.vx=0,this.vy=0,this.size=_.particleSize+(Math.random()*_.particleVariance-_.particleVariance/2),this.rotation=this.orbitAngle,this.pulseOffset=Math.random()*Math.PI*2,this.depth=Math.random(),this.swimOffset=Math.random()*Math.PI*2}draw(){const P=Math.sin(v*_.pulseSpeed+this.pulseOffset)*.2+.9,q=this.size*P,G=.5+this.depth*.3,j=this.hexToRgb(_.color);u.save(),u.translate(this.x,this.y),u.rotate(this.rotation),u.fillStyle=`rgba(${j.r}, ${j.g}, ${j.b}, ${G})`,u.beginPath();const oe=q*3.5,Q=q;u.ellipse(0,0,oe,Q,0,0,Math.PI*2),u.fill(),r||(u.shadowBlur=12,u.shadowColor=`rgba(${j.r}, ${j.g}, ${j.b}, 0.3)`,u.fill()),u.restore()}update(){this.orbitAngle+=this.orbitSpeed*.008;const P=Math.sin(v*_.waveSpeed+this.swimOffset)*_.waveAmplitude*15,q=g+Math.cos(this.orbitAngle)*(this.orbitRadius+P),G=y+Math.sin(this.orbitAngle)*(this.orbitRadius+P);let j=0,oe=0;if(b.x!==null&&b.y!==null){let re=this.x-b.x,B=this.y-b.y,V=Math.sqrt(re*re+B*B);if(V<b.radius&&V>0){let ce=(b.radius-V)/b.radius;ce=Math.pow(ce,3)*_.fieldStrength;let Te=Math.atan2(B,re);j=Math.cos(Te)*ce,oe=Math.sin(Te)*ce}}this.vx+=(q-this.x)*_.returnSpeed+j*.5,this.vy+=(G-this.y)*_.returnSpeed+oe*.5,this.vx*=_.mouseDamping,this.vy*=_.mouseDamping,this.x+=this.vx,this.y+=this.vy;let W=Math.atan2(this.vy,this.vx)-this.rotation;for(;W>Math.PI;)W-=Math.PI*2;for(;W<-Math.PI;)W+=Math.PI*2;this.rotation+=W*.08}hexToRgb(P){const q=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(P);return q?{r:parseInt(q[1],16),g:parseInt(q[2],16),b:parseInt(q[3],16)}:{r:122,g:133,b:153}}}function M(){f.length=0;for(let R=0;R<p;R++)f.push(new E(R))}function S(){u.clearRect(0,0,l.width,l.height),u.shadowBlur=0,v+=.016,f.sort((R,P)=>R.depth-P.depth);for(let R=0;R<f.length;R++)f[R].update(),f[R].draw();requestAnimationFrame(S)}const C=R=>{const P=l.getBoundingClientRect();b.x=R.clientX-P.left,b.y=R.clientY-P.top},A=R=>{const P=l.getBoundingClientRect(),q=R.touches[0];b.x=q.clientX-P.left,b.y=q.clientY-P.top},N=()=>{b.x=null,b.y=null},D=()=>{d(),M()};return l.addEventListener("mousemove",C),l.addEventListener("touchmove",A),l.addEventListener("mouseleave",N),l.addEventListener("touchend",N),window.addEventListener("resize",D),M(),S(),()=>{l.removeEventListener("mousemove",C),l.removeEventListener("touchmove",A),l.removeEventListener("mouseleave",N),l.removeEventListener("touchend",N),window.removeEventListener("resize",D)}},[r]),m.jsxs("section",{ref:e,id:"progress-section",className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 z-0",children:m.jsx("img",{src:UA,alt:"Water view background",className:"w-full h-full object-cover",loading:"lazy"})}),m.jsx("div",{className:"absolute inset-0 bg-slate-900/40 z-5"}),m.jsx("canvas",{ref:s,className:"absolute inset-0 z-10"}),m.jsx("div",{className:`relative z-20 container mx-auto px-4 sm:px-6 py-12 sm:py-20 transition-all duration-1000 ease-out ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-16"}`,children:m.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[m.jsxs("h2",{className:`text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-6 sm:mb-8 tracking-tight drop-shadow-lg transition-all duration-1000 delay-200 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:["Driven by"," ",m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 via-blue-300 to-blue-400",children:"Dedication"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("p",{className:`text-sm sm:text-base md:text-lg text-white leading-relaxed drop-shadow-md transition-all duration-1000 delay-300 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:["At ",m.jsx("strong",{children:"Mag Marine Services"}),", our progress is driven by the dedication of our team and the trust of our partners. Their continued support has helped us grow rapidly and build a strong presence in the marine sector."]}),m.jsx("p",{className:`text-sm sm:text-base md:text-lg text-white leading-relaxed drop-shadow-md transition-all duration-1000 delay-400 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:"We are expanding our operations and capabilities to meet the evolving needs of the industry. With a focus on quality, efficiency, and innovation, we aim to deliver even greater value to our clients."}),m.jsx("p",{className:`text-sm sm:text-base md:text-lg text-white leading-relaxed drop-shadow-md transition-all duration-1000 delay-500 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:"As we move forward, we remain committed to progress, adaptability, and excellencewhile staying true to the values that have shaped our journey so far."})]})]})})]})};var ed={exports:{}},kA=ed.exports,Fb;function jA(){return Fb||(Fb=1,(function(s,e){(function(t,n){s.exports=n()})(typeof self<"u"?self:kA,(()=>(()=>{var t={d:(v,_)=>{for(var E in _)t.o(_,E)&&!t.o(v,E)&&Object.defineProperty(v,E,{enumerable:!0,get:_[E]})},o:(v,_)=>Object.prototype.hasOwnProperty.call(v,_),r:v=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>b}),Number.prototype.clamp=function(v,_){return Math.min(Math.max(this,v),_)};function r(v){for(;v.children&&v.children.length>0;)r(v.children[0]),v.remove(v.children[0]);v.geometry&&v.geometry.dispose(),v.material&&(Object.keys(v.material).forEach((_=>{v.material[_]&&v.material[_]!==null&&typeof v.material[_].dispose=="function"&&v.material[_].dispose()})),v.material.dispose())}const o=typeof window=="object";let l=o&&window.THREE||{};o&&!window.VANTA&&(window.VANTA={});const u=o&&window.VANTA||{};u.register=(v,_)=>u[v]=E=>new _(E),u.version="0.5.24";const d=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};u.VantaBase=class{constructor(v={}){if(!o)return!1;u.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const _=typeof this.getDefaultOptions=="function"?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},_),(v instanceof HTMLElement||typeof v=="string")&&(v={el:v}),Object.assign(this.options,v),this.options.THREE&&(l=this.options.THREE),this.el=this.options.el,this.el==null)d('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const C=this.el;if(this.el=(E=C,document.querySelector(E)),!this.el)return void d("Cannot find element",C)}var E,M;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(C){return d("Init error",C),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(M=this.options.backgroundColor,typeof M=="number"?"#"+("00000"+M.toString(16)).slice(-6):M)))}this.initMouse(),this.resize(),this.animationLoop();const S=window.addEventListener;S("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(S("scroll",this.windowMouseMoveWrapper),S("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(S("touchstart",this.windowTouchWrapper),S("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&S("deviceorientation",this.windowGyroWrapper)}setOptions(v={}){Object.assign(this.options,v),this.triggerMouseMove()}prepareEl(){let v,_;if(typeof Node<"u"&&Node.TEXT_NODE)for(v=0;v<this.el.childNodes.length;v++){const E=this.el.childNodes[v];if(E.nodeType===Node.TEXT_NODE){const M=document.createElement("span");M.textContent=E.textContent,E.parentElement.insertBefore(M,E),E.remove()}}for(v=0;v<this.el.children.length;v++)_=this.el.children[v],getComputedStyle(_).position==="static"&&(_.style.position="relative"),getComputedStyle(_).zIndex==="auto"&&(_.style.zIndex=1);getComputedStyle(this.el).position==="static"&&(this.el.style.position="relative")}applyCanvasStyles(v,_={}){Object.assign(v.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(v.style,_),v.classList.add("vanta-canvas")}initThree(){l.WebGLRenderer?(this.renderer=new l.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new l.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const v=this.getCanvasElement();return!!v&&v.getBoundingClientRect()}windowMouseMoveWrapper(v){const _=this.getCanvasRect();if(!_)return!1;const E=v.clientX-_.left,M=v.clientY-_.top;E>=0&&M>=0&&E<=_.width&&M<=_.height&&(this.mouseX=E,this.mouseY=M,this.options.mouseEase||this.triggerMouseMove(E,M))}windowTouchWrapper(v){const _=this.getCanvasRect();if(!_)return!1;if(v.touches.length===1){const E=v.touches[0].clientX-_.left,M=v.touches[0].clientY-_.top;E>=0&&M>=0&&E<=_.width&&M<=_.height&&(this.mouseX=E,this.mouseY=M,this.options.mouseEase||this.triggerMouseMove(E,M))}}windowGyroWrapper(v){const _=this.getCanvasRect();if(!_)return!1;const E=Math.round(2*v.alpha)-_.left,M=Math.round(2*v.beta)-_.top;E>=0&&M>=0&&E<=_.width&&M<=_.height&&(this.mouseX=E,this.mouseY=M,this.options.mouseEase||this.triggerMouseMove(E,M))}triggerMouseMove(v,_){v===void 0&&_===void 0&&(this.options.mouseEase?(v=this.mouseEaseX,_=this.mouseEaseY):(v=this.mouseX,_=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=v/this.scale,this.uniforms.iMouse.value.y=_/this.scale);const E=v/this.width,M=_/this.height;typeof this.onMouseMove=="function"&&this.onMouseMove(E,M)}setSize(){this.scale||(this.scale=1),typeof navigator<"u"&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600)&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,typeof this.camera.updateProjectionMatrix=="function"&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),typeof this.onResize=="function"&&this.onResize()}isOnScreen(){const v=this.el.offsetHeight,_=this.el.getBoundingClientRect(),E=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,M=_.top+E;return M-window.innerHeight<=E&&E<=M+v}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const v=performance.now();if(this.prevNow){let _=(v-this.prevNow)/16.666666666666668;_=Math.max(.2,Math.min(_,5)),this.t+=_,this.t2+=(this.options.speed||1)*_,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=v,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&(typeof this.onUpdate=="function"&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),typeof this.afterRender=="function"&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);typeof this.onRestart=="function"&&this.onRestart(),this.init()}init(){typeof this.onInit=="function"&&this.onInit()}destroy(){typeof this.onDestroy=="function"&&this.onDestroy();const v=window.removeEventListener;v("touchstart",this.windowTouchWrapper),v("touchmove",this.windowTouchWrapper),v("scroll",this.windowMouseMoveWrapper),v("mousemove",this.windowMouseMoveWrapper),v("deviceorientation",this.windowGyroWrapper),v("resize",this.resize),window.cancelAnimationFrame(this.req);const _=this.scene;_&&_.children&&r(_),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),u.current===this&&(u.current=null)}};const f=u.VantaBase;let p=typeof window=="object"&&window.THREE;class g extends f{constructor(_){p=_.THREE||p,p.Color.prototype.toVector=function(){return new p.Vector3(this.r,this.g,this.b)},super(_),this.updateUniforms=this.updateUniforms.bind(this)}init(){this.mode="shader",this.uniforms={iTime:{type:"f",value:1},iResolution:{type:"v2",value:new p.Vector2(1,1)},iDpr:{type:"f",value:window.devicePixelRatio||1},iMouse:{type:"v2",value:new p.Vector2(this.mouseX||0,this.mouseY||0)}},super.init(),this.fragmentShader&&this.initBasicShader()}setOptions(_){super.setOptions(_),this.updateUniforms()}initBasicShader(_=this.fragmentShader,E=this.vertexShader){E||(E=`uniform float uTime;
uniform vec2 uResolution;
void main() {
  gl_Position = vec4( position, 1.0 );
}`),this.updateUniforms(),typeof this.valuesChanger=="function"&&this.valuesChanger();const M=new p.ShaderMaterial({uniforms:this.uniforms,vertexShader:E,fragmentShader:_}),S=this.options.texturePath;S&&(this.uniforms.iTex={type:"t",value:new p.TextureLoader().load(S)});const C=new p.Mesh(new p.PlaneGeometry(2,2),M);this.scene.add(C),this.camera=new p.Camera,this.camera.position.z=1}updateUniforms(){const _={};let E,M;for(E in this.options)M=this.options[E],E.toLowerCase().indexOf("color")!==-1?_[E]={type:"v3",value:new p.Color(M).toVector()}:typeof M=="number"&&(_[E]={type:"f",value:M});return Object.assign(this.uniforms,_)}resize(){super.resize(),this.uniforms.iResolution.value.x=this.width/this.scale,this.uniforms.iResolution.value.y=this.height/this.scale}}class y extends g{}const b=u.register("CLOUDS",y);return y.prototype.defaultOptions={backgroundColor:16777215,skyColor:6863063,cloudColor:11387358,cloudShadowColor:1586512,sunColor:16750873,sunGlareColor:16737843,sunlightColor:16750899,scale:3,scaleMobile:12,speed:1,mouseEase:!0},y.prototype.fragmentShader=`uniform vec2 iResolution;
uniform vec2 iMouse;
uniform float iTime;
uniform sampler2D iTex;

uniform float speed;
uniform vec3 skyColor;
uniform vec3 cloudColor;
uniform vec3 cloudShadowColor;
uniform vec3 sunColor;
uniform vec3 sunlightColor;
uniform vec3 sunGlareColor;
uniform vec3 backgroundColor;

// uniform vec4      iMouse;                // mouse pixel coords. xy: current (if MLB down), zw: click
// uniform samplerXX iChannel0..3;          // input channel. XX = 2D/Cube


// Volumetric clouds. It performs level of detail (LOD) for faster rendering
float hash(float p) {
  p = fract(p * 0.011);
  p *= (p + 7.5);
  p *= (p + p);
  return fract(p);
}

float noise( vec3 x ){
    // The noise function returns a value in the range -1.0f -> 1.0f
    vec3 p = floor(x);
    vec3 f = fract(x);
    f       = f*f*(3.0-2.0*f);
    float n = p.x + p.y*57.0 + 113.0*p.z;
    return mix(mix(mix( hash(n+0.0  ), hash(n+1.0  ),f.x),
                   mix( hash(n+57.0 ), hash(n+58.0 ),f.x),f.y),
               mix(mix( hash(n+113.0), hash(n+114.0),f.x),
                   mix( hash(n+170.0), hash(n+171.0),f.x),f.y),f.z);
}

const float constantTime = 1000.;
float map5( in vec3 p ){
    vec3 speed1 = vec3(0.5,0.01,1.0) * 0.5 * speed;
    vec3 q = p - speed1*(iTime + constantTime);
    float f;
    f  = 0.50000*noise( q ); q = q*2.02;
    f += 0.25000*noise( q ); q = q*2.03;
    f += 0.12500*noise( q ); q = q*2.01;
    f += 0.06250*noise( q ); q = q*2.02;
    f += 0.03125*noise( q );
    return clamp( 1.5 - p.y - 2.0 + 1.75*f, 0.0, 1.0 );
}
float map4( in vec3 p ){
    vec3 speed1 = vec3(0.5,0.01,1.0) * 0.5 * speed;
    vec3 q = p - speed1*(iTime + constantTime);
    float f;
    f  = 0.50000*noise( q ); q = q*2.02;
    f += 0.25000*noise( q ); q = q*2.03;
    f += 0.12500*noise( q ); q = q*2.01;
    f += 0.06250*noise( q );
    return clamp( 1.5 - p.y - 2.0 + 1.75*f, 0.0, 1.0 );
}
float map3( in vec3 p ){
    vec3 speed1 = vec3(0.5,0.01,1.0) * 0.5 * speed;
    vec3 q = p - speed1*(iTime + constantTime);
    float f;
    f  = 0.50000*noise( q ); q = q*2.02;
    f += 0.25000*noise( q ); q = q*2.03;
    f += 0.12500*noise( q );
    return clamp( 1.5 - p.y - 2.0 + 1.75*f, 0.0, 1.0 );
}
float map2( in vec3 p ){
    vec3 speed1 = vec3(0.5,0.01,1.0) * 0.5 * speed;
    vec3 q = p - speed1*(iTime + constantTime);
    float f;
    f  = 0.50000*noise( q ); q = q*2.02;
    f += 0.25000*noise( q );
    return clamp( 1.5 - p.y - 2.0 + 1.75*f, 0.0, 1.0 );
}

vec3 sundir = normalize( vec3(-1.0,0.0,-1.0) );

vec4 integrate( in vec4 sum, in float dif, in float den, in vec3 bgcol, in float t ){
    // lighting
    vec3 lin = cloudColor*1.4 + sunlightColor*dif;
    vec4 col = vec4( mix( vec3(1.0,0.95,0.8), cloudShadowColor, den ), den );
    col.xyz *= lin;
    col.xyz = mix( col.xyz, bgcol, 1.0-exp(-0.003*t*t) );
    // front to back blending
    col.a *= 0.4;
    col.rgb *= col.a;
    return sum + col*(1.0-sum.a);
}

#define MARCH(STEPS,MAPLOD) for(int i=0; i<STEPS; i++) { vec3  pos = ro + t*rd; if( pos.y<-3.0 || pos.y>2.0 || sum.a > 0.99 ) break; float den = MAPLOD( pos ); if( den>0.01 ) { float dif = clamp((den - MAPLOD(pos+0.3*sundir))/0.6, 0.0, 1.0 ); sum = integrate( sum, dif, den, bgcol, t ); } t += max(0.075,0.02*t); }

vec4 raymarch( in vec3 ro, in vec3 rd, in vec3 bgcol, in ivec2 px ){
    vec4 sum = vec4(0.0);

    float t = 0.0;

    MARCH(20,map5);
    MARCH(25,map4);
    MARCH(30,map3);
    MARCH(40,map2);

    return clamp( sum, 0.0, 1.0 );
}

mat3 setCamera( in vec3 ro, in vec3 ta, float cr ){
    vec3 cw = normalize(ta-ro);
    vec3 cp = vec3(sin(cr), cos(cr),0.0);
    vec3 cu = normalize( cross(cw,cp) );
    vec3 cv = normalize( cross(cu,cw) );
    return mat3( cu, cv, cw );
}

vec4 render( in vec3 ro, in vec3 rd, in ivec2 px ){
    // background sky
    float sun = clamp( dot(sundir,rd), 0.0, 1.0 );
    vec3 col = skyColor - rd.y*0.2*vec3(1.0,0.5,1.0) + 0.15*0.5;
    col += 0.2*sunColor*pow( sun, 8.0 );

    // clouds
    vec4 res = raymarch( ro, rd, col, px );
    col = col*(1.0-res.w) + res.xyz;

    // sun glare
    col += 0.2*sunGlareColor*pow( sun, 3.0 );

    return vec4( col, 1.0 );
}

void main(){
    vec2 p = (-iResolution.xy + 2.0*gl_FragCoord.xy)/ iResolution.y;

    vec2 m = iMouse.xy/iResolution.xy;
    m.y = (1.0 - m.y) * 0.33 + 0.28; // camera height

    m.x *= 0.25;
    m.x += sin(iTime * 0.1 + 3.1415) * 0.25 + 0.25;

    // camera
    vec3 ro = 4.0*normalize(vec3(sin(3.0*m.x), 0.4*m.y, cos(3.0*m.x))); // origin
    vec3 ta = vec3(0.0, -1.0, 0.0);
    mat3 ca = setCamera( ro, ta, 0.0 );
    // ray
    vec3 rd = ca * normalize( vec3(p.xy,1.5));

    gl_FragColor = render( ro, rd, ivec2(gl_FragCoord-0.5) );
}
`,n})()))})(ed)),ed.exports}var FA=jA();const IA=Ww(FA);const B0="134",HA={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},GA={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},d_=0,$m=1,f_=2,VA=3,WA=0,U0=1,p_=2,No=3,ua=0,$t=1,ha=2,P0=1,qA=2,Ns=0,zo=1,e0=2,t0=3,n0=4,m_=5,$r=100,g_=101,x_=102,i0=103,s0=104,y_=200,v_=201,b_=202,w_=203,k0=204,j0=205,__=206,M_=207,S_=208,E_=209,T_=210,A_=0,C_=1,R_=2,od=3,N_=4,L_=5,D_=6,z_=7,Bc=0,O_=1,B_=2,xr=0,U_=1,P_=2,k_=3,j_=4,F_=5,md=300,ba=301,wa=302,mc=303,gc=304,Ko=306,Uc=307,xc=1e3,An=1001,yc=1002,ln=1003,ld=1004,YA=1004,cd=1005,XA=1005,dn=1006,F0=1007,ZA=1007,_a=1008,JA=1008,Ds=1009,I_=1010,H_=1011,vc=1012,G_=1013,cc=1014,Yi=1015,sa=1016,V_=1017,W_=1018,q_=1019,Oo=1020,Y_=1021,ra=1022,Cn=1023,X_=1024,Z_=1025,J_=Cn,aa=1026,Uo=1027,Q_=1028,K_=1029,$_=1030,e2=1031,t2=1032,n2=1033,r0=33776,a0=33777,o0=33778,l0=33779,c0=35840,u0=35841,h0=35842,d0=35843,i2=36196,f0=37492,p0=37496,s2=37808,r2=37809,a2=37810,o2=37811,l2=37812,c2=37813,u2=37814,h2=37815,d2=37816,f2=37817,p2=37818,m2=37819,g2=37820,x2=37821,y2=36492,v2=37840,b2=37841,w2=37842,_2=37843,M2=37844,S2=37845,E2=37846,T2=37847,A2=37848,C2=37849,R2=37850,N2=37851,L2=37852,D2=37853,z2=2200,O2=2201,B2=2202,bc=2300,wc=2301,td=2302,ea=2400,ta=2401,_c=2402,gd=2500,I0=2501,U2=0,QA=1,KA=2,Nn=3e3,Er=3001,xd=3007,yd=3002,P2=3003,H0=3004,G0=3005,V0=3006,k2=3200,j2=3201,Ma=0,F2=1,$A=0,nd=7680,eC=7681,tC=7682,nC=7683,iC=34055,sC=34056,rC=5386,aC=512,oC=513,lC=514,cC=515,uC=516,hC=517,dC=518,I2=519,Po=35044,ko=35048,fC=35040,pC=35045,mC=35049,gC=35041,xC=35046,yC=35050,vC=35042,bC="100",m0="300 es";class Tr{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let o=0,l=r.length;o<l;o++)r[o].call(this,e);e.target=null}}}let uh=1234567;const oa=Math.PI/180,Mc=180/Math.PI,En=[];for(let s=0;s<256;s++)En[s]=(s<16?"0":"")+s.toString(16);const wC=typeof crypto<"u"&&"randomUUID"in crypto;function ui(){if(wC)return crypto.randomUUID().toUpperCase();const s=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(En[s&255]+En[s>>8&255]+En[s>>16&255]+En[s>>24&255]+"-"+En[e&255]+En[e>>8&255]+"-"+En[e>>16&15|64]+En[e>>24&255]+"-"+En[t&63|128]+En[t>>8&255]+"-"+En[t>>16&255]+En[t>>24&255]+En[n&255]+En[n>>8&255]+En[n>>16&255]+En[n>>24&255]).toUpperCase()}function Tn(s,e,t){return Math.max(e,Math.min(t,s))}function W0(s,e){return(s%e+e)%e}function _C(s,e,t,n,r){return n+(s-e)*(r-n)/(t-e)}function MC(s,e,t){return s!==e?(t-s)/(e-s):0}function uc(s,e,t){return(1-t)*s+t*e}function SC(s,e,t,n){return uc(s,e,1-Math.exp(-t*n))}function EC(s,e=1){return e-Math.abs(W0(s,e*2)-e)}function TC(s,e,t){return s<=e?0:s>=t?1:(s=(s-e)/(t-e),s*s*(3-2*s))}function AC(s,e,t){return s<=e?0:s>=t?1:(s=(s-e)/(t-e),s*s*s*(s*(s*6-15)+10))}function CC(s,e){return s+Math.floor(Math.random()*(e-s+1))}function RC(s,e){return s+Math.random()*(e-s)}function NC(s){return s*(.5-Math.random())}function LC(s){return s!==void 0&&(uh=s%2147483647),uh=uh*16807%2147483647,(uh-1)/2147483646}function DC(s){return s*oa}function zC(s){return s*Mc}function g0(s){return(s&s-1)===0&&s!==0}function H2(s){return Math.pow(2,Math.ceil(Math.log(s)/Math.LN2))}function G2(s){return Math.pow(2,Math.floor(Math.log(s)/Math.LN2))}function OC(s,e,t,n,r){const o=Math.cos,l=Math.sin,u=o(t/2),d=l(t/2),f=o((e+n)/2),p=l((e+n)/2),g=o((e-n)/2),y=l((e-n)/2),b=o((n-e)/2),v=l((n-e)/2);switch(r){case"XYX":s.set(u*p,d*g,d*y,u*f);break;case"YZY":s.set(d*y,u*p,d*g,u*f);break;case"ZXZ":s.set(d*g,d*y,u*p,u*f);break;case"XZX":s.set(u*p,d*v,d*b,u*f);break;case"YXY":s.set(d*b,u*p,d*v,u*f);break;case"ZYZ":s.set(d*v,d*b,u*p,u*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}var Ib=Object.freeze({__proto__:null,DEG2RAD:oa,RAD2DEG:Mc,generateUUID:ui,clamp:Tn,euclideanModulo:W0,mapLinear:_C,inverseLerp:MC,lerp:uc,damp:SC,pingpong:EC,smoothstep:TC,smootherstep:AC,randInt:CC,randFloat:RC,randFloatSpread:NC,seededRandom:LC,degToRad:DC,radToDeg:zC,isPowerOfTwo:g0,ceilPowerOfTwo:H2,floorPowerOfTwo:G2,setQuaternionFromProperEuler:OC});class Ee{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),o=this.x-e.x,l=this.y-e.y;return this.x=o*n-l*r+e.x,this.y=o*r+l*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Ee.prototype.isVector2=!0;class fn{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,r,o,l,u,d,f){const p=this.elements;return p[0]=e,p[1]=r,p[2]=u,p[3]=t,p[4]=o,p[5]=d,p[6]=n,p[7]=l,p[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,l=n[0],u=n[3],d=n[6],f=n[1],p=n[4],g=n[7],y=n[2],b=n[5],v=n[8],_=r[0],E=r[3],M=r[6],S=r[1],C=r[4],A=r[7],N=r[2],D=r[5],R=r[8];return o[0]=l*_+u*S+d*N,o[3]=l*E+u*C+d*D,o[6]=l*M+u*A+d*R,o[1]=f*_+p*S+g*N,o[4]=f*E+p*C+g*D,o[7]=f*M+p*A+g*R,o[2]=y*_+b*S+v*N,o[5]=y*E+b*C+v*D,o[8]=y*M+b*A+v*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],l=e[4],u=e[5],d=e[6],f=e[7],p=e[8];return t*l*p-t*u*f-n*o*p+n*u*d+r*o*f-r*l*d}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],l=e[4],u=e[5],d=e[6],f=e[7],p=e[8],g=p*l-u*f,y=u*d-p*o,b=f*o-l*d,v=t*g+n*y+r*b;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/v;return e[0]=g*_,e[1]=(r*f-p*n)*_,e[2]=(u*n-r*l)*_,e[3]=y*_,e[4]=(p*t-r*d)*_,e[5]=(r*o-u*t)*_,e[6]=b*_,e[7]=(n*d-f*t)*_,e[8]=(l*t-n*o)*_,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,o,l,u){const d=Math.cos(o),f=Math.sin(o);return this.set(n*d,n*f,-n*(d*l+f*u)+l+e,-r*f,r*d,-r*(-f*l+d*u)+u+t,0,0,1),this}scale(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.elements,o=r[0],l=r[3],u=r[6],d=r[1],f=r[4],p=r[7];return r[0]=t*o+n*d,r[3]=t*l+n*f,r[6]=t*u+n*p,r[1]=-n*o+t*d,r[4]=-n*l+t*f,r[7]=-n*u+t*p,this}translate(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}fn.prototype.isMatrix3=!0;function V2(s){if(s.length===0)return-1/0;let e=s[0];for(let t=1,n=s.length;t<n;++t)s[t]>e&&(e=s[t]);return e}const BC={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Lo(s,e){return new BC[s](e)}function vd(s){return document.createElementNS("http://www.w3.org/1999/xhtml",s)}function Hb(s,e=0){let t=3735928559^e,n=1103547991^e;for(let r=0,o;r<s.length;r++)o=s.charCodeAt(r),t=Math.imul(t^o,2654435761),n=Math.imul(n^o,1597334677);return t=Math.imul(t^t>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507)^Math.imul(t^t>>>13,3266489909),4294967296*(2097151&n)+(t>>>0)}let uo;class Sa{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{uo===void 0&&(uo=vd("canvas")),uo.width=e.width,uo.height=e.height;const n=uo.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=uo}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}let UC=0,Bn=class x0 extends Tr{constructor(e=x0.DEFAULT_IMAGE,t=x0.DEFAULT_MAPPING,n=An,r=An,o=dn,l=_a,u=Cn,d=Ds,f=1,p=Nn){super(),Object.defineProperty(this,"id",{value:UC++}),this.uuid=ui(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=r,this.magFilter=o,this.minFilter=l,this.anisotropy=f,this.format=u,this.internalFormat=null,this.type=d,this.offset=new Ee(0,0),this.repeat=new Ee(1,1),this.center=new Ee(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=p,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const r=this.image;if(r.uuid===void 0&&(r.uuid=ui()),!t&&e.images[r.uuid]===void 0){let o;if(Array.isArray(r)){o=[];for(let l=0,u=r.length;l<u;l++)r[l].isDataTexture?o.push(cm(r[l].image)):o.push(cm(r[l]))}else o=cm(r);e.images[r.uuid]={uuid:r.uuid,url:o}}n.image=r.uuid}return JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==md)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case xc:e.x=e.x-Math.floor(e.x);break;case An:e.x=e.x<0?0:1;break;case yc:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case xc:e.y=e.y-Math.floor(e.y);break;case An:e.y=e.y<0?0:1;break;case yc:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}};Bn.DEFAULT_IMAGE=void 0;Bn.DEFAULT_MAPPING=md;Bn.prototype.isTexture=!0;function cm(s){return typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&s instanceof ImageBitmap?Sa.getDataURL(s):s.data?{data:Array.prototype.slice.call(s.data),width:s.width,height:s.height,type:s.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class Nt{constructor(e=0,t=0,n=0,r=1){this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=this.w,l=e.elements;return this.x=l[0]*t+l[4]*n+l[8]*r+l[12]*o,this.y=l[1]*t+l[5]*n+l[9]*r+l[13]*o,this.z=l[2]*t+l[6]*n+l[10]*r+l[14]*o,this.w=l[3]*t+l[7]*n+l[11]*r+l[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,o;const d=e.elements,f=d[0],p=d[4],g=d[8],y=d[1],b=d[5],v=d[9],_=d[2],E=d[6],M=d[10];if(Math.abs(p-y)<.01&&Math.abs(g-_)<.01&&Math.abs(v-E)<.01){if(Math.abs(p+y)<.1&&Math.abs(g+_)<.1&&Math.abs(v+E)<.1&&Math.abs(f+b+M-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const C=(f+1)/2,A=(b+1)/2,N=(M+1)/2,D=(p+y)/4,R=(g+_)/4,P=(v+E)/4;return C>A&&C>N?C<.01?(n=0,r=.707106781,o=.707106781):(n=Math.sqrt(C),r=D/n,o=R/n):A>N?A<.01?(n=.707106781,r=0,o=.707106781):(r=Math.sqrt(A),n=D/r,o=P/r):N<.01?(n=.707106781,r=.707106781,o=0):(o=Math.sqrt(N),n=R/o,r=P/o),this.set(n,r,o,t),this}let S=Math.sqrt((E-v)*(E-v)+(g-_)*(g-_)+(y-p)*(y-p));return Math.abs(S)<.001&&(S=1),this.x=(E-v)/S,this.y=(g-_)/S,this.z=(y-p)/S,this.w=Math.acos((f+b+M-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Nt.prototype.isVector4=!0;class Bi extends Tr{constructor(e,t,n={}){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new Nt(0,0,e,t),this.scissorTest=!1,this.viewport=new Nt(0,0,e,t),this.texture=new Bn(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:dn,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image={...this.texture.image},this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Bi.prototype.isWebGLRenderTarget=!0;class W2 extends Bi{constructor(e,t,n){super(e,t);const r=this.texture;this.texture=[];for(let o=0;o<n;o++)this.texture[o]=r.clone()}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,o=this.texture.length;r<o;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone();return this}}W2.prototype.isWebGLMultipleRenderTargets=!0;class q0 extends Bi{constructor(e,t,n){super(e,t,n),this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}q0.prototype.isWebGLMultisampleRenderTarget=!0;class Rn{constructor(e=0,t=0,n=0,r=1){this._x=e,this._y=t,this._z=n,this._w=r}static slerp(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}static slerpFlat(e,t,n,r,o,l,u){let d=n[r+0],f=n[r+1],p=n[r+2],g=n[r+3];const y=o[l+0],b=o[l+1],v=o[l+2],_=o[l+3];if(u===0){e[t+0]=d,e[t+1]=f,e[t+2]=p,e[t+3]=g;return}if(u===1){e[t+0]=y,e[t+1]=b,e[t+2]=v,e[t+3]=_;return}if(g!==_||d!==y||f!==b||p!==v){let E=1-u;const M=d*y+f*b+p*v+g*_,S=M>=0?1:-1,C=1-M*M;if(C>Number.EPSILON){const N=Math.sqrt(C),D=Math.atan2(N,M*S);E=Math.sin(E*D)/N,u=Math.sin(u*D)/N}const A=u*S;if(d=d*E+y*A,f=f*E+b*A,p=p*E+v*A,g=g*E+_*A,E===1-u){const N=1/Math.sqrt(d*d+f*f+p*p+g*g);d*=N,f*=N,p*=N,g*=N}}e[t]=d,e[t+1]=f,e[t+2]=p,e[t+3]=g}static multiplyQuaternionsFlat(e,t,n,r,o,l){const u=n[r],d=n[r+1],f=n[r+2],p=n[r+3],g=o[l],y=o[l+1],b=o[l+2],v=o[l+3];return e[t]=u*v+p*g+d*b-f*y,e[t+1]=d*v+p*y+f*g-u*b,e[t+2]=f*v+p*b+u*y-d*g,e[t+3]=p*v-u*g-d*y-f*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,r=e._y,o=e._z,l=e._order,u=Math.cos,d=Math.sin,f=u(n/2),p=u(r/2),g=u(o/2),y=d(n/2),b=d(r/2),v=d(o/2);switch(l){case"XYZ":this._x=y*p*g+f*b*v,this._y=f*b*g-y*p*v,this._z=f*p*v+y*b*g,this._w=f*p*g-y*b*v;break;case"YXZ":this._x=y*p*g+f*b*v,this._y=f*b*g-y*p*v,this._z=f*p*v-y*b*g,this._w=f*p*g+y*b*v;break;case"ZXY":this._x=y*p*g-f*b*v,this._y=f*b*g+y*p*v,this._z=f*p*v+y*b*g,this._w=f*p*g-y*b*v;break;case"ZYX":this._x=y*p*g-f*b*v,this._y=f*b*g+y*p*v,this._z=f*p*v-y*b*g,this._w=f*p*g+y*b*v;break;case"YZX":this._x=y*p*g+f*b*v,this._y=f*b*g+y*p*v,this._z=f*p*v-y*b*g,this._w=f*p*g-y*b*v;break;case"XZY":this._x=y*p*g-f*b*v,this._y=f*b*g-y*p*v,this._z=f*p*v+y*b*g,this._w=f*p*g+y*b*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],o=t[8],l=t[1],u=t[5],d=t[9],f=t[2],p=t[6],g=t[10],y=n+u+g;if(y>0){const b=.5/Math.sqrt(y+1);this._w=.25/b,this._x=(p-d)*b,this._y=(o-f)*b,this._z=(l-r)*b}else if(n>u&&n>g){const b=2*Math.sqrt(1+n-u-g);this._w=(p-d)/b,this._x=.25*b,this._y=(r+l)/b,this._z=(o+f)/b}else if(u>g){const b=2*Math.sqrt(1+u-n-g);this._w=(o-f)/b,this._x=(r+l)/b,this._y=.25*b,this._z=(d+p)/b}else{const b=2*Math.sqrt(1+g-n-u);this._w=(l-r)/b,this._x=(o+f)/b,this._y=(d+p)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Tn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,o=e._z,l=e._w,u=t._x,d=t._y,f=t._z,p=t._w;return this._x=n*p+l*u+r*f-o*d,this._y=r*p+l*d+o*u-n*f,this._z=o*p+l*f+n*d-r*u,this._w=l*p-n*u-r*d-o*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,o=this._z,l=this._w;let u=l*e._w+n*e._x+r*e._y+o*e._z;if(u<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,u=-u):this.copy(e),u>=1)return this._w=l,this._x=n,this._y=r,this._z=o,this;const d=1-u*u;if(d<=Number.EPSILON){const b=1-t;return this._w=b*l+t*this._w,this._x=b*n+t*this._x,this._y=b*r+t*this._y,this._z=b*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const f=Math.sqrt(d),p=Math.atan2(f,u),g=Math.sin((1-t)*p)/f,y=Math.sin(t*p)/f;return this._w=l*g+this._w*y,this._x=n*g+this._x*y,this._y=r*g+this._y*y,this._z=o*g+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,n){this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(o),n*Math.cos(o),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Rn.prototype.isQuaternion=!0;class z{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Gb.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Gb.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[3]*n+o[6]*r,this.y=o[1]*t+o[4]*n+o[7]*r,this.z=o[2]*t+o[5]*n+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=e.elements,l=1/(o[3]*t+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*n+o[8]*r+o[12])*l,this.y=(o[1]*t+o[5]*n+o[9]*r+o[13])*l,this.z=(o[2]*t+o[6]*n+o[10]*r+o[14])*l,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,o=e.x,l=e.y,u=e.z,d=e.w,f=d*t+l*r-u*n,p=d*n+u*t-o*r,g=d*r+o*n-l*t,y=-o*t-l*n-u*r;return this.x=f*d+y*-o+p*-u-g*-l,this.y=p*d+y*-l+g*-o-f*-u,this.z=g*d+y*-u+f*-l-p*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r,this.y=o[1]*t+o[5]*n+o[9]*r,this.z=o[2]*t+o[6]*n+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,o=e.z,l=t.x,u=t.y,d=t.z;return this.x=r*d-o*u,this.y=o*l-n*d,this.z=n*u-r*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return um.copy(this).projectOnVector(e),this.sub(um)}reflect(e){return this.sub(um.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Tn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}z.prototype.isVector3=!0;const um=new z,Gb=new Rn;class di{constructor(e=new z(1/0,1/0,1/0),t=new z(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,r=1/0,o=-1/0,l=-1/0,u=-1/0;for(let d=0,f=e.length;d<f;d+=3){const p=e[d],g=e[d+1],y=e[d+2];p<t&&(t=p),g<n&&(n=g),y<r&&(r=y),p>o&&(o=p),g>l&&(l=g),y>u&&(u=y)}return this.min.set(t,n,r),this.max.set(o,l,u),this}setFromBufferAttribute(e){let t=1/0,n=1/0,r=1/0,o=-1/0,l=-1/0,u=-1/0;for(let d=0,f=e.count;d<f;d++){const p=e.getX(d),g=e.getY(d),y=e.getZ(d);p<t&&(t=p),g<n&&(n=g),y<r&&(r=y),p>o&&(o=p),g>l&&(l=g),y>u&&(u=y)}return this.min.set(t,n,r),this.max.set(o,l,u),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Ql.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),hm.copy(t.boundingBox),hm.applyMatrix4(e.matrixWorld),this.union(hm));const n=e.children;for(let r=0,o=n.length;r<o;r++)this.expandByObject(n[r]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ql),Ql.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Kl),hh.subVectors(this.max,Kl),ho.subVectors(e.a,Kl),fo.subVectors(e.b,Kl),po.subVectors(e.c,Kl),cr.subVectors(fo,ho),ur.subVectors(po,fo),Wr.subVectors(ho,po);let t=[0,-cr.z,cr.y,0,-ur.z,ur.y,0,-Wr.z,Wr.y,cr.z,0,-cr.x,ur.z,0,-ur.x,Wr.z,0,-Wr.x,-cr.y,cr.x,0,-ur.y,ur.x,0,-Wr.y,Wr.x,0];return!dm(t,ho,fo,po,hh)||(t=[1,0,0,0,1,0,0,0,1],!dm(t,ho,fo,po,hh))?!1:(dh.crossVectors(cr,ur),t=[dh.x,dh.y,dh.z],dm(t,ho,fo,po,hh))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Ql.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Ql).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ms[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ms[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ms[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ms[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ms[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ms[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ms[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ms[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ms),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}di.prototype.isBox3=!0;const Ms=[new z,new z,new z,new z,new z,new z,new z,new z],Ql=new z,hm=new di,ho=new z,fo=new z,po=new z,cr=new z,ur=new z,Wr=new z,Kl=new z,hh=new z,dh=new z,qr=new z;function dm(s,e,t,n,r){for(let o=0,l=s.length-3;o<=l;o+=3){qr.fromArray(s,o);const u=r.x*Math.abs(qr.x)+r.y*Math.abs(qr.y)+r.z*Math.abs(qr.z),d=e.dot(qr),f=t.dot(qr),p=n.dot(qr);if(Math.max(-Math.max(d,f,p),Math.min(d,f,p))>u)return!1}return!0}const PC=new di,Vb=new z,fm=new z,pm=new z;class Ar{constructor(e=new z,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):PC.setFromPoints(e).getCenter(n);let r=0;for(let o=0,l=e.length;o<l;o++)r=Math.max(r,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){pm.subVectors(e,this.center);const t=pm.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.add(pm.multiplyScalar(r/n)),this.radius+=r}return this}union(e){return fm.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Vb.copy(e.center).add(fm)),this.expandByPoint(Vb.copy(e.center).sub(fm)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ss=new z,mm=new z,fh=new z,hr=new z,gm=new z,ph=new z,xm=new z;class Cr{constructor(e=new z,t=new z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ss)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ss.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ss.copy(this.direction).multiplyScalar(t).add(this.origin),Ss.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){mm.copy(e).add(t).multiplyScalar(.5),fh.copy(t).sub(e).normalize(),hr.copy(this.origin).sub(mm);const o=e.distanceTo(t)*.5,l=-this.direction.dot(fh),u=hr.dot(this.direction),d=-hr.dot(fh),f=hr.lengthSq(),p=Math.abs(1-l*l);let g,y,b,v;if(p>0)if(g=l*d-u,y=l*u-d,v=o*p,g>=0)if(y>=-v)if(y<=v){const _=1/p;g*=_,y*=_,b=g*(g+l*y+2*u)+y*(l*g+y+2*d)+f}else y=o,g=Math.max(0,-(l*y+u)),b=-g*g+y*(y+2*d)+f;else y=-o,g=Math.max(0,-(l*y+u)),b=-g*g+y*(y+2*d)+f;else y<=-v?(g=Math.max(0,-(-l*o+u)),y=g>0?-o:Math.min(Math.max(-o,-d),o),b=-g*g+y*(y+2*d)+f):y<=v?(g=0,y=Math.min(Math.max(-o,-d),o),b=y*(y+2*d)+f):(g=Math.max(0,-(l*o+u)),y=g>0?o:Math.min(Math.max(-o,-d),o),b=-g*g+y*(y+2*d)+f);else y=l>0?-o:o,g=Math.max(0,-(l*y+u)),b=-g*g+y*(y+2*d)+f;return n&&n.copy(this.direction).multiplyScalar(g).add(this.origin),r&&r.copy(fh).multiplyScalar(y).add(mm),b}intersectSphere(e,t){Ss.subVectors(e.center,this.origin);const n=Ss.dot(this.direction),r=Ss.dot(Ss)-n*n,o=e.radius*e.radius;if(r>o)return null;const l=Math.sqrt(o-r),u=n-l,d=n+l;return u<0&&d<0?null:u<0?this.at(d,t):this.at(u,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,o,l,u,d;const f=1/this.direction.x,p=1/this.direction.y,g=1/this.direction.z,y=this.origin;return f>=0?(n=(e.min.x-y.x)*f,r=(e.max.x-y.x)*f):(n=(e.max.x-y.x)*f,r=(e.min.x-y.x)*f),p>=0?(o=(e.min.y-y.y)*p,l=(e.max.y-y.y)*p):(o=(e.max.y-y.y)*p,l=(e.min.y-y.y)*p),n>l||o>r||((o>n||n!==n)&&(n=o),(l<r||r!==r)&&(r=l),g>=0?(u=(e.min.z-y.z)*g,d=(e.max.z-y.z)*g):(u=(e.max.z-y.z)*g,d=(e.min.z-y.z)*g),n>d||u>r)||((u>n||n!==n)&&(n=u),(d<r||r!==r)&&(r=d),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,Ss)!==null}intersectTriangle(e,t,n,r,o){gm.subVectors(t,e),ph.subVectors(n,e),xm.crossVectors(gm,ph);let l=this.direction.dot(xm),u;if(l>0){if(r)return null;u=1}else if(l<0)u=-1,l=-l;else return null;hr.subVectors(this.origin,e);const d=u*this.direction.dot(ph.crossVectors(hr,ph));if(d<0)return null;const f=u*this.direction.dot(gm.cross(hr));if(f<0||d+f>l)return null;const p=-u*hr.dot(xm);return p<0?null:this.at(p/l,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ze{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,r,o,l,u,d,f,p,g,y,b,v,_,E){const M=this.elements;return M[0]=e,M[4]=t,M[8]=n,M[12]=r,M[1]=o,M[5]=l,M[9]=u,M[13]=d,M[2]=f,M[6]=p,M[10]=g,M[14]=y,M[3]=b,M[7]=v,M[11]=_,M[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ze().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/mo.setFromMatrixColumn(e,0).length(),o=1/mo.setFromMatrixColumn(e,1).length(),l=1/mo.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=0,t[8]=n[8]*l,t[9]=n[9]*l,t[10]=n[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,r=e.y,o=e.z,l=Math.cos(n),u=Math.sin(n),d=Math.cos(r),f=Math.sin(r),p=Math.cos(o),g=Math.sin(o);if(e.order==="XYZ"){const y=l*p,b=l*g,v=u*p,_=u*g;t[0]=d*p,t[4]=-d*g,t[8]=f,t[1]=b+v*f,t[5]=y-_*f,t[9]=-u*d,t[2]=_-y*f,t[6]=v+b*f,t[10]=l*d}else if(e.order==="YXZ"){const y=d*p,b=d*g,v=f*p,_=f*g;t[0]=y+_*u,t[4]=v*u-b,t[8]=l*f,t[1]=l*g,t[5]=l*p,t[9]=-u,t[2]=b*u-v,t[6]=_+y*u,t[10]=l*d}else if(e.order==="ZXY"){const y=d*p,b=d*g,v=f*p,_=f*g;t[0]=y-_*u,t[4]=-l*g,t[8]=v+b*u,t[1]=b+v*u,t[5]=l*p,t[9]=_-y*u,t[2]=-l*f,t[6]=u,t[10]=l*d}else if(e.order==="ZYX"){const y=l*p,b=l*g,v=u*p,_=u*g;t[0]=d*p,t[4]=v*f-b,t[8]=y*f+_,t[1]=d*g,t[5]=_*f+y,t[9]=b*f-v,t[2]=-f,t[6]=u*d,t[10]=l*d}else if(e.order==="YZX"){const y=l*d,b=l*f,v=u*d,_=u*f;t[0]=d*p,t[4]=_-y*g,t[8]=v*g+b,t[1]=g,t[5]=l*p,t[9]=-u*p,t[2]=-f*p,t[6]=b*g+v,t[10]=y-_*g}else if(e.order==="XZY"){const y=l*d,b=l*f,v=u*d,_=u*f;t[0]=d*p,t[4]=-g,t[8]=f*p,t[1]=y*g+_,t[5]=l*p,t[9]=b*g-v,t[2]=v*g-b,t[6]=u*p,t[10]=_*g+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(kC,e,jC)}lookAt(e,t,n){const r=this.elements;return li.subVectors(e,t),li.lengthSq()===0&&(li.z=1),li.normalize(),dr.crossVectors(n,li),dr.lengthSq()===0&&(Math.abs(n.z)===1?li.x+=1e-4:li.z+=1e-4,li.normalize(),dr.crossVectors(n,li)),dr.normalize(),mh.crossVectors(li,dr),r[0]=dr.x,r[4]=mh.x,r[8]=li.x,r[1]=dr.y,r[5]=mh.y,r[9]=li.y,r[2]=dr.z,r[6]=mh.z,r[10]=li.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,l=n[0],u=n[4],d=n[8],f=n[12],p=n[1],g=n[5],y=n[9],b=n[13],v=n[2],_=n[6],E=n[10],M=n[14],S=n[3],C=n[7],A=n[11],N=n[15],D=r[0],R=r[4],P=r[8],q=r[12],G=r[1],j=r[5],oe=r[9],Q=r[13],W=r[2],re=r[6],B=r[10],V=r[14],ce=r[3],Te=r[7],Le=r[11],k=r[15];return o[0]=l*D+u*G+d*W+f*ce,o[4]=l*R+u*j+d*re+f*Te,o[8]=l*P+u*oe+d*B+f*Le,o[12]=l*q+u*Q+d*V+f*k,o[1]=p*D+g*G+y*W+b*ce,o[5]=p*R+g*j+y*re+b*Te,o[9]=p*P+g*oe+y*B+b*Le,o[13]=p*q+g*Q+y*V+b*k,o[2]=v*D+_*G+E*W+M*ce,o[6]=v*R+_*j+E*re+M*Te,o[10]=v*P+_*oe+E*B+M*Le,o[14]=v*q+_*Q+E*V+M*k,o[3]=S*D+C*G+A*W+N*ce,o[7]=S*R+C*j+A*re+N*Te,o[11]=S*P+C*oe+A*B+N*Le,o[15]=S*q+C*Q+A*V+N*k,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],o=e[12],l=e[1],u=e[5],d=e[9],f=e[13],p=e[2],g=e[6],y=e[10],b=e[14],v=e[3],_=e[7],E=e[11],M=e[15];return v*(+o*d*g-r*f*g-o*u*y+n*f*y+r*u*b-n*d*b)+_*(+t*d*b-t*f*y+o*l*y-r*l*b+r*f*p-o*d*p)+E*(+t*f*g-t*u*b-o*l*g+n*l*b+o*u*p-n*f*p)+M*(-r*u*p-t*d*g+t*u*y+r*l*g-n*l*y+n*d*p)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],l=e[4],u=e[5],d=e[6],f=e[7],p=e[8],g=e[9],y=e[10],b=e[11],v=e[12],_=e[13],E=e[14],M=e[15],S=g*E*f-_*y*f+_*d*b-u*E*b-g*d*M+u*y*M,C=v*y*f-p*E*f-v*d*b+l*E*b+p*d*M-l*y*M,A=p*_*f-v*g*f+v*u*b-l*_*b-p*u*M+l*g*M,N=v*g*d-p*_*d-v*u*y+l*_*y+p*u*E-l*g*E,D=t*S+n*C+r*A+o*N;if(D===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/D;return e[0]=S*R,e[1]=(_*y*o-g*E*o-_*r*b+n*E*b+g*r*M-n*y*M)*R,e[2]=(u*E*o-_*d*o+_*r*f-n*E*f-u*r*M+n*d*M)*R,e[3]=(g*d*o-u*y*o-g*r*f+n*y*f+u*r*b-n*d*b)*R,e[4]=C*R,e[5]=(p*E*o-v*y*o+v*r*b-t*E*b-p*r*M+t*y*M)*R,e[6]=(v*d*o-l*E*o-v*r*f+t*E*f+l*r*M-t*d*M)*R,e[7]=(l*y*o-p*d*o+p*r*f-t*y*f-l*r*b+t*d*b)*R,e[8]=A*R,e[9]=(v*g*o-p*_*o-v*n*b+t*_*b+p*n*M-t*g*M)*R,e[10]=(l*_*o-v*u*o+v*n*f-t*_*f-l*n*M+t*u*M)*R,e[11]=(p*u*o-l*g*o-p*n*f+t*g*f+l*n*b-t*u*b)*R,e[12]=N*R,e[13]=(p*_*r-v*g*r+v*n*y-t*_*y-p*n*E+t*g*E)*R,e[14]=(v*u*r-l*_*r-v*n*d+t*_*d+l*n*E-t*u*E)*R,e[15]=(l*g*r-p*u*r+p*n*d-t*g*d-l*n*y+t*u*y)*R,this}scale(e){const t=this.elements,n=e.x,r=e.y,o=e.z;return t[0]*=n,t[4]*=r,t[8]*=o,t[1]*=n,t[5]*=r,t[9]*=o,t[2]*=n,t[6]*=r,t[10]*=o,t[3]*=n,t[7]*=r,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),o=1-n,l=e.x,u=e.y,d=e.z,f=o*l,p=o*u;return this.set(f*l+n,f*u-r*d,f*d+r*u,0,f*u+r*d,p*u+n,p*d-r*l,0,f*d-r*u,p*d+r*l,o*d*d+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,o,l){return this.set(1,n,o,0,e,1,l,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,o=t._x,l=t._y,u=t._z,d=t._w,f=o+o,p=l+l,g=u+u,y=o*f,b=o*p,v=o*g,_=l*p,E=l*g,M=u*g,S=d*f,C=d*p,A=d*g,N=n.x,D=n.y,R=n.z;return r[0]=(1-(_+M))*N,r[1]=(b+A)*N,r[2]=(v-C)*N,r[3]=0,r[4]=(b-A)*D,r[5]=(1-(y+M))*D,r[6]=(E+S)*D,r[7]=0,r[8]=(v+C)*R,r[9]=(E-S)*R,r[10]=(1-(y+_))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let o=mo.set(r[0],r[1],r[2]).length();const l=mo.set(r[4],r[5],r[6]).length(),u=mo.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],Li.copy(this);const f=1/o,p=1/l,g=1/u;return Li.elements[0]*=f,Li.elements[1]*=f,Li.elements[2]*=f,Li.elements[4]*=p,Li.elements[5]*=p,Li.elements[6]*=p,Li.elements[8]*=g,Li.elements[9]*=g,Li.elements[10]*=g,t.setFromRotationMatrix(Li),n.x=o,n.y=l,n.z=u,this}makePerspective(e,t,n,r,o,l){l===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const u=this.elements,d=2*o/(t-e),f=2*o/(n-r),p=(t+e)/(t-e),g=(n+r)/(n-r),y=-(l+o)/(l-o),b=-2*l*o/(l-o);return u[0]=d,u[4]=0,u[8]=p,u[12]=0,u[1]=0,u[5]=f,u[9]=g,u[13]=0,u[2]=0,u[6]=0,u[10]=y,u[14]=b,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,n,r,o,l){const u=this.elements,d=1/(t-e),f=1/(n-r),p=1/(l-o),g=(t+e)*d,y=(n+r)*f,b=(l+o)*p;return u[0]=2*d,u[4]=0,u[8]=0,u[12]=-g,u[1]=0,u[5]=2*f,u[9]=0,u[13]=-y,u[2]=0,u[6]=0,u[10]=-2*p,u[14]=-b,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}Ze.prototype.isMatrix4=!0;const mo=new z,Li=new Ze,kC=new z(0,0,0),jC=new z(1,1,1),dr=new z,mh=new z,li=new z,Wb=new Ze,qb=new Rn;let Pc=class q2{constructor(e=0,t=0,n=0,r=q2.DefaultOrder){this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,o=r[0],l=r[4],u=r[8],d=r[1],f=r[5],p=r[9],g=r[2],y=r[6],b=r[10];switch(t){case"XYZ":this._y=Math.asin(Tn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-p,b),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(y,f),this._z=0);break;case"YXZ":this._x=Math.asin(-Tn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(u,b),this._z=Math.atan2(d,f)):(this._y=Math.atan2(-g,o),this._z=0);break;case"ZXY":this._x=Math.asin(Tn(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,b),this._z=Math.atan2(-l,f)):(this._y=0,this._z=Math.atan2(d,o));break;case"ZYX":this._y=Math.asin(-Tn(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,b),this._z=Math.atan2(d,o)):(this._x=0,this._z=Math.atan2(-l,f));break;case"YZX":this._z=Math.asin(Tn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-p,f),this._y=Math.atan2(-g,o)):(this._x=0,this._y=Math.atan2(u,b));break;case"XZY":this._z=Math.asin(-Tn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(y,f),this._y=Math.atan2(u,o)):(this._x=Math.atan2(-p,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Wb.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Wb,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return qb.setFromEuler(this),this.setFromQuaternion(qb,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new z(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}};Pc.prototype.isEuler=!0;Pc.DefaultOrder="XYZ";Pc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Y0{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}}let FC=0;const Yb=new z,go=new Rn,Es=new Ze,gh=new z,$l=new z,IC=new z,HC=new Rn,Xb=new z(1,0,0),Zb=new z(0,1,0),Jb=new z(0,0,1),GC={type:"added"},Qb={type:"removed"};class pt extends Tr{constructor(){super(),Object.defineProperty(this,"id",{value:FC++}),this.uuid=ui(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=pt.DefaultUp.clone();const e=new z,t=new Pc,n=new Rn,r=new z(1,1,1);function o(){n.setFromEuler(t,!1)}function l(){t.setFromQuaternion(n,void 0,!1)}t._onChange(o),n._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ze},normalMatrix:{value:new fn}}),this.matrix=new Ze,this.matrixWorld=new Ze,this.matrixAutoUpdate=pt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Y0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return go.setFromAxisAngle(e,t),this.quaternion.multiply(go),this}rotateOnWorldAxis(e,t){return go.setFromAxisAngle(e,t),this.quaternion.premultiply(go),this}rotateX(e){return this.rotateOnAxis(Xb,e)}rotateY(e){return this.rotateOnAxis(Zb,e)}rotateZ(e){return this.rotateOnAxis(Jb,e)}translateOnAxis(e,t){return Yb.copy(e).applyQuaternion(this.quaternion),this.position.add(Yb.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Xb,e)}translateY(e){return this.translateOnAxis(Zb,e)}translateZ(e){return this.translateOnAxis(Jb,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Es.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?gh.copy(e):gh.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),$l.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Es.lookAt($l,gh,this.up):Es.lookAt(gh,$l,this.up),this.quaternion.setFromRotationMatrix(Es),r&&(Es.extractRotation(r.matrixWorld),go.setFromRotationMatrix(Es),this.quaternion.premultiply(go.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(GC)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Qb)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Qb)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Es.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Es.multiply(e.parent.matrixWorld)),e.applyMatrix4(Es),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const l=this.children[n].getObjectByProperty(e,t);if(l!==void 0)return l}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($l,e,IC),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($l,HC,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let o=0,l=r.length;o<l;o++)r[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function o(u,d){return u[d.uuid]===void 0&&(u[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const d=u.shapes;if(Array.isArray(d))for(let f=0,p=d.length;f<p;f++){const g=d[f];o(e.shapes,g)}else o(e.shapes,d)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let d=0,f=this.material.length;d<f;d++)u.push(o(e.materials,this.material[d]));r.material=u}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let u=0;u<this.children.length;u++)r.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let u=0;u<this.animations.length;u++){const d=this.animations[u];r.animations.push(o(e.animations,d))}}if(t){const u=l(e.geometries),d=l(e.materials),f=l(e.textures),p=l(e.images),g=l(e.shapes),y=l(e.skeletons),b=l(e.animations);u.length>0&&(n.geometries=u),d.length>0&&(n.materials=d),f.length>0&&(n.textures=f),p.length>0&&(n.images=p),g.length>0&&(n.shapes=g),y.length>0&&(n.skeletons=y),b.length>0&&(n.animations=b)}return n.object=r,n;function l(u){const d=[];for(const f in u){const p=u[f];delete p.metadata,d.push(p)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}pt.DefaultUp=new z(0,1,0);pt.DefaultMatrixAutoUpdate=!0;pt.prototype.isObject3D=!0;const Di=new z,Ts=new z,ym=new z,As=new z,xo=new z,yo=new z,Kb=new z,vm=new z,bm=new z,wm=new z;class en{constructor(e=new z,t=new z,n=new z){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Di.subVectors(e,t),r.cross(Di);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,t,n,r,o){Di.subVectors(r,t),Ts.subVectors(n,t),ym.subVectors(e,t);const l=Di.dot(Di),u=Di.dot(Ts),d=Di.dot(ym),f=Ts.dot(Ts),p=Ts.dot(ym),g=l*f-u*u;if(g===0)return o.set(-2,-1,-1);const y=1/g,b=(f*d-u*p)*y,v=(l*p-u*d)*y;return o.set(1-b-v,v,b)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,As),As.x>=0&&As.y>=0&&As.x+As.y<=1}static getUV(e,t,n,r,o,l,u,d){return this.getBarycoord(e,t,n,r,As),d.set(0,0),d.addScaledVector(o,As.x),d.addScaledVector(l,As.y),d.addScaledVector(u,As.z),d}static isFrontFacing(e,t,n,r){return Di.subVectors(n,t),Ts.subVectors(e,t),Di.cross(Ts).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Di.subVectors(this.c,this.b),Ts.subVectors(this.a,this.b),Di.cross(Ts).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return en.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return en.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,o){return en.getUV(e,this.a,this.b,this.c,t,n,r,o)}containsPoint(e){return en.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return en.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,o=this.c;let l,u;xo.subVectors(r,n),yo.subVectors(o,n),vm.subVectors(e,n);const d=xo.dot(vm),f=yo.dot(vm);if(d<=0&&f<=0)return t.copy(n);bm.subVectors(e,r);const p=xo.dot(bm),g=yo.dot(bm);if(p>=0&&g<=p)return t.copy(r);const y=d*g-p*f;if(y<=0&&d>=0&&p<=0)return l=d/(d-p),t.copy(n).addScaledVector(xo,l);wm.subVectors(e,o);const b=xo.dot(wm),v=yo.dot(wm);if(v>=0&&b<=v)return t.copy(o);const _=b*f-d*v;if(_<=0&&f>=0&&v<=0)return u=f/(f-v),t.copy(n).addScaledVector(yo,u);const E=p*v-b*g;if(E<=0&&g-p>=0&&b-v>=0)return Kb.subVectors(o,r),u=(g-p)/(g-p+(b-v)),t.copy(r).addScaledVector(Kb,u);const M=1/(E+_+y);return l=_*M,u=y*M,t.copy(n).addScaledVector(xo,l).addScaledVector(yo,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let VC=0;class vn extends Tr{constructor(){super(),Object.defineProperty(this,"id",{value:VC++}),this.uuid=ui(),this.name="",this.type="Material",this.fog=!0,this.blending=zo,this.side=ua,this.vertexColors=!1,this.opacity=1,this.format=Cn,this.transparent=!1,this.blendSrc=k0,this.blendDst=j0,this.blendEquation=$r,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=od,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=I2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=nd,this.stencilZFail=nd,this.stencilZPass=nd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===P0;continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==zo&&(n.blending=this.blending),this.side!==ua&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.format!==Cn&&(n.format=this.format),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function r(o){const l=[];for(const u in o){const d=o[u];delete d.metadata,l.push(d)}return l}if(t){const o=r(e.textures),l=r(e.images);o.length>0&&(n.textures=o),l.length>0&&(n.images=l)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let o=0;o!==r;++o)n[o]=t[o].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}vn.prototype.isMaterial=!0;const Y2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},zi={h:0,s:0,l:0},xh={h:0,s:0,l:0};function _m(s,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?s+(e-s)*6*t:t<1/2?e:t<2/3?s+(e-s)*6*(2/3-t):s}function Mm(s){return s<.04045?s*.0773993808:Math.pow(s*.9478672986+.0521327014,2.4)}function Sm(s){return s<.0031308?s*12.92:1.055*Math.pow(s,.41666)-.055}class Ue{constructor(e,t,n){return t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,t,n){return this.r=e,this.g=t,this.b=n,this}setHSL(e,t,n){if(e=W0(e,1),t=Tn(t,0,1),n=Tn(n,0,1),t===0)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,o=2*n-r;this.r=_m(o,r,e+1/3),this.g=_m(o,r,e),this.b=_m(o,r,e-1/3)}return this}setStyle(e){function t(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let r;const o=n[1],l=n[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){const u=parseFloat(r[1])/360,d=parseInt(r[2],10)/100,f=parseInt(r[3],10)/100;return t(r[4]),this.setHSL(u,d,f)}break}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=n[1],o=r.length;if(o===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,this;if(o===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=Y2[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){const n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=Mm(e.r),this.g=Mm(e.g),this.b=Mm(e.b),this}copyLinearToSRGB(e){return this.r=Sm(e.r),this.g=Sm(e.g),this.b=Sm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const t=this.r,n=this.g,r=this.b,o=Math.max(t,n,r),l=Math.min(t,n,r);let u,d;const f=(l+o)/2;if(l===o)u=0,d=0;else{const p=o-l;switch(d=f<=.5?p/(o+l):p/(2-o-l),o){case t:u=(n-r)/p+(n<r?6:0);break;case n:u=(r-t)/p+2;break;case r:u=(t-n)/p+4;break}u/=6}return e.h=u,e.s=d,e.l=f,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,t,n){return this.getHSL(zi),zi.h+=e,zi.s+=t,zi.l+=n,this.setHSL(zi.h,zi.s,zi.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(zi),e.getHSL(xh);const n=uc(zi.h,xh.h,t),r=uc(zi.s,xh.s,t),o=uc(zi.l,xh.l,t);return this.setHSL(n,r,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Ue.NAMES=Y2;Ue.prototype.isColor=!0;Ue.prototype.r=1;Ue.prototype.g=1;Ue.prototype.b=1;class ks extends vn{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new Ue(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}ks.prototype.isMeshBasicMaterial=!0;const Pt=new z,yh=new Ee;class bt{constructor(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=Po,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let n=0;for(let r=0,o=e.length;r<o;r++){let l=e[r];l===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),l=new Ue),t[n++]=l.r,t[n++]=l.g,t[n++]=l.b}return this}copyVector2sArray(e){const t=this.array;let n=0;for(let r=0,o=e.length;r<o;r++){let l=e[r];l===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),l=new Ee),t[n++]=l.x,t[n++]=l.y}return this}copyVector3sArray(e){const t=this.array;let n=0;for(let r=0,o=e.length;r<o;r++){let l=e[r];l===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),l=new z),t[n++]=l.x,t[n++]=l.y,t[n++]=l.z}return this}copyVector4sArray(e){const t=this.array;let n=0;for(let r=0,o=e.length;r<o;r++){let l=e[r];l===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),l=new Nt),t[n++]=l.x,t[n++]=l.y,t[n++]=l.z,t[n++]=l.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)yh.fromBufferAttribute(this,t),yh.applyMatrix3(e),this.setXY(t,yh.x,yh.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Pt.fromBufferAttribute(this,t),Pt.applyMatrix3(e),this.setXYZ(t,Pt.x,Pt.y,Pt.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Pt.x=this.getX(t),Pt.y=this.getY(t),Pt.z=this.getZ(t),Pt.applyMatrix4(e),this.setXYZ(t,Pt.x,Pt.y,Pt.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Pt.x=this.getX(t),Pt.y=this.getY(t),Pt.z=this.getZ(t),Pt.applyNormalMatrix(e),this.setXYZ(t,Pt.x,Pt.y,Pt.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Pt.x=this.getX(t),Pt.y=this.getY(t),Pt.z=this.getZ(t),Pt.transformDirection(e),this.setXYZ(t,Pt.x,Pt.y,Pt.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Po&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}bt.prototype.isBufferAttribute=!0;class X2 extends bt{constructor(e,t,n){super(new Int8Array(e),t,n)}}class Z2 extends bt{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class J2 extends bt{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Q2 extends bt{constructor(e,t,n){super(new Int16Array(e),t,n)}}class bd extends bt{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class K2 extends bt{constructor(e,t,n){super(new Int32Array(e),t,n)}}class wd extends bt{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class $2 extends bt{constructor(e,t,n){super(new Uint16Array(e),t,n)}}$2.prototype.isFloat16BufferAttribute=!0;class Xe extends bt{constructor(e,t,n){super(new Float32Array(e),t,n)}}class eM extends bt{constructor(e,t,n){super(new Float64Array(e),t,n)}}let WC=0;const Ei=new Ze,Em=new pt,vo=new z,ci=new di,ec=new di,xn=new z;class tt extends Tr{constructor(){super(),Object.defineProperty(this,"id",{value:WC++}),this.uuid=ui(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(V2(e)>65535?wd:bd)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const o=new fn().getNormalMatrix(e);n.applyNormalMatrix(o),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ei.makeRotationFromQuaternion(e),this.applyMatrix4(Ei),this}rotateX(e){return Ei.makeRotationX(e),this.applyMatrix4(Ei),this}rotateY(e){return Ei.makeRotationY(e),this.applyMatrix4(Ei),this}rotateZ(e){return Ei.makeRotationZ(e),this.applyMatrix4(Ei),this}translate(e,t,n){return Ei.makeTranslation(e,t,n),this.applyMatrix4(Ei),this}scale(e,t,n){return Ei.makeScale(e,t,n),this.applyMatrix4(Ei),this}lookAt(e){return Em.lookAt(e),Em.updateMatrix(),this.applyMatrix4(Em.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(vo).negate(),this.translate(vo.x,vo.y,vo.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const o=e[n];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Xe(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new di);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new z(-1/0,-1/0,-1/0),new z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const o=t[n];ci.setFromBufferAttribute(o),this.morphTargetsRelative?(xn.addVectors(this.boundingBox.min,ci.min),this.boundingBox.expandByPoint(xn),xn.addVectors(this.boundingBox.max,ci.max),this.boundingBox.expandByPoint(xn)):(this.boundingBox.expandByPoint(ci.min),this.boundingBox.expandByPoint(ci.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ar);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new z,1/0);return}if(e){const n=this.boundingSphere.center;if(ci.setFromBufferAttribute(e),t)for(let o=0,l=t.length;o<l;o++){const u=t[o];ec.setFromBufferAttribute(u),this.morphTargetsRelative?(xn.addVectors(ci.min,ec.min),ci.expandByPoint(xn),xn.addVectors(ci.max,ec.max),ci.expandByPoint(xn)):(ci.expandByPoint(ec.min),ci.expandByPoint(ec.max))}ci.getCenter(n);let r=0;for(let o=0,l=e.count;o<l;o++)xn.fromBufferAttribute(e,o),r=Math.max(r,n.distanceToSquared(xn));if(t)for(let o=0,l=t.length;o<l;o++){const u=t[o],d=this.morphTargetsRelative;for(let f=0,p=u.count;f<p;f++)xn.fromBufferAttribute(u,f),d&&(vo.fromBufferAttribute(e,f),xn.add(vo)),r=Math.max(r,n.distanceToSquared(xn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,r=t.position.array,o=t.normal.array,l=t.uv.array,u=r.length/3;t.tangent===void 0&&this.setAttribute("tangent",new bt(new Float32Array(4*u),4));const d=t.tangent.array,f=[],p=[];for(let G=0;G<u;G++)f[G]=new z,p[G]=new z;const g=new z,y=new z,b=new z,v=new Ee,_=new Ee,E=new Ee,M=new z,S=new z;function C(G,j,oe){g.fromArray(r,G*3),y.fromArray(r,j*3),b.fromArray(r,oe*3),v.fromArray(l,G*2),_.fromArray(l,j*2),E.fromArray(l,oe*2),y.sub(g),b.sub(g),_.sub(v),E.sub(v);const Q=1/(_.x*E.y-E.x*_.y);isFinite(Q)&&(M.copy(y).multiplyScalar(E.y).addScaledVector(b,-_.y).multiplyScalar(Q),S.copy(b).multiplyScalar(_.x).addScaledVector(y,-E.x).multiplyScalar(Q),f[G].add(M),f[j].add(M),f[oe].add(M),p[G].add(S),p[j].add(S),p[oe].add(S))}let A=this.groups;A.length===0&&(A=[{start:0,count:n.length}]);for(let G=0,j=A.length;G<j;++G){const oe=A[G],Q=oe.start,W=oe.count;for(let re=Q,B=Q+W;re<B;re+=3)C(n[re+0],n[re+1],n[re+2])}const N=new z,D=new z,R=new z,P=new z;function q(G){R.fromArray(o,G*3),P.copy(R);const j=f[G];N.copy(j),N.sub(R.multiplyScalar(R.dot(j))).normalize(),D.crossVectors(P,j);const Q=D.dot(p[G])<0?-1:1;d[G*4]=N.x,d[G*4+1]=N.y,d[G*4+2]=N.z,d[G*4+3]=Q}for(let G=0,j=A.length;G<j;++G){const oe=A[G],Q=oe.start,W=oe.count;for(let re=Q,B=Q+W;re<B;re+=3)q(n[re+0]),q(n[re+1]),q(n[re+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new bt(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let y=0,b=n.count;y<b;y++)n.setXYZ(y,0,0,0);const r=new z,o=new z,l=new z,u=new z,d=new z,f=new z,p=new z,g=new z;if(e)for(let y=0,b=e.count;y<b;y+=3){const v=e.getX(y+0),_=e.getX(y+1),E=e.getX(y+2);r.fromBufferAttribute(t,v),o.fromBufferAttribute(t,_),l.fromBufferAttribute(t,E),p.subVectors(l,o),g.subVectors(r,o),p.cross(g),u.fromBufferAttribute(n,v),d.fromBufferAttribute(n,_),f.fromBufferAttribute(n,E),u.add(p),d.add(p),f.add(p),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(_,d.x,d.y,d.z),n.setXYZ(E,f.x,f.y,f.z)}else for(let y=0,b=t.count;y<b;y+=3)r.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),l.fromBufferAttribute(t,y+2),p.subVectors(l,o),g.subVectors(r,o),p.cross(g),n.setXYZ(y+0,p.x,p.y,p.z),n.setXYZ(y+1,p.x,p.y,p.z),n.setXYZ(y+2,p.x,p.y,p.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(e.attributes[r]===void 0)continue;const l=n[r].array,u=e.attributes[r],d=u.array,f=u.itemSize*t,p=Math.min(d.length,l.length-f);for(let g=0,y=f;g<p;g++,y++)l[y]=d[g]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)xn.fromBufferAttribute(e,t),xn.normalize(),e.setXYZ(t,xn.x,xn.y,xn.z)}toNonIndexed(){function e(u,d){const f=u.array,p=u.itemSize,g=u.normalized,y=new f.constructor(d.length*p);let b=0,v=0;for(let _=0,E=d.length;_<E;_++){u.isInterleavedBufferAttribute?b=d[_]*u.data.stride+u.offset:b=d[_]*p;for(let M=0;M<p;M++)y[v++]=f[b++]}return new bt(y,p,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new tt,n=this.index.array,r=this.attributes;for(const u in r){const d=r[u],f=e(d,n);t.setAttribute(u,f)}const o=this.morphAttributes;for(const u in o){const d=[],f=o[u];for(let p=0,g=f.length;p<g;p++){const y=f[p],b=e(y,n);d.push(b)}t.morphAttributes[u]=d}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,d=l.length;u<d;u++){const f=l[u];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const f in d)d[f]!==void 0&&(e[f]=d[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const d in n){const f=n[d];e.data.attributes[d]=f.toJSON(e.data)}const r={};let o=!1;for(const d in this.morphAttributes){const f=this.morphAttributes[d],p=[];for(let g=0,y=f.length;g<y;g++){const b=f[g];p.push(b.toJSON(e.data))}p.length>0&&(r[d]=p,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const f in r){const p=r[f];this.setAttribute(f,p.clone(t))}const o=e.morphAttributes;for(const f in o){const p=[],g=o[f];for(let y=0,b=g.length;y<b;y++)p.push(g[y].clone(t));this.morphAttributes[f]=p}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let f=0,p=l.length;f<p;f++){const g=l[f];this.addGroup(g.start,g.count,g.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}tt.prototype.isBufferGeometry=!0;const $b=new Ze,bo=new Cr,Tm=new Ar,fr=new z,pr=new z,mr=new z,Am=new z,Cm=new z,Rm=new z,vh=new z,bh=new z,wh=new z,_h=new Ee,Mh=new Ee,Sh=new Ee,Nm=new z,Eh=new z;let cn=class extends pt{constructor(e=new tt,t=new ks){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=r.length;o<l;o++){const u=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const n=this.geometry,r=this.material,o=this.matrixWorld;if(r===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),Tm.copy(n.boundingSphere),Tm.applyMatrix4(o),e.ray.intersectsSphere(Tm)===!1)||($b.copy(o).invert(),bo.copy(e.ray).applyMatrix4($b),n.boundingBox!==null&&bo.intersectsBox(n.boundingBox)===!1))return;let l;if(n.isBufferGeometry){const u=n.index,d=n.attributes.position,f=n.morphAttributes.position,p=n.morphTargetsRelative,g=n.attributes.uv,y=n.attributes.uv2,b=n.groups,v=n.drawRange;if(u!==null)if(Array.isArray(r))for(let _=0,E=b.length;_<E;_++){const M=b[_],S=r[M.materialIndex],C=Math.max(M.start,v.start),A=Math.min(u.count,Math.min(M.start+M.count,v.start+v.count));for(let N=C,D=A;N<D;N+=3){const R=u.getX(N),P=u.getX(N+1),q=u.getX(N+2);l=Th(this,S,e,bo,d,f,p,g,y,R,P,q),l&&(l.faceIndex=Math.floor(N/3),l.face.materialIndex=M.materialIndex,t.push(l))}}else{const _=Math.max(0,v.start),E=Math.min(u.count,v.start+v.count);for(let M=_,S=E;M<S;M+=3){const C=u.getX(M),A=u.getX(M+1),N=u.getX(M+2);l=Th(this,r,e,bo,d,f,p,g,y,C,A,N),l&&(l.faceIndex=Math.floor(M/3),t.push(l))}}else if(d!==void 0)if(Array.isArray(r))for(let _=0,E=b.length;_<E;_++){const M=b[_],S=r[M.materialIndex],C=Math.max(M.start,v.start),A=Math.min(d.count,Math.min(M.start+M.count,v.start+v.count));for(let N=C,D=A;N<D;N+=3){const R=N,P=N+1,q=N+2;l=Th(this,S,e,bo,d,f,p,g,y,R,P,q),l&&(l.faceIndex=Math.floor(N/3),l.face.materialIndex=M.materialIndex,t.push(l))}}else{const _=Math.max(0,v.start),E=Math.min(d.count,v.start+v.count);for(let M=_,S=E;M<S;M+=3){const C=M,A=M+1,N=M+2;l=Th(this,r,e,bo,d,f,p,g,y,C,A,N),l&&(l.faceIndex=Math.floor(M/3),t.push(l))}}}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}};cn.prototype.isMesh=!0;function qC(s,e,t,n,r,o,l,u){let d;if(e.side===$t?d=n.intersectTriangle(l,o,r,!0,u):d=n.intersectTriangle(r,o,l,e.side!==ha,u),d===null)return null;Eh.copy(u),Eh.applyMatrix4(s.matrixWorld);const f=t.ray.origin.distanceTo(Eh);return f<t.near||f>t.far?null:{distance:f,point:Eh.clone(),object:s}}function Th(s,e,t,n,r,o,l,u,d,f,p,g){fr.fromBufferAttribute(r,f),pr.fromBufferAttribute(r,p),mr.fromBufferAttribute(r,g);const y=s.morphTargetInfluences;if(o&&y){vh.set(0,0,0),bh.set(0,0,0),wh.set(0,0,0);for(let v=0,_=o.length;v<_;v++){const E=y[v],M=o[v];E!==0&&(Am.fromBufferAttribute(M,f),Cm.fromBufferAttribute(M,p),Rm.fromBufferAttribute(M,g),l?(vh.addScaledVector(Am,E),bh.addScaledVector(Cm,E),wh.addScaledVector(Rm,E)):(vh.addScaledVector(Am.sub(fr),E),bh.addScaledVector(Cm.sub(pr),E),wh.addScaledVector(Rm.sub(mr),E)))}fr.add(vh),pr.add(bh),mr.add(wh)}s.isSkinnedMesh&&(s.boneTransform(f,fr),s.boneTransform(p,pr),s.boneTransform(g,mr));const b=qC(s,e,t,n,fr,pr,mr,Nm);if(b){u&&(_h.fromBufferAttribute(u,f),Mh.fromBufferAttribute(u,p),Sh.fromBufferAttribute(u,g),b.uv=en.getUV(Nm,fr,pr,mr,_h,Mh,Sh,new Ee)),d&&(_h.fromBufferAttribute(d,f),Mh.fromBufferAttribute(d,p),Sh.fromBufferAttribute(d,g),b.uv2=en.getUV(Nm,fr,pr,mr,_h,Mh,Sh,new Ee));const v={a:f,b:p,c:g,normal:new z,materialIndex:0};en.getNormal(fr,pr,mr,v.normal),b.face=v}return b}class zs extends tt{constructor(e=1,t=1,n=1,r=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:o,depthSegments:l};const u=this;r=Math.floor(r),o=Math.floor(o),l=Math.floor(l);const d=[],f=[],p=[],g=[];let y=0,b=0;v("z","y","x",-1,-1,n,t,e,l,o,0),v("z","y","x",1,-1,n,t,-e,l,o,1),v("x","z","y",1,1,e,n,t,r,l,2),v("x","z","y",1,-1,e,n,-t,r,l,3),v("x","y","z",1,-1,e,t,n,r,o,4),v("x","y","z",-1,-1,e,t,-n,r,o,5),this.setIndex(d),this.setAttribute("position",new Xe(f,3)),this.setAttribute("normal",new Xe(p,3)),this.setAttribute("uv",new Xe(g,2));function v(_,E,M,S,C,A,N,D,R,P,q){const G=A/R,j=N/P,oe=A/2,Q=N/2,W=D/2,re=R+1,B=P+1;let V=0,ce=0;const Te=new z;for(let Le=0;Le<B;Le++){const k=Le*j-Q;for(let $=0;$<re;$++){const Z=$*G-oe;Te[_]=Z*S,Te[E]=k*C,Te[M]=W,f.push(Te.x,Te.y,Te.z),Te[_]=0,Te[E]=0,Te[M]=D>0?1:-1,p.push(Te.x,Te.y,Te.z),g.push($/R),g.push(1-Le/P),V+=1}}for(let Le=0;Le<P;Le++)for(let k=0;k<R;k++){const $=y+k+re*Le,Z=y+k+re*(Le+1),ie=y+(k+1)+re*(Le+1),_e=y+(k+1)+re*Le;d.push($,Z,_e),d.push(Z,ie,_e),ce+=6}u.addGroup(b,ce,q),b+=ce,y+=V}}static fromJSON(e){return new zs(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function jo(s){const e={};for(const t in s){e[t]={};for(const n in s[t]){const r=s[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function Dn(s){const e={};for(let t=0;t<s.length;t++){const n=jo(s[t]);for(const r in n)e[r]=n[r]}return e}const tM={clone:jo,merge:Dn};var YC=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,XC=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Os extends vn{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=YC,this.fragmentShader=XC,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=jo(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const l=this.uniforms[r].value;l&&l.isTexture?t.uniforms[r]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[r]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[r]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[r]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[r]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[r]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[r]={type:"m4",value:l.toArray()}:t.uniforms[r]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}Os.prototype.isShaderMaterial=!0;let kc=class extends pt{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Ze,this.projectionMatrix=new Ze,this.projectionMatrixInverse=new Ze}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}};kc.prototype.isCamera=!0;class yn extends kc{constructor(e=50,t=1,n=.1,r=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Mc*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(oa*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Mc*2*Math.atan(Math.tan(oa*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,o,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(oa*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,o=-.5*r;const l=this.view;if(this.view!==null&&this.view.enabled){const d=l.fullWidth,f=l.fullHeight;o+=l.offsetX*r/d,t-=l.offsetY*n/f,r*=l.width/d,n*=l.height/f}const u=this.filmOffset;u!==0&&(o+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}yn.prototype.isPerspectiveCamera=!0;const wo=90,_o=1;class _d extends pt{constructor(e,t,n){if(super(),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const r=new yn(wo,_o,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new z(1,0,0)),this.add(r);const o=new yn(wo,_o,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new z(-1,0,0)),this.add(o);const l=new yn(wo,_o,e,t);l.layers=this.layers,l.up.set(0,0,1),l.lookAt(new z(0,1,0)),this.add(l);const u=new yn(wo,_o,e,t);u.layers=this.layers,u.up.set(0,0,-1),u.lookAt(new z(0,-1,0)),this.add(u);const d=new yn(wo,_o,e,t);d.layers=this.layers,d.up.set(0,-1,0),d.lookAt(new z(0,0,1)),this.add(d);const f=new yn(wo,_o,e,t);f.layers=this.layers,f.up.set(0,-1,0),f.lookAt(new z(0,0,-1)),this.add(f)}update(e,t){this.parent===null&&this.updateMatrixWorld();const n=this.renderTarget,[r,o,l,u,d,f]=this.children,p=e.xr.enabled,g=e.getRenderTarget();e.xr.enabled=!1;const y=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,o),e.setRenderTarget(n,2),e.render(t,l),e.setRenderTarget(n,3),e.render(t,u),e.setRenderTarget(n,4),e.render(t,d),n.texture.generateMipmaps=y,e.setRenderTarget(n,5),e.render(t,f),e.setRenderTarget(g),e.xr.enabled=p}}class $o extends Bn{constructor(e,t,n,r,o,l,u,d,f,p){e=e!==void 0?e:[],t=t!==void 0?t:ba,super(e,t,n,r,o,l,u,d,f,p),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}$o.prototype.isCubeTexture=!0;class Md extends Bi{constructor(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),super(e,e,t),t=t||{},this.texture=new $o(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:dn,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=Cn,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new zs(5,5,5),o=new Os({name:"CubemapFromEquirect",uniforms:jo(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:$t,blending:Ns});o.uniforms.tEquirect.value=t;const l=new cn(r,o),u=t.minFilter;return t.minFilter===_a&&(t.minFilter=dn),new _d(1,10,this).update(e,l),t.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(e,t,n,r){const o=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,n,r);e.setRenderTarget(o)}}Md.prototype.isWebGLCubeRenderTarget=!0;const Lm=new z,ZC=new z,JC=new fn;let qi=class{constructor(e=new z(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=Lm.subVectors(n,t).cross(ZC.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(Lm),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:t.copy(n).multiplyScalar(o).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||JC.getNormalMatrix(e),r=this.coplanarPoint(Lm).applyMatrix4(e),o=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};qi.prototype.isPlane=!0;const Mo=new Ar,Ah=new z;class jc{constructor(e=new qi,t=new qi,n=new qi,r=new qi,o=new qi,l=new qi){this.planes=[e,t,n,r,o,l]}set(e,t,n,r,o,l){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(n),u[3].copy(r),u[4].copy(o),u[5].copy(l),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],o=n[1],l=n[2],u=n[3],d=n[4],f=n[5],p=n[6],g=n[7],y=n[8],b=n[9],v=n[10],_=n[11],E=n[12],M=n[13],S=n[14],C=n[15];return t[0].setComponents(u-r,g-d,_-y,C-E).normalize(),t[1].setComponents(u+r,g+d,_+y,C+E).normalize(),t[2].setComponents(u+o,g+f,_+b,C+M).normalize(),t[3].setComponents(u-o,g-f,_-b,C-M).normalize(),t[4].setComponents(u-l,g-p,_-v,C-S).normalize(),t[5].setComponents(u+l,g+p,_+v,C+S).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Mo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Mo)}intersectsSprite(e){return Mo.center.set(0,0,0),Mo.radius=.7071067811865476,Mo.applyMatrix4(e.matrixWorld),this.intersectsSphere(Mo)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Ah.x=r.normal.x>0?e.max.x:e.min.x,Ah.y=r.normal.y>0?e.max.y:e.min.y,Ah.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Ah)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function nM(){let s=null,e=!1,t=null,n=null;function r(o,l){t(o,l),n=s.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=s.requestAnimationFrame(r),e=!0)},stop:function(){s.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){s=o}}}function QC(s,e){const t=e.isWebGL2,n=new WeakMap;function r(f,p){const g=f.array,y=f.usage,b=s.createBuffer();s.bindBuffer(p,b),s.bufferData(p,g,y),f.onUploadCallback();let v=5126;return g instanceof Float32Array?v=5126:g instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):g instanceof Uint16Array?f.isFloat16BufferAttribute?t?v=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):v=5123:g instanceof Int16Array?v=5122:g instanceof Uint32Array?v=5125:g instanceof Int32Array?v=5124:g instanceof Int8Array?v=5120:(g instanceof Uint8Array||g instanceof Uint8ClampedArray)&&(v=5121),{buffer:b,type:v,bytesPerElement:g.BYTES_PER_ELEMENT,version:f.version}}function o(f,p,g){const y=p.array,b=p.updateRange;s.bindBuffer(g,f),b.count===-1?s.bufferSubData(g,0,y):(t?s.bufferSubData(g,b.offset*y.BYTES_PER_ELEMENT,y,b.offset,b.count):s.bufferSubData(g,b.offset*y.BYTES_PER_ELEMENT,y.subarray(b.offset,b.offset+b.count)),b.count=-1)}function l(f){return f.isInterleavedBufferAttribute&&(f=f.data),n.get(f)}function u(f){f.isInterleavedBufferAttribute&&(f=f.data);const p=n.get(f);p&&(s.deleteBuffer(p.buffer),n.delete(f))}function d(f,p){if(f.isGLBufferAttribute){const y=n.get(f);(!y||y.version<f.version)&&n.set(f,{buffer:f.buffer,type:f.type,bytesPerElement:f.elementSize,version:f.version});return}f.isInterleavedBufferAttribute&&(f=f.data);const g=n.get(f);g===void 0?n.set(f,r(f,p)):g.version<f.version&&(o(g.buffer,f,p),g.version=f.version)}return{get:l,remove:u,update:d}}class da extends tt{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const o=e/2,l=t/2,u=Math.floor(n),d=Math.floor(r),f=u+1,p=d+1,g=e/u,y=t/d,b=[],v=[],_=[],E=[];for(let M=0;M<p;M++){const S=M*y-l;for(let C=0;C<f;C++){const A=C*g-o;v.push(A,-S,0),_.push(0,0,1),E.push(C/u),E.push(1-M/d)}}for(let M=0;M<d;M++)for(let S=0;S<u;S++){const C=S+f*M,A=S+f*(M+1),N=S+1+f*(M+1),D=S+1+f*M;b.push(C,A,D),b.push(A,N,D)}this.setIndex(b),this.setAttribute("position",new Xe(v,3)),this.setAttribute("normal",new Xe(_,3)),this.setAttribute("uv",new Xe(E,2))}static fromJSON(e){return new da(e.width,e.height,e.widthSegments,e.heightSegments)}}var KC=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,$C=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eR=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,tR=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,nR=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,iR=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,sR="vec3 transformed = vec3( position );",rR=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,aR=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,oR=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,lR=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,cR=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,uR=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,hR=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,dR=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,fR=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,pR=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,mR=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,gR=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,xR=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,yR=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,vR=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,bR=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,wR=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,_R=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,MR="gl_FragColor = linearToOutputTexel( gl_FragColor );",SR=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,ER=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,TR=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,AR=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,CR=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,RR=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,NR=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,LR=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,DR=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,zR=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,OR=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,BR=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,UR=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,PR=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,kR=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,jR=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,FR=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,IR=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,HR=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,GR=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,VR=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,WR=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,qR=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,YR=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,XR=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,ZR=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,JR=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,QR=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,KR=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,$R=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,eN=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,tN=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,nN=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,iN=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,sN=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,rN=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,aN=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,oN=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,lN=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,cN=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,uN=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,hN=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,dN=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,fN=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,pN=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,mN=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,gN=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,xN=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,yN=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,vN=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,bN=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,wN=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,_N=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,MN=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,SN=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,EN=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,TN=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,AN=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,CN=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,RN=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,NN=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,LN=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,DN=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,zN=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,ON=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,BN=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,UN=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,PN=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,kN=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,jN=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,FN=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,IN=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,HN=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,GN=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,VN=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,WN=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const qN=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,YN=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,XN=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ZN=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,JN=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,QN=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,KN=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,$N=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,e4=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,t4=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,n4=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,i4=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,s4=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,r4=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,a4=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,o4=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,l4=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,c4=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,u4=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,h4=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,d4=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,f4=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,p4=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,m4=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - clearcoat * Fcc ) + clearcoatSpecular * clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,g4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,x4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,y4=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,v4=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,b4=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,w4=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,_4=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,M4=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,lt={alphamap_fragment:KC,alphamap_pars_fragment:$C,alphatest_fragment:eR,alphatest_pars_fragment:tR,aomap_fragment:nR,aomap_pars_fragment:iR,begin_vertex:sR,beginnormal_vertex:rR,bsdfs:aR,bumpmap_pars_fragment:oR,clipping_planes_fragment:lR,clipping_planes_pars_fragment:cR,clipping_planes_pars_vertex:uR,clipping_planes_vertex:hR,color_fragment:dR,color_pars_fragment:fR,color_pars_vertex:pR,color_vertex:mR,common:gR,cube_uv_reflection_fragment:xR,defaultnormal_vertex:yR,displacementmap_pars_vertex:vR,displacementmap_vertex:bR,emissivemap_fragment:wR,emissivemap_pars_fragment:_R,encodings_fragment:MR,encodings_pars_fragment:SR,envmap_fragment:ER,envmap_common_pars_fragment:TR,envmap_pars_fragment:AR,envmap_pars_vertex:CR,envmap_physical_pars_fragment:jR,envmap_vertex:RR,fog_vertex:NR,fog_pars_vertex:LR,fog_fragment:DR,fog_pars_fragment:zR,gradientmap_pars_fragment:OR,lightmap_fragment:BR,lightmap_pars_fragment:UR,lights_lambert_vertex:PR,lights_pars_begin:kR,lights_toon_fragment:FR,lights_toon_pars_fragment:IR,lights_phong_fragment:HR,lights_phong_pars_fragment:GR,lights_physical_fragment:VR,lights_physical_pars_fragment:WR,lights_fragment_begin:qR,lights_fragment_maps:YR,lights_fragment_end:XR,logdepthbuf_fragment:ZR,logdepthbuf_pars_fragment:JR,logdepthbuf_pars_vertex:QR,logdepthbuf_vertex:KR,map_fragment:$R,map_pars_fragment:eN,map_particle_fragment:tN,map_particle_pars_fragment:nN,metalnessmap_fragment:iN,metalnessmap_pars_fragment:sN,morphnormal_vertex:rN,morphtarget_pars_vertex:aN,morphtarget_vertex:oN,normal_fragment_begin:lN,normal_fragment_maps:cN,normal_pars_fragment:uN,normal_pars_vertex:hN,normal_vertex:dN,normalmap_pars_fragment:fN,clearcoat_normal_fragment_begin:pN,clearcoat_normal_fragment_maps:mN,clearcoat_pars_fragment:gN,output_fragment:xN,packing:yN,premultiplied_alpha_fragment:vN,project_vertex:bN,dithering_fragment:wN,dithering_pars_fragment:_N,roughnessmap_fragment:MN,roughnessmap_pars_fragment:SN,shadowmap_pars_fragment:EN,shadowmap_pars_vertex:TN,shadowmap_vertex:AN,shadowmask_pars_fragment:CN,skinbase_vertex:RN,skinning_pars_vertex:NN,skinning_vertex:LN,skinnormal_vertex:DN,specularmap_fragment:zN,specularmap_pars_fragment:ON,tonemapping_fragment:BN,tonemapping_pars_fragment:UN,transmission_fragment:PN,transmission_pars_fragment:kN,uv_pars_fragment:jN,uv_pars_vertex:FN,uv_vertex:IN,uv2_pars_fragment:HN,uv2_pars_vertex:GN,uv2_vertex:VN,worldpos_vertex:WN,background_vert:qN,background_frag:YN,cube_vert:XN,cube_frag:ZN,depth_vert:JN,depth_frag:QN,distanceRGBA_vert:KN,distanceRGBA_frag:$N,equirect_vert:e4,equirect_frag:t4,linedashed_vert:n4,linedashed_frag:i4,meshbasic_vert:s4,meshbasic_frag:r4,meshlambert_vert:a4,meshlambert_frag:o4,meshmatcap_vert:l4,meshmatcap_frag:c4,meshnormal_vert:u4,meshnormal_frag:h4,meshphong_vert:d4,meshphong_frag:f4,meshphysical_vert:p4,meshphysical_frag:m4,meshtoon_vert:g4,meshtoon_frag:x4,points_vert:y4,points_frag:v4,shadow_vert:b4,shadow_frag:w4,sprite_vert:_4,sprite_frag:M4},Be={common:{diffuse:{value:new Ue(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new fn},uv2Transform:{value:new fn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ee(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ue(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ue(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new fn}},sprite:{diffuse:{value:new Ue(16777215)},opacity:{value:1},center:{value:new Ee(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new fn}}},Oi={basic:{uniforms:Dn([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.fog]),vertexShader:lt.meshbasic_vert,fragmentShader:lt.meshbasic_frag},lambert:{uniforms:Dn([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.fog,Be.lights,{emissive:{value:new Ue(0)}}]),vertexShader:lt.meshlambert_vert,fragmentShader:lt.meshlambert_frag},phong:{uniforms:Dn([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,Be.lights,{emissive:{value:new Ue(0)},specular:{value:new Ue(1118481)},shininess:{value:30}}]),vertexShader:lt.meshphong_vert,fragmentShader:lt.meshphong_frag},standard:{uniforms:Dn([Be.common,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.roughnessmap,Be.metalnessmap,Be.fog,Be.lights,{emissive:{value:new Ue(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:lt.meshphysical_vert,fragmentShader:lt.meshphysical_frag},toon:{uniforms:Dn([Be.common,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.gradientmap,Be.fog,Be.lights,{emissive:{value:new Ue(0)}}]),vertexShader:lt.meshtoon_vert,fragmentShader:lt.meshtoon_frag},matcap:{uniforms:Dn([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,{matcap:{value:null}}]),vertexShader:lt.meshmatcap_vert,fragmentShader:lt.meshmatcap_frag},points:{uniforms:Dn([Be.points,Be.fog]),vertexShader:lt.points_vert,fragmentShader:lt.points_frag},dashed:{uniforms:Dn([Be.common,Be.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:lt.linedashed_vert,fragmentShader:lt.linedashed_frag},depth:{uniforms:Dn([Be.common,Be.displacementmap]),vertexShader:lt.depth_vert,fragmentShader:lt.depth_frag},normal:{uniforms:Dn([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,{opacity:{value:1}}]),vertexShader:lt.meshnormal_vert,fragmentShader:lt.meshnormal_frag},sprite:{uniforms:Dn([Be.sprite,Be.fog]),vertexShader:lt.sprite_vert,fragmentShader:lt.sprite_frag},background:{uniforms:{uvTransform:{value:new fn},t2D:{value:null}},vertexShader:lt.background_vert,fragmentShader:lt.background_frag},cube:{uniforms:Dn([Be.envmap,{opacity:{value:1}}]),vertexShader:lt.cube_vert,fragmentShader:lt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:lt.equirect_vert,fragmentShader:lt.equirect_frag},distanceRGBA:{uniforms:Dn([Be.common,Be.displacementmap,{referencePosition:{value:new z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:lt.distanceRGBA_vert,fragmentShader:lt.distanceRGBA_frag},shadow:{uniforms:Dn([Be.lights,Be.fog,{color:{value:new Ue(0)},opacity:{value:1}}]),vertexShader:lt.shadow_vert,fragmentShader:lt.shadow_frag}};Oi.physical={uniforms:Dn([Oi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ee(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Ue(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ee},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ue(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new Ue(1,1,1)},specularColorMap:{value:null}}]),vertexShader:lt.meshphysical_vert,fragmentShader:lt.meshphysical_frag};function S4(s,e,t,n,r){const o=new Ue(0);let l=0,u,d,f=null,p=0,g=null;function y(v,_){let E=!1,M=_.isScene===!0?_.background:null;M&&M.isTexture&&(M=e.get(M));const S=s.xr,C=S.getSession&&S.getSession();C&&C.environmentBlendMode==="additive"&&(M=null),M===null?b(o,l):M&&M.isColor&&(b(M,1),E=!0),(s.autoClear||E)&&s.clear(s.autoClearColor,s.autoClearDepth,s.autoClearStencil),M&&(M.isCubeTexture||M.mapping===Ko)?(d===void 0&&(d=new cn(new zs(1,1,1),new Os({name:"BackgroundCubeMaterial",uniforms:jo(Oi.cube.uniforms),vertexShader:Oi.cube.vertexShader,fragmentShader:Oi.cube.fragmentShader,side:$t,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(A,N,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(d)),d.material.uniforms.envMap.value=M,d.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,(f!==M||p!==M.version||g!==s.toneMapping)&&(d.material.needsUpdate=!0,f=M,p=M.version,g=s.toneMapping),v.unshift(d,d.geometry,d.material,0,0,null)):M&&M.isTexture&&(u===void 0&&(u=new cn(new da(2,2),new Os({name:"BackgroundMaterial",uniforms:jo(Oi.background.uniforms),vertexShader:Oi.background.vertexShader,fragmentShader:Oi.background.fragmentShader,side:ua,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(u)),u.material.uniforms.t2D.value=M,M.matrixAutoUpdate===!0&&M.updateMatrix(),u.material.uniforms.uvTransform.value.copy(M.matrix),(f!==M||p!==M.version||g!==s.toneMapping)&&(u.material.needsUpdate=!0,f=M,p=M.version,g=s.toneMapping),v.unshift(u,u.geometry,u.material,0,0,null))}function b(v,_){t.buffers.color.setClear(v.r,v.g,v.b,_,r)}return{getClearColor:function(){return o},setClearColor:function(v,_=1){o.set(v),l=_,b(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,b(o,l)},render:y}}function E4(s,e,t,n){const r=s.getParameter(34921),o=n.isWebGL2?null:e.get("OES_vertex_array_object"),l=n.isWebGL2||o!==null,u={},d=_(null);let f=d;function p(Q,W,re,B,V){let ce=!1;if(l){const Te=v(B,re,W);f!==Te&&(f=Te,y(f.object)),ce=E(B,V),ce&&M(B,V)}else{const Te=W.wireframe===!0;(f.geometry!==B.id||f.program!==re.id||f.wireframe!==Te)&&(f.geometry=B.id,f.program=re.id,f.wireframe=Te,ce=!0)}Q.isInstancedMesh===!0&&(ce=!0),V!==null&&t.update(V,34963),ce&&(R(Q,W,re,B),V!==null&&s.bindBuffer(34963,t.get(V).buffer))}function g(){return n.isWebGL2?s.createVertexArray():o.createVertexArrayOES()}function y(Q){return n.isWebGL2?s.bindVertexArray(Q):o.bindVertexArrayOES(Q)}function b(Q){return n.isWebGL2?s.deleteVertexArray(Q):o.deleteVertexArrayOES(Q)}function v(Q,W,re){const B=re.wireframe===!0;let V=u[Q.id];V===void 0&&(V={},u[Q.id]=V);let ce=V[W.id];ce===void 0&&(ce={},V[W.id]=ce);let Te=ce[B];return Te===void 0&&(Te=_(g()),ce[B]=Te),Te}function _(Q){const W=[],re=[],B=[];for(let V=0;V<r;V++)W[V]=0,re[V]=0,B[V]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:W,enabledAttributes:re,attributeDivisors:B,object:Q,attributes:{},index:null}}function E(Q,W){const re=f.attributes,B=Q.attributes;let V=0;for(const ce in B){const Te=re[ce],Le=B[ce];if(Te===void 0||Te.attribute!==Le||Te.data!==Le.data)return!0;V++}return f.attributesNum!==V||f.index!==W}function M(Q,W){const re={},B=Q.attributes;let V=0;for(const ce in B){const Te=B[ce],Le={};Le.attribute=Te,Te.data&&(Le.data=Te.data),re[ce]=Le,V++}f.attributes=re,f.attributesNum=V,f.index=W}function S(){const Q=f.newAttributes;for(let W=0,re=Q.length;W<re;W++)Q[W]=0}function C(Q){A(Q,0)}function A(Q,W){const re=f.newAttributes,B=f.enabledAttributes,V=f.attributeDivisors;re[Q]=1,B[Q]===0&&(s.enableVertexAttribArray(Q),B[Q]=1),V[Q]!==W&&((n.isWebGL2?s:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Q,W),V[Q]=W)}function N(){const Q=f.newAttributes,W=f.enabledAttributes;for(let re=0,B=W.length;re<B;re++)W[re]!==Q[re]&&(s.disableVertexAttribArray(re),W[re]=0)}function D(Q,W,re,B,V,ce){n.isWebGL2===!0&&(re===5124||re===5125)?s.vertexAttribIPointer(Q,W,re,V,ce):s.vertexAttribPointer(Q,W,re,B,V,ce)}function R(Q,W,re,B){if(n.isWebGL2===!1&&(Q.isInstancedMesh||B.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const V=B.attributes,ce=re.getAttributes(),Te=W.defaultAttributeValues;for(const Le in ce){const k=ce[Le];if(k.location>=0){let $=V[Le];if($===void 0&&(Le==="instanceMatrix"&&Q.instanceMatrix&&($=Q.instanceMatrix),Le==="instanceColor"&&Q.instanceColor&&($=Q.instanceColor)),$!==void 0){const Z=$.normalized,ie=$.itemSize,_e=t.get($);if(_e===void 0)continue;const te=_e.buffer,ee=_e.type,be=_e.bytesPerElement;if($.isInterleavedBufferAttribute){const ye=$.data,ze=ye.stride,je=$.offset;if(ye&&ye.isInstancedInterleavedBuffer){for(let fe=0;fe<k.locationSize;fe++)A(k.location+fe,ye.meshPerAttribute);Q.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let fe=0;fe<k.locationSize;fe++)C(k.location+fe);s.bindBuffer(34962,te);for(let fe=0;fe<k.locationSize;fe++)D(k.location+fe,ie/k.locationSize,ee,Z,ze*be,(je+ie/k.locationSize*fe)*be)}else{if($.isInstancedBufferAttribute){for(let ye=0;ye<k.locationSize;ye++)A(k.location+ye,$.meshPerAttribute);Q.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=$.meshPerAttribute*$.count)}else for(let ye=0;ye<k.locationSize;ye++)C(k.location+ye);s.bindBuffer(34962,te);for(let ye=0;ye<k.locationSize;ye++)D(k.location+ye,ie/k.locationSize,ee,Z,ie*be,ie/k.locationSize*ye*be)}}else if(Te!==void 0){const Z=Te[Le];if(Z!==void 0)switch(Z.length){case 2:s.vertexAttrib2fv(k.location,Z);break;case 3:s.vertexAttrib3fv(k.location,Z);break;case 4:s.vertexAttrib4fv(k.location,Z);break;default:s.vertexAttrib1fv(k.location,Z)}}}}N()}function P(){j();for(const Q in u){const W=u[Q];for(const re in W){const B=W[re];for(const V in B)b(B[V].object),delete B[V];delete W[re]}delete u[Q]}}function q(Q){if(u[Q.id]===void 0)return;const W=u[Q.id];for(const re in W){const B=W[re];for(const V in B)b(B[V].object),delete B[V];delete W[re]}delete u[Q.id]}function G(Q){for(const W in u){const re=u[W];if(re[Q.id]===void 0)continue;const B=re[Q.id];for(const V in B)b(B[V].object),delete B[V];delete re[Q.id]}}function j(){oe(),f!==d&&(f=d,y(f.object))}function oe(){d.geometry=null,d.program=null,d.wireframe=!1}return{setup:p,reset:j,resetDefaultState:oe,dispose:P,releaseStatesOfGeometry:q,releaseStatesOfProgram:G,initAttributes:S,enableAttribute:C,disableUnusedAttributes:N}}function T4(s,e,t,n){const r=n.isWebGL2;let o;function l(f){o=f}function u(f,p){s.drawArrays(o,f,p),t.update(p,o,1)}function d(f,p,g){if(g===0)return;let y,b;if(r)y=s,b="drawArraysInstanced";else if(y=e.get("ANGLE_instanced_arrays"),b="drawArraysInstancedANGLE",y===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[b](o,f,p,g),t.update(p,o,g)}this.setMode=l,this.render=u,this.renderInstances=d}function A4(s,e,t){let n;function r(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");n=s.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function o(R){if(R==="highp"){if(s.getShaderPrecisionFormat(35633,36338).precision>0&&s.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&s.getShaderPrecisionFormat(35633,36337).precision>0&&s.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const l=typeof WebGL2RenderingContext<"u"&&s instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&s instanceof WebGL2ComputeRenderingContext;let u=t.precision!==void 0?t.precision:"highp";const d=o(u);d!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const f=l||e.has("WEBGL_draw_buffers"),p=t.logarithmicDepthBuffer===!0,g=s.getParameter(34930),y=s.getParameter(35660),b=s.getParameter(3379),v=s.getParameter(34076),_=s.getParameter(34921),E=s.getParameter(36347),M=s.getParameter(36348),S=s.getParameter(36349),C=y>0,A=l||e.has("OES_texture_float"),N=C&&A,D=l?s.getParameter(36183):0;return{isWebGL2:l,drawBuffers:f,getMaxAnisotropy:r,getMaxPrecision:o,precision:u,logarithmicDepthBuffer:p,maxTextures:g,maxVertexTextures:y,maxTextureSize:b,maxCubemapSize:v,maxAttributes:_,maxVertexUniforms:E,maxVaryings:M,maxFragmentUniforms:S,vertexTextures:C,floatFragmentTextures:A,floatVertexTextures:N,maxSamples:D}}function C4(s){const e=this;let t=null,n=0,r=!1,o=!1;const l=new qi,u=new fn,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(g,y,b){const v=g.length!==0||y||n!==0||r;return r=y,t=p(g,b,0),n=g.length,v},this.beginShadows=function(){o=!0,p(null)},this.endShadows=function(){o=!1,f()},this.setState=function(g,y,b){const v=g.clippingPlanes,_=g.clipIntersection,E=g.clipShadows,M=s.get(g);if(!r||v===null||v.length===0||o&&!E)o?p(null):f();else{const S=o?0:n,C=S*4;let A=M.clippingState||null;d.value=A,A=p(v,y,C,b);for(let N=0;N!==C;++N)A[N]=t[N];M.clippingState=A,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=S}};function f(){d.value!==t&&(d.value=t,d.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function p(g,y,b,v){const _=g!==null?g.length:0;let E=null;if(_!==0){if(E=d.value,v!==!0||E===null){const M=b+_*4,S=y.matrixWorldInverse;u.getNormalMatrix(S),(E===null||E.length<M)&&(E=new Float32Array(M));for(let C=0,A=b;C!==_;++C,A+=4)l.copy(g[C]).applyMatrix4(S,u),l.normal.toArray(E,A),E[A+3]=l.constant}d.value=E,d.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,E}}function R4(s){let e=new WeakMap;function t(l,u){return u===mc?l.mapping=ba:u===gc&&(l.mapping=wa),l}function n(l){if(l&&l.isTexture&&l.isRenderTargetTexture===!1){const u=l.mapping;if(u===mc||u===gc)if(e.has(l)){const d=e.get(l).texture;return t(d,l.mapping)}else{const d=l.image;if(d&&d.height>0){const f=s.getRenderTarget(),p=new Md(d.height/2);return p.fromEquirectangularTexture(s,l),e.set(l,p),s.setRenderTarget(f),l.addEventListener("dispose",r),t(p.texture,l.mapping)}else return null}}return l}function r(l){const u=l.target;u.removeEventListener("dispose",r);const d=e.get(u);d!==void 0&&(e.delete(u),d.dispose())}function o(){e=new WeakMap}return{get:n,dispose:o}}class Fc extends kc{constructor(e=-1,t=1,n=1,r=-1,o=.1,l=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,o,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=n-e,l=n+e,u=r+t,d=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=f*this.view.offsetX,l=o+f*this.view.width,u-=p*this.view.offsetY,d=u-p*this.view.height}this.projectionMatrix.makeOrthographic(o,l,u,d,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}Fc.prototype.isOrthographicCamera=!0;class el extends Os{constructor(e){super(e),this.type="RawShaderMaterial"}}el.prototype.isRawShaderMaterial=!0;const Bo=4,yr=8,Wi=Math.pow(2,yr),iM=[.125,.215,.35,.446,.526,.582],sM=yr-Bo+1+iM.length,So=20,wr={[Nn]:0,[Er]:1,[yd]:2,[H0]:3,[G0]:4,[V0]:5,[xd]:6},Dm=new Fc,{_lodPlanes:tc,_sizeLods:e1,_sigmas:Ch}=L4(),t1=new Ue;let zm=null;const Kr=(1+Math.sqrt(5))/2,Eo=1/Kr,n1=[new z(1,1,1),new z(-1,1,1),new z(1,1,-1),new z(-1,1,-1),new z(0,Kr,Eo),new z(0,Kr,-Eo),new z(Eo,0,Kr),new z(-Eo,0,Kr),new z(Kr,Eo,0),new z(-Kr,Eo,0)];class rM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=D4(So),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){zm=this._renderer.getRenderTarget();const o=this._allocateTargets();return this._sceneToCubeUV(e,n,r,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=r1(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=s1(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<tc.length;e++)tc[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(zm),e.scissorTest=!1,Rh(e,0,0,e.width,e.height)}_fromTexture(e){zm=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){const t={magFilter:ln,minFilter:ln,generateMipmaps:!1,type:Ds,format:J_,encoding:N4(e)?e.encoding:yd,depthBuffer:!1},n=i1(t);return n.depthBuffer=!e,this._pingPongRenderTarget=i1(t),n}_compileMaterial(e){const t=new cn(tc[0],e);this._renderer.compile(t,Dm)}_sceneToCubeUV(e,t,n,r){const u=new yn(90,1,t,n),d=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],p=this._renderer,g=p.autoClear,y=p.outputEncoding,b=p.toneMapping;p.getClearColor(t1),p.toneMapping=xr,p.outputEncoding=Nn,p.autoClear=!1;const v=new ks({name:"PMREM.Background",side:$t,depthWrite:!1,depthTest:!1}),_=new cn(new zs,v);let E=!1;const M=e.background;M?M.isColor&&(v.color.copy(M),e.background=null,E=!0):(v.color.copy(t1),E=!0);for(let S=0;S<6;S++){const C=S%3;C==0?(u.up.set(0,d[S],0),u.lookAt(f[S],0,0)):C==1?(u.up.set(0,0,d[S]),u.lookAt(0,f[S],0)):(u.up.set(0,d[S],0),u.lookAt(0,0,f[S])),Rh(r,C*Wi,S>2?Wi:0,Wi,Wi),p.setRenderTarget(r),E&&p.render(_,u),p.render(e,u)}_.geometry.dispose(),_.material.dispose(),p.toneMapping=b,p.outputEncoding=y,p.autoClear=g,e.background=M}_setEncoding(e,t){this._renderer.capabilities.isWebGL2===!0&&t.format===Cn&&t.type===Ds&&t.encoding===Er?e.value=wr[Nn]:e.value=wr[t.encoding]}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===ba||e.mapping===wa;r?this._cubemapShader==null&&(this._cubemapShader=r1()):this._equirectShader==null&&(this._equirectShader=s1());const o=r?this._cubemapShader:this._equirectShader,l=new cn(tc[0],o),u=o.uniforms;u.envMap.value=e,r||u.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(u.inputEncoding,e),this._setEncoding(u.outputEncoding,t.texture),Rh(t,0,0,3*Wi,2*Wi),n.setRenderTarget(t),n.render(l,Dm)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<sM;r++){const o=Math.sqrt(Ch[r]*Ch[r]-Ch[r-1]*Ch[r-1]),l=n1[(r-1)%n1.length];this._blur(e,r-1,r,o,l)}t.autoClear=n}_blur(e,t,n,r,o){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,n,r,"latitudinal",o),this._halfBlur(l,e,n,n,r,"longitudinal",o)}_halfBlur(e,t,n,r,o,l,u){const d=this._renderer,f=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,g=new cn(tc[r],f),y=f.uniforms,b=e1[n]-1,v=isFinite(o)?Math.PI/(2*b):2*Math.PI/(2*So-1),_=o/v,E=isFinite(o)?1+Math.floor(p*_):So;E>So&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${So}`);const M=[];let S=0;for(let D=0;D<So;++D){const R=D/_,P=Math.exp(-R*R/2);M.push(P),D==0?S+=P:D<E&&(S+=2*P)}for(let D=0;D<M.length;D++)M[D]=M[D]/S;y.envMap.value=e.texture,y.samples.value=E,y.weights.value=M,y.latitudinal.value=l==="latitudinal",u&&(y.poleAxis.value=u),y.dTheta.value=v,y.mipInt.value=yr-n,this._setEncoding(y.inputEncoding,e.texture),this._setEncoding(y.outputEncoding,e.texture);const C=e1[r],A=3*Math.max(0,Wi-2*C),N=(r===0?0:2*Wi)+2*C*(r>yr-Bo?r-yr+Bo:0);Rh(t,A,N,3*C,2*C),d.setRenderTarget(t),d.render(g,Dm)}}function N4(s){return s===void 0||s.type!==Ds?!1:s.encoding===Nn||s.encoding===Er||s.encoding===xd}function L4(){const s=[],e=[],t=[];let n=yr;for(let r=0;r<sM;r++){const o=Math.pow(2,n);e.push(o);let l=1/o;r>yr-Bo?l=iM[r-yr+Bo-1]:r==0&&(l=0),t.push(l);const u=1/(o-1),d=-u/2,f=1+u/2,p=[d,d,f,d,f,f,d,d,f,f,d,f],g=6,y=6,b=3,v=2,_=1,E=new Float32Array(b*y*g),M=new Float32Array(v*y*g),S=new Float32Array(_*y*g);for(let A=0;A<g;A++){const N=A%3*2/3-1,D=A>2?0:-1,R=[N,D,0,N+2/3,D,0,N+2/3,D+1,0,N,D,0,N+2/3,D+1,0,N,D+1,0];E.set(R,b*y*A),M.set(p,v*y*A);const P=[A,A,A,A,A,A];S.set(P,_*y*A)}const C=new tt;C.setAttribute("position",new bt(E,b)),C.setAttribute("uv",new bt(M,v)),C.setAttribute("faceIndex",new bt(S,_)),s.push(C),n>Bo&&n--}return{_lodPlanes:s,_sizeLods:e,_sigmas:t}}function i1(s){const e=new Bi(3*Wi,3*Wi,s);return e.texture.mapping=Ko,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Rh(s,e,t,n,r){s.viewport.set(e,t,n,r),s.scissor.set(e,t,n,r)}function D4(s){const e=new Float32Array(s),t=new z(0,1,0);return new el({name:"SphericalGaussianBlur",defines:{n:s},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:wr[Nn]},outputEncoding:{value:wr[Nn]}},vertexShader:X0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${Z0()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Ns,depthTest:!1,depthWrite:!1})}function s1(){const s=new Ee(1,1);return new el({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:s},inputEncoding:{value:wr[Nn]},outputEncoding:{value:wr[Nn]}},vertexShader:X0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${Z0()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Ns,depthTest:!1,depthWrite:!1})}function r1(){return new el({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:wr[Nn]},outputEncoding:{value:wr[Nn]}},vertexShader:X0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${Z0()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Ns,depthTest:!1,depthWrite:!1})}function X0(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Z0(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function z4(s){let e=new WeakMap,t=null;function n(u){if(u&&u.isTexture&&u.isRenderTargetTexture===!1){const d=u.mapping,f=d===mc||d===gc,p=d===ba||d===wa;if(f||p){if(e.has(u))return e.get(u).texture;{const g=u.image;if(f&&g&&g.height>0||p&&g&&r(g)){const y=s.getRenderTarget();t===null&&(t=new rM(s));const b=f?t.fromEquirectangular(u):t.fromCubemap(u);return e.set(u,b),s.setRenderTarget(y),u.addEventListener("dispose",o),b.texture}else return null}}}return u}function r(u){let d=0;const f=6;for(let p=0;p<f;p++)u[p]!==void 0&&d++;return d===f}function o(u){const d=u.target;d.removeEventListener("dispose",o);const f=e.get(d);f!==void 0&&(e.delete(d),f.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:l}}function O4(s){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=s.getExtension("WEBGL_depth_texture")||s.getExtension("MOZ_WEBGL_depth_texture")||s.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=s.getExtension("WEBGL_compressed_texture_s3tc")||s.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=s.getExtension("WEBGL_compressed_texture_pvrtc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=s.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float")},get:function(n){const r=t(n);return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function B4(s,e,t,n){const r={},o=new WeakMap;function l(g){const y=g.target;y.index!==null&&e.remove(y.index);for(const v in y.attributes)e.remove(y.attributes[v]);y.removeEventListener("dispose",l),delete r[y.id];const b=o.get(y);b&&(e.remove(b),o.delete(y)),n.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function u(g,y){return r[y.id]===!0||(y.addEventListener("dispose",l),r[y.id]=!0,t.memory.geometries++),y}function d(g){const y=g.attributes;for(const v in y)e.update(y[v],34962);const b=g.morphAttributes;for(const v in b){const _=b[v];for(let E=0,M=_.length;E<M;E++)e.update(_[E],34962)}}function f(g){const y=[],b=g.index,v=g.attributes.position;let _=0;if(b!==null){const S=b.array;_=b.version;for(let C=0,A=S.length;C<A;C+=3){const N=S[C+0],D=S[C+1],R=S[C+2];y.push(N,D,D,R,R,N)}}else{const S=v.array;_=v.version;for(let C=0,A=S.length/3-1;C<A;C+=3){const N=C+0,D=C+1,R=C+2;y.push(N,D,D,R,R,N)}}const E=new(V2(y)>65535?wd:bd)(y,1);E.version=_;const M=o.get(g);M&&e.remove(M),o.set(g,E)}function p(g){const y=o.get(g);if(y){const b=g.index;b!==null&&y.version<b.version&&f(g)}else f(g);return o.get(g)}return{get:u,update:d,getWireframeAttribute:p}}function U4(s,e,t,n){const r=n.isWebGL2;let o;function l(y){o=y}let u,d;function f(y){u=y.type,d=y.bytesPerElement}function p(y,b){s.drawElements(o,b,u,y*d),t.update(b,o,1)}function g(y,b,v){if(v===0)return;let _,E;if(r)_=s,E="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),E="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[E](o,b,u,y*d,v),t.update(b,o,v)}this.setMode=l,this.setIndex=f,this.render=p,this.renderInstances=g}function P4(s){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(o,l,u){switch(t.calls++,l){case 4:t.triangles+=u*(o/3);break;case 1:t.lines+=u*(o/2);break;case 3:t.lines+=u*(o-1);break;case 2:t.lines+=u*o;break;case 0:t.points+=u*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}class Sd extends Bn{constructor(e=null,t=1,n=1,r=1){super(null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=ln,this.minFilter=ln,this.wrapR=An,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Sd.prototype.isDataTexture2DArray=!0;function k4(s,e){return s[0]-e[0]}function j4(s,e){return Math.abs(e[1])-Math.abs(s[1])}function a1(s,e){let t=1;const n=e.isInterleavedBufferAttribute?e.data.array:e.array;n instanceof Int8Array?t=127:n instanceof Int16Array?t=32767:n instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),s.divideScalar(t)}function F4(s,e,t){const n={},r=new Float32Array(8),o=new WeakMap,l=new z,u=[];for(let f=0;f<8;f++)u[f]=[f,0];function d(f,p,g,y){const b=f.morphTargetInfluences;if(e.isWebGL2===!0){const v=p.morphAttributes.position.length;let _=o.get(p);if(_===void 0||_.count!==v){_!==void 0&&_.texture.dispose();const S=p.morphAttributes.normal!==void 0,C=p.morphAttributes.position,A=p.morphAttributes.normal||[],N=p.attributes.position.count,D=S===!0?2:1;let R=N*D,P=1;R>e.maxTextureSize&&(P=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const q=new Float32Array(R*P*4*v),G=new Sd(q,R,P,v);G.format=Cn,G.type=Yi;const j=D*4;for(let oe=0;oe<v;oe++){const Q=C[oe],W=A[oe],re=R*P*4*oe;for(let B=0;B<Q.count;B++){l.fromBufferAttribute(Q,B),Q.normalized===!0&&a1(l,Q);const V=B*j;q[re+V+0]=l.x,q[re+V+1]=l.y,q[re+V+2]=l.z,q[re+V+3]=0,S===!0&&(l.fromBufferAttribute(W,B),W.normalized===!0&&a1(l,W),q[re+V+4]=l.x,q[re+V+5]=l.y,q[re+V+6]=l.z,q[re+V+7]=0)}}_={count:v,texture:G,size:new Ee(R,P)},o.set(p,_)}let E=0;for(let S=0;S<b.length;S++)E+=b[S];const M=p.morphTargetsRelative?1:1-E;y.getUniforms().setValue(s,"morphTargetBaseInfluence",M),y.getUniforms().setValue(s,"morphTargetInfluences",b),y.getUniforms().setValue(s,"morphTargetsTexture",_.texture,t),y.getUniforms().setValue(s,"morphTargetsTextureSize",_.size)}else{const v=b===void 0?0:b.length;let _=n[p.id];if(_===void 0||_.length!==v){_=[];for(let A=0;A<v;A++)_[A]=[A,0];n[p.id]=_}for(let A=0;A<v;A++){const N=_[A];N[0]=A,N[1]=b[A]}_.sort(j4);for(let A=0;A<8;A++)A<v&&_[A][1]?(u[A][0]=_[A][0],u[A][1]=_[A][1]):(u[A][0]=Number.MAX_SAFE_INTEGER,u[A][1]=0);u.sort(k4);const E=p.morphAttributes.position,M=p.morphAttributes.normal;let S=0;for(let A=0;A<8;A++){const N=u[A],D=N[0],R=N[1];D!==Number.MAX_SAFE_INTEGER&&R?(E&&p.getAttribute("morphTarget"+A)!==E[D]&&p.setAttribute("morphTarget"+A,E[D]),M&&p.getAttribute("morphNormal"+A)!==M[D]&&p.setAttribute("morphNormal"+A,M[D]),r[A]=R,S+=R):(E&&p.hasAttribute("morphTarget"+A)===!0&&p.deleteAttribute("morphTarget"+A),M&&p.hasAttribute("morphNormal"+A)===!0&&p.deleteAttribute("morphNormal"+A),r[A]=0)}const C=p.morphTargetsRelative?1:1-S;y.getUniforms().setValue(s,"morphTargetBaseInfluence",C),y.getUniforms().setValue(s,"morphTargetInfluences",r)}}return{update:d}}function I4(s,e,t,n){let r=new WeakMap;function o(d){const f=n.render.frame,p=d.geometry,g=e.get(d,p);return r.get(g)!==f&&(e.update(g),r.set(g,f)),d.isInstancedMesh&&(d.hasEventListener("dispose",u)===!1&&d.addEventListener("dispose",u),t.update(d.instanceMatrix,34962),d.instanceColor!==null&&t.update(d.instanceColor,34962)),g}function l(){r=new WeakMap}function u(d){const f=d.target;f.removeEventListener("dispose",u),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:o,dispose:l}}class J0 extends Bn{constructor(e=null,t=1,n=1,r=1){super(null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=ln,this.minFilter=ln,this.wrapR=An,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}J0.prototype.isDataTexture3D=!0;const aM=new Bn,H4=new Sd,G4=new J0,oM=new $o,o1=[],l1=[],c1=new Float32Array(16),u1=new Float32Array(9),h1=new Float32Array(4);function tl(s,e,t){const n=s[0];if(n<=0||n>0)return s;const r=e*t;let o=o1[r];if(o===void 0&&(o=new Float32Array(r),o1[r]=o),e!==0){n.toArray(o,0);for(let l=1,u=0;l!==e;++l)u+=t,s[l].toArray(o,u)}return o}function kn(s,e){if(s.length!==e.length)return!1;for(let t=0,n=s.length;t<n;t++)if(s[t]!==e[t])return!1;return!0}function On(s,e){for(let t=0,n=e.length;t<n;t++)s[t]=e[t]}function lM(s,e){let t=l1[e];t===void 0&&(t=new Int32Array(e),l1[e]=t);for(let n=0;n!==e;++n)t[n]=s.allocateTextureUnit();return t}function V4(s,e){const t=this.cache;t[0]!==e&&(s.uniform1f(this.addr,e),t[0]=e)}function W4(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(s.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(kn(t,e))return;s.uniform2fv(this.addr,e),On(t,e)}}function q4(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(s.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(s.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(kn(t,e))return;s.uniform3fv(this.addr,e),On(t,e)}}function Y4(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(s.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(kn(t,e))return;s.uniform4fv(this.addr,e),On(t,e)}}function X4(s,e){const t=this.cache,n=e.elements;if(n===void 0){if(kn(t,e))return;s.uniformMatrix2fv(this.addr,!1,e),On(t,e)}else{if(kn(t,n))return;h1.set(n),s.uniformMatrix2fv(this.addr,!1,h1),On(t,n)}}function Z4(s,e){const t=this.cache,n=e.elements;if(n===void 0){if(kn(t,e))return;s.uniformMatrix3fv(this.addr,!1,e),On(t,e)}else{if(kn(t,n))return;u1.set(n),s.uniformMatrix3fv(this.addr,!1,u1),On(t,n)}}function J4(s,e){const t=this.cache,n=e.elements;if(n===void 0){if(kn(t,e))return;s.uniformMatrix4fv(this.addr,!1,e),On(t,e)}else{if(kn(t,n))return;c1.set(n),s.uniformMatrix4fv(this.addr,!1,c1),On(t,n)}}function Q4(s,e){const t=this.cache;t[0]!==e&&(s.uniform1i(this.addr,e),t[0]=e)}function K4(s,e){const t=this.cache;kn(t,e)||(s.uniform2iv(this.addr,e),On(t,e))}function $4(s,e){const t=this.cache;kn(t,e)||(s.uniform3iv(this.addr,e),On(t,e))}function eL(s,e){const t=this.cache;kn(t,e)||(s.uniform4iv(this.addr,e),On(t,e))}function tL(s,e){const t=this.cache;t[0]!==e&&(s.uniform1ui(this.addr,e),t[0]=e)}function nL(s,e){const t=this.cache;kn(t,e)||(s.uniform2uiv(this.addr,e),On(t,e))}function iL(s,e){const t=this.cache;kn(t,e)||(s.uniform3uiv(this.addr,e),On(t,e))}function sL(s,e){const t=this.cache;kn(t,e)||(s.uniform4uiv(this.addr,e),On(t,e))}function rL(s,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(s.uniform1i(this.addr,r),n[0]=r),t.safeSetTexture2D(e||aM,r)}function aL(s,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(s.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||G4,r)}function oL(s,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(s.uniform1i(this.addr,r),n[0]=r),t.safeSetTextureCube(e||oM,r)}function lL(s,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(s.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||H4,r)}function cL(s){switch(s){case 5126:return V4;case 35664:return W4;case 35665:return q4;case 35666:return Y4;case 35674:return X4;case 35675:return Z4;case 35676:return J4;case 5124:case 35670:return Q4;case 35667:case 35671:return K4;case 35668:case 35672:return $4;case 35669:case 35673:return eL;case 5125:return tL;case 36294:return nL;case 36295:return iL;case 36296:return sL;case 35678:case 36198:case 36298:case 36306:case 35682:return rL;case 35679:case 36299:case 36307:return aL;case 35680:case 36300:case 36308:case 36293:return oL;case 36289:case 36303:case 36311:case 36292:return lL}}function uL(s,e){s.uniform1fv(this.addr,e)}function hL(s,e){const t=tl(e,this.size,2);s.uniform2fv(this.addr,t)}function dL(s,e){const t=tl(e,this.size,3);s.uniform3fv(this.addr,t)}function fL(s,e){const t=tl(e,this.size,4);s.uniform4fv(this.addr,t)}function pL(s,e){const t=tl(e,this.size,4);s.uniformMatrix2fv(this.addr,!1,t)}function mL(s,e){const t=tl(e,this.size,9);s.uniformMatrix3fv(this.addr,!1,t)}function gL(s,e){const t=tl(e,this.size,16);s.uniformMatrix4fv(this.addr,!1,t)}function xL(s,e){s.uniform1iv(this.addr,e)}function yL(s,e){s.uniform2iv(this.addr,e)}function vL(s,e){s.uniform3iv(this.addr,e)}function bL(s,e){s.uniform4iv(this.addr,e)}function wL(s,e){s.uniform1uiv(this.addr,e)}function _L(s,e){s.uniform2uiv(this.addr,e)}function ML(s,e){s.uniform3uiv(this.addr,e)}function SL(s,e){s.uniform4uiv(this.addr,e)}function EL(s,e,t){const n=e.length,r=lM(t,n);s.uniform1iv(this.addr,r);for(let o=0;o!==n;++o)t.safeSetTexture2D(e[o]||aM,r[o])}function TL(s,e,t){const n=e.length,r=lM(t,n);s.uniform1iv(this.addr,r);for(let o=0;o!==n;++o)t.safeSetTextureCube(e[o]||oM,r[o])}function AL(s){switch(s){case 5126:return uL;case 35664:return hL;case 35665:return dL;case 35666:return fL;case 35674:return pL;case 35675:return mL;case 35676:return gL;case 5124:case 35670:return xL;case 35667:case 35671:return yL;case 35668:case 35672:return vL;case 35669:case 35673:return bL;case 5125:return wL;case 36294:return _L;case 36295:return ML;case 36296:return SL;case 35678:case 36198:case 36298:case 36306:case 35682:return EL;case 35680:case 36300:case 36308:case 36293:return TL}}function CL(s,e,t){this.id=s,this.addr=t,this.cache=[],this.setValue=cL(e.type)}function cM(s,e,t){this.id=s,this.addr=t,this.cache=[],this.size=e.size,this.setValue=AL(e.type)}cM.prototype.updateCache=function(s){const e=this.cache;s instanceof Float32Array&&e.length!==s.length&&(this.cache=new Float32Array(s.length)),On(e,s)};function uM(s){this.id=s,this.seq=[],this.map={}}uM.prototype.setValue=function(s,e,t){const n=this.seq;for(let r=0,o=n.length;r!==o;++r){const l=n[r];l.setValue(s,e[l.id],t)}};const Om=/(\w+)(\])?(\[|\.)?/g;function d1(s,e){s.seq.push(e),s.map[e.id]=e}function RL(s,e,t){const n=s.name,r=n.length;for(Om.lastIndex=0;;){const o=Om.exec(n),l=Om.lastIndex;let u=o[1];const d=o[2]==="]",f=o[3];if(d&&(u=u|0),f===void 0||f==="["&&l+2===r){d1(t,f===void 0?new CL(u,s,e):new cM(u,s,e));break}else{let g=t.map[u];g===void 0&&(g=new uM(u),d1(t,g)),t=g}}}function vr(s,e){this.seq=[],this.map={};const t=s.getProgramParameter(e,35718);for(let n=0;n<t;++n){const r=s.getActiveUniform(e,n),o=s.getUniformLocation(e,r.name);RL(r,o,this)}}vr.prototype.setValue=function(s,e,t,n){const r=this.map[e];r!==void 0&&r.setValue(s,t,n)};vr.prototype.setOptional=function(s,e,t){const n=e[t];n!==void 0&&this.setValue(s,t,n)};vr.upload=function(s,e,t,n){for(let r=0,o=e.length;r!==o;++r){const l=e[r],u=t[l.id];u.needsUpdate!==!1&&l.setValue(s,u.value,n)}};vr.seqWithValue=function(s,e){const t=[];for(let n=0,r=s.length;n!==r;++n){const o=s[n];o.id in e&&t.push(o)}return t};function f1(s,e,t){const n=s.createShader(e);return s.shaderSource(n,t),s.compileShader(n),n}let NL=0;function LL(s){const e=s.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function hM(s){switch(s){case Nn:return["Linear","( value )"];case Er:return["sRGB","( value )"];case yd:return["RGBE","( value )"];case H0:return["RGBM","( value, 7.0 )"];case G0:return["RGBM","( value, 16.0 )"];case V0:return["RGBD","( value, 256.0 )"];case xd:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case P2:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",s),["Linear","( value )"]}}function p1(s,e,t){const n=s.getShaderParameter(e,35713),r=s.getShaderInfoLog(e).trim();return n&&r===""?"":t.toUpperCase()+`

`+r+`

`+LL(s.getShaderSource(e))}function Yr(s,e){const t=hM(e);return"vec4 "+s+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function DL(s,e){const t=hM(e);return"vec4 "+s+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function zL(s,e){let t;switch(e){case U_:t="Linear";break;case P_:t="Reinhard";break;case k_:t="OptimizedCineon";break;case j_:t="ACESFilmic";break;case F_:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+s+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function OL(s){return[s.extensionDerivatives||s.envMapCubeUV||s.bumpMap||s.tangentSpaceNormalMap||s.clearcoatNormalMap||s.flatShading||s.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(s.extensionFragDepth||s.logarithmicDepthBuffer)&&s.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",s.extensionDrawBuffers&&s.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(s.extensionShaderTextureLOD||s.envMap||s.transmission)&&s.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(lc).join(`
`)}function BL(s){const e=[];for(const t in s){const n=s[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function UL(s,e){const t={},n=s.getProgramParameter(e,35721);for(let r=0;r<n;r++){const o=s.getActiveAttrib(e,r),l=o.name;let u=1;o.type===35674&&(u=2),o.type===35675&&(u=3),o.type===35676&&(u=4),t[l]={type:o.type,location:s.getAttribLocation(e,l),locationSize:u}}return t}function lc(s){return s!==""}function m1(s,e){return s.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function g1(s,e){return s.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const PL=/^[ \t]*#include +<([\w\d./]+)>/gm;function y0(s){return s.replace(PL,kL)}function kL(s,e){const t=lt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return y0(t)}const jL=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,FL=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function x1(s){return s.replace(FL,dM).replace(jL,IL)}function IL(s,e,t,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),dM(s,e,t,n)}function dM(s,e,t,n){let r="";for(let o=parseInt(e);o<parseInt(t);o++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function y1(s){let e="precision "+s.precision+` float;
precision `+s.precision+" int;";return s.precision==="highp"?e+=`
#define HIGH_PRECISION`:s.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:s.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function HL(s){let e="SHADOWMAP_TYPE_BASIC";return s.shadowMapType===U0?e="SHADOWMAP_TYPE_PCF":s.shadowMapType===p_?e="SHADOWMAP_TYPE_PCF_SOFT":s.shadowMapType===No&&(e="SHADOWMAP_TYPE_VSM"),e}function GL(s){let e="ENVMAP_TYPE_CUBE";if(s.envMap)switch(s.envMapMode){case ba:case wa:e="ENVMAP_TYPE_CUBE";break;case Ko:case Uc:e="ENVMAP_TYPE_CUBE_UV";break}return e}function VL(s){let e="ENVMAP_MODE_REFLECTION";if(s.envMap)switch(s.envMapMode){case wa:case Uc:e="ENVMAP_MODE_REFRACTION";break}return e}function WL(s){let e="ENVMAP_BLENDING_NONE";if(s.envMap)switch(s.combine){case Bc:e="ENVMAP_BLENDING_MULTIPLY";break;case O_:e="ENVMAP_BLENDING_MIX";break;case B_:e="ENVMAP_BLENDING_ADD";break}return e}function qL(s,e,t,n){const r=s.getContext(),o=t.defines;let l=t.vertexShader,u=t.fragmentShader;const d=HL(t),f=GL(t),p=VL(t),g=WL(t),y=s.gammaFactor>0?s.gammaFactor:1,b=t.isWebGL2?"":OL(t),v=BL(o),_=r.createProgram();let E,M,S=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(E=[v].filter(lc).join(`
`),E.length>0&&(E+=`
`),M=[b,v].filter(lc).join(`
`),M.length>0&&(M+=`
`)):(E=[y1(t),"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+y,"#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(lc).join(`
`),M=[b,y1(t),"#define SHADER_NAME "+t.shaderName,v,"#define GAMMA_FACTOR "+y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+p:"",t.envMap?"#define "+g:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==xr?"#define TONE_MAPPING":"",t.toneMapping!==xr?lt.tonemapping_pars_fragment:"",t.toneMapping!==xr?zL("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.format===ra?"#define OPAQUE":"",lt.encodings_pars_fragment,t.map?Yr("mapTexelToLinear",t.mapEncoding):"",t.matcap?Yr("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?Yr("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?Yr("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.specularColorMap?Yr("specularColorMapTexelToLinear",t.specularColorMapEncoding):"",t.sheenColorMap?Yr("sheenColorMapTexelToLinear",t.sheenColorMapEncoding):"",t.lightMap?Yr("lightMapTexelToLinear",t.lightMapEncoding):"",DL("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(lc).join(`
`)),l=y0(l),l=m1(l,t),l=g1(l,t),u=y0(u),u=m1(u,t),u=g1(u,t),l=x1(l),u=x1(u),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,E=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,M=["#define varying in",t.glslVersion===m0?"":"out highp vec4 pc_fragColor;",t.glslVersion===m0?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const C=S+E+l,A=S+M+u,N=f1(r,35633,C),D=f1(r,35632,A);if(r.attachShader(_,N),r.attachShader(_,D),t.index0AttributeName!==void 0?r.bindAttribLocation(_,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(_,0,"position"),r.linkProgram(_),s.debug.checkShaderErrors){const q=r.getProgramInfoLog(_).trim(),G=r.getShaderInfoLog(N).trim(),j=r.getShaderInfoLog(D).trim();let oe=!0,Q=!0;if(r.getProgramParameter(_,35714)===!1){oe=!1;const W=p1(r,N,"vertex"),re=p1(r,D,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(_,35715)+`

Program Info Log: `+q+`
`+W+`
`+re)}else q!==""?console.warn("THREE.WebGLProgram: Program Info Log:",q):(G===""||j==="")&&(Q=!1);Q&&(this.diagnostics={runnable:oe,programLog:q,vertexShader:{log:G,prefix:E},fragmentShader:{log:j,prefix:M}})}r.deleteShader(N),r.deleteShader(D);let R;this.getUniforms=function(){return R===void 0&&(R=new vr(r,_)),R};let P;return this.getAttributes=function(){return P===void 0&&(P=UL(r,_)),P},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(_),this.program=void 0},this.name=t.shaderName,this.id=NL++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=N,this.fragmentShader=D,this}function YL(s,e,t,n,r,o,l){const u=[],d=r.isWebGL2,f=r.logarithmicDepthBuffer,p=r.floatVertexTextures,g=r.maxVertexUniforms,y=r.vertexTextures;let b=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},_=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap",,"roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","morphTargetsCount","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","specularIntensityMap","specularColorMap","specularColorMapEncoding","transmission","transmissionMap","thicknessMap","sheen","sheenColorMap","sheenColorMapEncoding","sheenRoughnessMap"];function E(R){const q=R.skeleton.bones;if(p)return 1024;{const j=Math.floor((g-20)/4),oe=Math.min(j,q.length);return oe<q.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+q.length+" bones. This GPU supports "+oe+"."),0):oe}}function M(R){let P;return R&&R.isTexture?P=R.encoding:R&&R.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),P=R.texture.encoding):P=Nn,d&&R&&R.isTexture&&R.format===Cn&&R.type===Ds&&R.encoding===Er&&(P=Nn),P}function S(R,P,q,G,j){const oe=G.fog,Q=R.isMeshStandardMaterial?G.environment:null,W=(R.isMeshStandardMaterial?t:e).get(R.envMap||Q),re=v[R.type],B=j.isSkinnedMesh?E(j):0;R.precision!==null&&(b=r.getMaxPrecision(R.precision),b!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",b,"instead."));let V,ce;if(re){const Z=Oi[re];V=Z.vertexShader,ce=Z.fragmentShader}else V=R.vertexShader,ce=R.fragmentShader;const Te=s.getRenderTarget(),Le=R.alphaTest>0,k=R.clearcoat>0;return{isWebGL2:d,shaderID:re,shaderName:R.type,vertexShader:V,fragmentShader:ce,defines:R.defines,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:b,instancing:j.isInstancedMesh===!0,instancingColor:j.isInstancedMesh===!0&&j.instanceColor!==null,supportsVertexTextures:y,outputEncoding:Te!==null?M(Te.texture):s.outputEncoding,map:!!R.map,mapEncoding:M(R.map),matcap:!!R.matcap,matcapEncoding:M(R.matcap),envMap:!!W,envMapMode:W&&W.mapping,envMapEncoding:M(W),envMapCubeUV:!!W&&(W.mapping===Ko||W.mapping===Uc),lightMap:!!R.lightMap,lightMapEncoding:M(R.lightMap),aoMap:!!R.aoMap,emissiveMap:!!R.emissiveMap,emissiveMapEncoding:M(R.emissiveMap),bumpMap:!!R.bumpMap,normalMap:!!R.normalMap,objectSpaceNormalMap:R.normalMapType===F2,tangentSpaceNormalMap:R.normalMapType===Ma,clearcoat:k,clearcoatMap:k&&!!R.clearcoatMap,clearcoatRoughnessMap:k&&!!R.clearcoatRoughnessMap,clearcoatNormalMap:k&&!!R.clearcoatNormalMap,displacementMap:!!R.displacementMap,roughnessMap:!!R.roughnessMap,metalnessMap:!!R.metalnessMap,specularMap:!!R.specularMap,specularIntensityMap:!!R.specularIntensityMap,specularColorMap:!!R.specularColorMap,specularColorMapEncoding:M(R.specularColorMap),alphaMap:!!R.alphaMap,alphaTest:Le,gradientMap:!!R.gradientMap,sheen:R.sheen>0,sheenColorMap:!!R.sheenColorMap,sheenColorMapEncoding:M(R.sheenColorMap),sheenRoughnessMap:!!R.sheenRoughnessMap,transmission:R.transmission>0,transmissionMap:!!R.transmissionMap,thicknessMap:!!R.thicknessMap,combine:R.combine,vertexTangents:!!R.normalMap&&!!j.geometry&&!!j.geometry.attributes.tangent,vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!j.geometry&&!!j.geometry.attributes.color&&j.geometry.attributes.color.itemSize===4,vertexUvs:!!R.map||!!R.bumpMap||!!R.normalMap||!!R.specularMap||!!R.alphaMap||!!R.emissiveMap||!!R.roughnessMap||!!R.metalnessMap||!!R.clearcoatMap||!!R.clearcoatRoughnessMap||!!R.clearcoatNormalMap||!!R.displacementMap||!!R.transmissionMap||!!R.thicknessMap||!!R.specularIntensityMap||!!R.specularColorMap||!!R.sheenColorMap||R.sheenRoughnessMap,uvsVertexOnly:!(R.map||R.bumpMap||R.normalMap||R.specularMap||R.alphaMap||R.emissiveMap||R.roughnessMap||R.metalnessMap||R.clearcoatNormalMap||R.transmission>0||R.transmissionMap||R.thicknessMap||R.specularIntensityMap||R.specularColorMap||!!R.sheen>0||R.sheenColorMap||R.sheenRoughnessMap)&&!!R.displacementMap,fog:!!oe,useFog:R.fog,fogExp2:oe&&oe.isFogExp2,flatShading:!!R.flatShading,sizeAttenuation:R.sizeAttenuation,logarithmicDepthBuffer:f,skinning:j.isSkinnedMesh===!0&&B>0,maxBones:B,useVertexTexture:p,morphTargets:!!j.geometry&&!!j.geometry.morphAttributes.position,morphNormals:!!j.geometry&&!!j.geometry.morphAttributes.normal,morphTargetsCount:j.geometry&&j.geometry.morphAttributes.position?j.geometry.morphAttributes.position.length:0,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,format:R.format,dithering:R.dithering,shadowMapEnabled:s.shadowMap.enabled&&q.length>0,shadowMapType:s.shadowMap.type,toneMapping:R.toneMapped?s.toneMapping:xr,physicallyCorrectLights:s.physicallyCorrectLights,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===ha,flipSided:R.side===$t,depthPacking:R.depthPacking!==void 0?R.depthPacking:!1,index0AttributeName:R.index0AttributeName,extensionDerivatives:R.extensions&&R.extensions.derivatives,extensionFragDepth:R.extensions&&R.extensions.fragDepth,extensionDrawBuffers:R.extensions&&R.extensions.drawBuffers,extensionShaderTextureLOD:R.extensions&&R.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||n.has("EXT_shader_texture_lod"),customProgramCacheKey:R.customProgramCacheKey()}}function C(R){const P=[];if(R.shaderID?P.push(R.shaderID):(P.push(Hb(R.fragmentShader)),P.push(Hb(R.vertexShader))),R.defines!==void 0)for(const q in R.defines)P.push(q),P.push(R.defines[q]);if(R.isRawShaderMaterial===!1){for(let q=0;q<_.length;q++)P.push(R[_[q]]);P.push(s.outputEncoding),P.push(s.gammaFactor)}return P.push(R.customProgramCacheKey),P.join()}function A(R){const P=v[R.type];let q;if(P){const G=Oi[P];q=tM.clone(G.uniforms)}else q=R.uniforms;return q}function N(R,P){let q;for(let G=0,j=u.length;G<j;G++){const oe=u[G];if(oe.cacheKey===P){q=oe,++q.usedTimes;break}}return q===void 0&&(q=new qL(s,P,R,o),u.push(q)),q}function D(R){if(--R.usedTimes===0){const P=u.indexOf(R);u[P]=u[u.length-1],u.pop(),R.destroy()}}return{getParameters:S,getProgramCacheKey:C,getUniforms:A,acquireProgram:N,releaseProgram:D,programs:u}}function XL(){let s=new WeakMap;function e(o){let l=s.get(o);return l===void 0&&(l={},s.set(o,l)),l}function t(o){s.delete(o)}function n(o,l,u){s.get(o)[l]=u}function r(){s=new WeakMap}return{get:e,remove:t,update:n,dispose:r}}function ZL(s,e){return s.groupOrder!==e.groupOrder?s.groupOrder-e.groupOrder:s.renderOrder!==e.renderOrder?s.renderOrder-e.renderOrder:s.program!==e.program?s.program.id-e.program.id:s.material.id!==e.material.id?s.material.id-e.material.id:s.z!==e.z?s.z-e.z:s.id-e.id}function v1(s,e){return s.groupOrder!==e.groupOrder?s.groupOrder-e.groupOrder:s.renderOrder!==e.renderOrder?s.renderOrder-e.renderOrder:s.z!==e.z?e.z-s.z:s.id-e.id}function b1(s){const e=[];let t=0;const n=[],r=[],o=[],l={id:-1};function u(){t=0,n.length=0,r.length=0,o.length=0}function d(b,v,_,E,M,S){let C=e[t];const A=s.get(_);return C===void 0?(C={id:b.id,object:b,geometry:v,material:_,program:A.program||l,groupOrder:E,renderOrder:b.renderOrder,z:M,group:S},e[t]=C):(C.id=b.id,C.object=b,C.geometry=v,C.material=_,C.program=A.program||l,C.groupOrder=E,C.renderOrder=b.renderOrder,C.z=M,C.group=S),t++,C}function f(b,v,_,E,M,S){const C=d(b,v,_,E,M,S);_.transmission>0?r.push(C):_.transparent===!0?o.push(C):n.push(C)}function p(b,v,_,E,M,S){const C=d(b,v,_,E,M,S);_.transmission>0?r.unshift(C):_.transparent===!0?o.unshift(C):n.unshift(C)}function g(b,v){n.length>1&&n.sort(b||ZL),r.length>1&&r.sort(v||v1),o.length>1&&o.sort(v||v1)}function y(){for(let b=t,v=e.length;b<v;b++){const _=e[b];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.program=null,_.group=null}}return{opaque:n,transmissive:r,transparent:o,init:u,push:f,unshift:p,finish:y,sort:g}}function JL(s){let e=new WeakMap;function t(r,o){let l;return e.has(r)===!1?(l=new b1(s),e.set(r,[l])):o>=e.get(r).length?(l=new b1(s),e.get(r).push(l)):l=e.get(r)[o],l}function n(){e=new WeakMap}return{get:t,dispose:n}}function QL(){const s={};return{get:function(e){if(s[e.id]!==void 0)return s[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new z,color:new Ue};break;case"SpotLight":t={position:new z,direction:new z,color:new Ue,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new z,color:new Ue,distance:0,decay:0};break;case"HemisphereLight":t={direction:new z,skyColor:new Ue,groundColor:new Ue};break;case"RectAreaLight":t={color:new Ue,position:new z,halfWidth:new z,halfHeight:new z};break}return s[e.id]=t,t}}}function KL(){const s={};return{get:function(e){if(s[e.id]!==void 0)return s[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ee};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ee};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ee,shadowCameraNear:1,shadowCameraFar:1e3};break}return s[e.id]=t,t}}}let $L=0;function e5(s,e){return(e.castShadow?1:0)-(s.castShadow?1:0)}function t5(s,e){const t=new QL,n=KL(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let p=0;p<9;p++)r.probe.push(new z);const o=new z,l=new Ze,u=new Ze;function d(p,g){let y=0,b=0,v=0;for(let q=0;q<9;q++)r.probe[q].set(0,0,0);let _=0,E=0,M=0,S=0,C=0,A=0,N=0,D=0;p.sort(e5);const R=g!==!0?Math.PI:1;for(let q=0,G=p.length;q<G;q++){const j=p[q],oe=j.color,Q=j.intensity,W=j.distance,re=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)y+=oe.r*Q*R,b+=oe.g*Q*R,v+=oe.b*Q*R;else if(j.isLightProbe)for(let B=0;B<9;B++)r.probe[B].addScaledVector(j.sh.coefficients[B],Q);else if(j.isDirectionalLight){const B=t.get(j);if(B.color.copy(j.color).multiplyScalar(j.intensity*R),j.castShadow){const V=j.shadow,ce=n.get(j);ce.shadowBias=V.bias,ce.shadowNormalBias=V.normalBias,ce.shadowRadius=V.radius,ce.shadowMapSize=V.mapSize,r.directionalShadow[_]=ce,r.directionalShadowMap[_]=re,r.directionalShadowMatrix[_]=j.shadow.matrix,A++}r.directional[_]=B,_++}else if(j.isSpotLight){const B=t.get(j);if(B.position.setFromMatrixPosition(j.matrixWorld),B.color.copy(oe).multiplyScalar(Q*R),B.distance=W,B.coneCos=Math.cos(j.angle),B.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),B.decay=j.decay,j.castShadow){const V=j.shadow,ce=n.get(j);ce.shadowBias=V.bias,ce.shadowNormalBias=V.normalBias,ce.shadowRadius=V.radius,ce.shadowMapSize=V.mapSize,r.spotShadow[M]=ce,r.spotShadowMap[M]=re,r.spotShadowMatrix[M]=j.shadow.matrix,D++}r.spot[M]=B,M++}else if(j.isRectAreaLight){const B=t.get(j);B.color.copy(oe).multiplyScalar(Q),B.halfWidth.set(j.width*.5,0,0),B.halfHeight.set(0,j.height*.5,0),r.rectArea[S]=B,S++}else if(j.isPointLight){const B=t.get(j);if(B.color.copy(j.color).multiplyScalar(j.intensity*R),B.distance=j.distance,B.decay=j.decay,j.castShadow){const V=j.shadow,ce=n.get(j);ce.shadowBias=V.bias,ce.shadowNormalBias=V.normalBias,ce.shadowRadius=V.radius,ce.shadowMapSize=V.mapSize,ce.shadowCameraNear=V.camera.near,ce.shadowCameraFar=V.camera.far,r.pointShadow[E]=ce,r.pointShadowMap[E]=re,r.pointShadowMatrix[E]=j.shadow.matrix,N++}r.point[E]=B,E++}else if(j.isHemisphereLight){const B=t.get(j);B.skyColor.copy(j.color).multiplyScalar(Q*R),B.groundColor.copy(j.groundColor).multiplyScalar(Q*R),r.hemi[C]=B,C++}}S>0&&(e.isWebGL2||s.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Be.LTC_FLOAT_1,r.rectAreaLTC2=Be.LTC_FLOAT_2):s.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Be.LTC_HALF_1,r.rectAreaLTC2=Be.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=y,r.ambient[1]=b,r.ambient[2]=v;const P=r.hash;(P.directionalLength!==_||P.pointLength!==E||P.spotLength!==M||P.rectAreaLength!==S||P.hemiLength!==C||P.numDirectionalShadows!==A||P.numPointShadows!==N||P.numSpotShadows!==D)&&(r.directional.length=_,r.spot.length=M,r.rectArea.length=S,r.point.length=E,r.hemi.length=C,r.directionalShadow.length=A,r.directionalShadowMap.length=A,r.pointShadow.length=N,r.pointShadowMap.length=N,r.spotShadow.length=D,r.spotShadowMap.length=D,r.directionalShadowMatrix.length=A,r.pointShadowMatrix.length=N,r.spotShadowMatrix.length=D,P.directionalLength=_,P.pointLength=E,P.spotLength=M,P.rectAreaLength=S,P.hemiLength=C,P.numDirectionalShadows=A,P.numPointShadows=N,P.numSpotShadows=D,r.version=$L++)}function f(p,g){let y=0,b=0,v=0,_=0,E=0;const M=g.matrixWorldInverse;for(let S=0,C=p.length;S<C;S++){const A=p[S];if(A.isDirectionalLight){const N=r.directional[y];N.direction.setFromMatrixPosition(A.matrixWorld),o.setFromMatrixPosition(A.target.matrixWorld),N.direction.sub(o),N.direction.transformDirection(M),y++}else if(A.isSpotLight){const N=r.spot[v];N.position.setFromMatrixPosition(A.matrixWorld),N.position.applyMatrix4(M),N.direction.setFromMatrixPosition(A.matrixWorld),o.setFromMatrixPosition(A.target.matrixWorld),N.direction.sub(o),N.direction.transformDirection(M),v++}else if(A.isRectAreaLight){const N=r.rectArea[_];N.position.setFromMatrixPosition(A.matrixWorld),N.position.applyMatrix4(M),u.identity(),l.copy(A.matrixWorld),l.premultiply(M),u.extractRotation(l),N.halfWidth.set(A.width*.5,0,0),N.halfHeight.set(0,A.height*.5,0),N.halfWidth.applyMatrix4(u),N.halfHeight.applyMatrix4(u),_++}else if(A.isPointLight){const N=r.point[b];N.position.setFromMatrixPosition(A.matrixWorld),N.position.applyMatrix4(M),b++}else if(A.isHemisphereLight){const N=r.hemi[E];N.direction.setFromMatrixPosition(A.matrixWorld),N.direction.transformDirection(M),N.direction.normalize(),E++}}}return{setup:d,setupView:f,state:r}}function w1(s,e){const t=new t5(s,e),n=[],r=[];function o(){n.length=0,r.length=0}function l(g){n.push(g)}function u(g){r.push(g)}function d(g){t.setup(n,g)}function f(g){t.setupView(n,g)}return{init:o,state:{lightsArray:n,shadowsArray:r,lights:t},setupLights:d,setupLightsView:f,pushLight:l,pushShadow:u}}function n5(s,e){let t=new WeakMap;function n(o,l=0){let u;return t.has(o)===!1?(u=new w1(s,e),t.set(o,[u])):l>=t.get(o).length?(u=new w1(s,e),t.get(o).push(u)):u=t.get(o)[l],u}function r(){t=new WeakMap}return{get:n,dispose:r}}class Ed extends vn{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=k2,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}Ed.prototype.isMeshDepthMaterial=!0;class Td extends vn{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new z,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}Td.prototype.isMeshDistanceMaterial=!0;const i5=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,s5=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function fM(s,e,t){let n=new jc;const r=new Ee,o=new Ee,l=new Nt,u=new Ed({depthPacking:j2}),d=new Td,f={},p=t.maxTextureSize,g={0:$t,1:ua,2:ha},y=new Os({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ee},radius:{value:4}},vertexShader:i5,fragmentShader:s5}),b=y.clone();b.defines.HORIZONTAL_PASS=1;const v=new tt;v.setAttribute("position",new bt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new cn(v,y),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=U0,this.render=function(A,N,D){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||A.length===0)return;const R=s.getRenderTarget(),P=s.getActiveCubeFace(),q=s.getActiveMipmapLevel(),G=s.state;G.setBlending(Ns),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);for(let j=0,oe=A.length;j<oe;j++){const Q=A[j],W=Q.shadow;if(W===void 0){console.warn("THREE.WebGLShadowMap:",Q,"has no shadow.");continue}if(W.autoUpdate===!1&&W.needsUpdate===!1)continue;r.copy(W.mapSize);const re=W.getFrameExtents();if(r.multiply(re),o.copy(W.mapSize),(r.x>p||r.y>p)&&(r.x>p&&(o.x=Math.floor(p/re.x),r.x=o.x*re.x,W.mapSize.x=o.x),r.y>p&&(o.y=Math.floor(p/re.y),r.y=o.y*re.y,W.mapSize.y=o.y)),W.map===null&&!W.isPointLightShadow&&this.type===No){const V={minFilter:dn,magFilter:dn,format:Cn};W.map=new Bi(r.x,r.y,V),W.map.texture.name=Q.name+".shadowMap",W.mapPass=new Bi(r.x,r.y,V),W.camera.updateProjectionMatrix()}if(W.map===null){const V={minFilter:ln,magFilter:ln,format:Cn};W.map=new Bi(r.x,r.y,V),W.map.texture.name=Q.name+".shadowMap",W.camera.updateProjectionMatrix()}s.setRenderTarget(W.map),s.clear();const B=W.getViewportCount();for(let V=0;V<B;V++){const ce=W.getViewport(V);l.set(o.x*ce.x,o.y*ce.y,o.x*ce.z,o.y*ce.w),G.viewport(l),W.updateMatrices(Q,V),n=W.getFrustum(),C(N,D,W.camera,Q,this.type)}!W.isPointLightShadow&&this.type===No&&M(W,D),W.needsUpdate=!1}E.needsUpdate=!1,s.setRenderTarget(R,P,q)};function M(A,N){const D=e.update(_);y.defines.VSM_SAMPLES!==A.blurSamples&&(y.defines.VSM_SAMPLES=A.blurSamples,b.defines.VSM_SAMPLES=A.blurSamples,y.needsUpdate=!0,b.needsUpdate=!0),y.uniforms.shadow_pass.value=A.map.texture,y.uniforms.resolution.value=A.mapSize,y.uniforms.radius.value=A.radius,s.setRenderTarget(A.mapPass),s.clear(),s.renderBufferDirect(N,null,D,y,_,null),b.uniforms.shadow_pass.value=A.mapPass.texture,b.uniforms.resolution.value=A.mapSize,b.uniforms.radius.value=A.radius,s.setRenderTarget(A.map),s.clear(),s.renderBufferDirect(N,null,D,b,_,null)}function S(A,N,D,R,P,q,G){let j=null;const oe=R.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(oe!==void 0?j=oe:j=R.isPointLight===!0?d:u,s.localClippingEnabled&&D.clipShadows===!0&&D.clippingPlanes.length!==0||D.displacementMap&&D.displacementScale!==0||D.alphaMap&&D.alphaTest>0){const Q=j.uuid,W=D.uuid;let re=f[Q];re===void 0&&(re={},f[Q]=re);let B=re[W];B===void 0&&(B=j.clone(),re[W]=B),j=B}return j.visible=D.visible,j.wireframe=D.wireframe,G===No?j.side=D.shadowSide!==null?D.shadowSide:D.side:j.side=D.shadowSide!==null?D.shadowSide:g[D.side],j.alphaMap=D.alphaMap,j.alphaTest=D.alphaTest,j.clipShadows=D.clipShadows,j.clippingPlanes=D.clippingPlanes,j.clipIntersection=D.clipIntersection,j.displacementMap=D.displacementMap,j.displacementScale=D.displacementScale,j.displacementBias=D.displacementBias,j.wireframeLinewidth=D.wireframeLinewidth,j.linewidth=D.linewidth,R.isPointLight===!0&&j.isMeshDistanceMaterial===!0&&(j.referencePosition.setFromMatrixPosition(R.matrixWorld),j.nearDistance=P,j.farDistance=q),j}function C(A,N,D,R,P){if(A.visible===!1)return;if(A.layers.test(N.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&P===No)&&(!A.frustumCulled||n.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,A.matrixWorld);const j=e.update(A),oe=A.material;if(Array.isArray(oe)){const Q=j.groups;for(let W=0,re=Q.length;W<re;W++){const B=Q[W],V=oe[B.materialIndex];if(V&&V.visible){const ce=S(A,j,V,R,D.near,D.far,P);s.renderBufferDirect(D,null,j,ce,A,B)}}}else if(oe.visible){const Q=S(A,j,oe,R,D.near,D.far,P);s.renderBufferDirect(D,null,j,Q,A,null)}}const G=A.children;for(let j=0,oe=G.length;j<oe;j++)C(G[j],N,D,R,P)}}function r5(s,e,t){const n=t.isWebGL2;function r(){let J=!1;const Oe=new Nt;let Se=null;const qe=new Nt(0,0,0,0);return{setMask:function(We){Se!==We&&!J&&(s.colorMask(We,We,We,We),Se=We)},setLocked:function(We){J=We},setClear:function(We,ot,Gt,Mt,un){un===!0&&(We*=Mt,ot*=Mt,Gt*=Mt),Oe.set(We,ot,Gt,Mt),qe.equals(Oe)===!1&&(s.clearColor(We,ot,Gt,Mt),qe.copy(Oe))},reset:function(){J=!1,Se=null,qe.set(-1,0,0,0)}}}function o(){let J=!1,Oe=null,Se=null,qe=null;return{setTest:function(We){We?ie(2929):_e(2929)},setMask:function(We){Oe!==We&&!J&&(s.depthMask(We),Oe=We)},setFunc:function(We){if(Se!==We){if(We)switch(We){case A_:s.depthFunc(512);break;case C_:s.depthFunc(519);break;case R_:s.depthFunc(513);break;case od:s.depthFunc(515);break;case N_:s.depthFunc(514);break;case L_:s.depthFunc(518);break;case D_:s.depthFunc(516);break;case z_:s.depthFunc(517);break;default:s.depthFunc(515)}else s.depthFunc(515);Se=We}},setLocked:function(We){J=We},setClear:function(We){qe!==We&&(s.clearDepth(We),qe=We)},reset:function(){J=!1,Oe=null,Se=null,qe=null}}}function l(){let J=!1,Oe=null,Se=null,qe=null,We=null,ot=null,Gt=null,Mt=null,un=null;return{setTest:function(ut){J||(ut?ie(2960):_e(2960))},setMask:function(ut){Oe!==ut&&!J&&(s.stencilMask(ut),Oe=ut)},setFunc:function(ut,Qn,Un){(Se!==ut||qe!==Qn||We!==Un)&&(s.stencilFunc(ut,Qn,Un),Se=ut,qe=Qn,We=Un)},setOp:function(ut,Qn,Un){(ot!==ut||Gt!==Qn||Mt!==Un)&&(s.stencilOp(ut,Qn,Un),ot=ut,Gt=Qn,Mt=Un)},setLocked:function(ut){J=ut},setClear:function(ut){un!==ut&&(s.clearStencil(ut),un=ut)},reset:function(){J=!1,Oe=null,Se=null,qe=null,We=null,ot=null,Gt=null,Mt=null,un=null}}}const u=new r,d=new o,f=new l;let p={},g=null,y={},b=null,v=!1,_=null,E=null,M=null,S=null,C=null,A=null,N=null,D=!1,R=null,P=null,q=null,G=null,j=null;const oe=s.getParameter(35661);let Q=!1,W=0;const re=s.getParameter(7938);re.indexOf("WebGL")!==-1?(W=parseFloat(/^WebGL (\d)/.exec(re)[1]),Q=W>=1):re.indexOf("OpenGL ES")!==-1&&(W=parseFloat(/^OpenGL ES (\d)/.exec(re)[1]),Q=W>=2);let B=null,V={};const ce=s.getParameter(3088),Te=s.getParameter(2978),Le=new Nt().fromArray(ce),k=new Nt().fromArray(Te);function $(J,Oe,Se){const qe=new Uint8Array(4),We=s.createTexture();s.bindTexture(J,We),s.texParameteri(J,10241,9728),s.texParameteri(J,10240,9728);for(let ot=0;ot<Se;ot++)s.texImage2D(Oe+ot,0,6408,1,1,0,6408,5121,qe);return We}const Z={};Z[3553]=$(3553,3553,1),Z[34067]=$(34067,34069,6),u.setClear(0,0,0,1),d.setClear(1),f.setClear(0),ie(2929),d.setFunc(od),we(!1),Ne($m),ie(2884),je(Ns);function ie(J){p[J]!==!0&&(s.enable(J),p[J]=!0)}function _e(J){p[J]!==!1&&(s.disable(J),p[J]=!1)}function te(J){J!==g&&(s.bindFramebuffer(36160,J),g=J)}function ee(J,Oe){return Oe===null&&g!==null&&(Oe=g),y[J]!==Oe?(s.bindFramebuffer(J,Oe),y[J]=Oe,n&&(J===36009&&(y[36160]=Oe),J===36160&&(y[36009]=Oe)),!0):!1}function be(J){return b!==J?(s.useProgram(J),b=J,!0):!1}const ye={[$r]:32774,[g_]:32778,[x_]:32779};if(n)ye[i0]=32775,ye[s0]=32776;else{const J=e.get("EXT_blend_minmax");J!==null&&(ye[i0]=J.MIN_EXT,ye[s0]=J.MAX_EXT)}const ze={[y_]:0,[v_]:1,[b_]:768,[k0]:770,[T_]:776,[S_]:774,[__]:772,[w_]:769,[j0]:771,[E_]:775,[M_]:773};function je(J,Oe,Se,qe,We,ot,Gt,Mt){if(J===Ns){v===!0&&(_e(3042),v=!1);return}if(v===!1&&(ie(3042),v=!0),J!==m_){if(J!==_||Mt!==D){if((E!==$r||C!==$r)&&(s.blendEquation(32774),E=$r,C=$r),Mt)switch(J){case zo:s.blendFuncSeparate(1,771,1,771);break;case e0:s.blendFunc(1,1);break;case t0:s.blendFuncSeparate(0,0,769,771);break;case n0:s.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}else switch(J){case zo:s.blendFuncSeparate(770,771,1,771);break;case e0:s.blendFunc(770,1);break;case t0:s.blendFunc(0,769);break;case n0:s.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}M=null,S=null,A=null,N=null,_=J,D=Mt}return}We=We||Oe,ot=ot||Se,Gt=Gt||qe,(Oe!==E||We!==C)&&(s.blendEquationSeparate(ye[Oe],ye[We]),E=Oe,C=We),(Se!==M||qe!==S||ot!==A||Gt!==N)&&(s.blendFuncSeparate(ze[Se],ze[qe],ze[ot],ze[Gt]),M=Se,S=qe,A=ot,N=Gt),_=J,D=null}function fe(J,Oe){J.side===ha?_e(2884):ie(2884);let Se=J.side===$t;Oe&&(Se=!Se),we(Se),J.blending===zo&&J.transparent===!1?je(Ns):je(J.blending,J.blendEquation,J.blendSrc,J.blendDst,J.blendEquationAlpha,J.blendSrcAlpha,J.blendDstAlpha,J.premultipliedAlpha),d.setFunc(J.depthFunc),d.setTest(J.depthTest),d.setMask(J.depthWrite),u.setMask(J.colorWrite);const qe=J.stencilWrite;f.setTest(qe),qe&&(f.setMask(J.stencilWriteMask),f.setFunc(J.stencilFunc,J.stencilRef,J.stencilFuncMask),f.setOp(J.stencilFail,J.stencilZFail,J.stencilZPass)),De(J.polygonOffset,J.polygonOffsetFactor,J.polygonOffsetUnits),J.alphaToCoverage===!0?ie(32926):_e(32926)}function we(J){R!==J&&(J?s.frontFace(2304):s.frontFace(2305),R=J)}function Ne(J){J!==d_?(ie(2884),J!==P&&(J===$m?s.cullFace(1029):J===f_?s.cullFace(1028):s.cullFace(1032))):_e(2884),P=J}function Ge(J){J!==q&&(Q&&s.lineWidth(J),q=J)}function De(J,Oe,Se){J?(ie(32823),(G!==Oe||j!==Se)&&(s.polygonOffset(Oe,Se),G=Oe,j=Se)):_e(32823)}function F(J){J?ie(3089):_e(3089)}function U(J){J===void 0&&(J=33984+oe-1),B!==J&&(s.activeTexture(J),B=J)}function pe(J,Oe){B===null&&U();let Se=V[B];Se===void 0&&(Se={type:void 0,texture:void 0},V[B]=Se),(Se.type!==J||Se.texture!==Oe)&&(s.bindTexture(J,Oe||Z[J]),Se.type=J,Se.texture=Oe)}function Re(){const J=V[B];J!==void 0&&J.type!==void 0&&(s.bindTexture(J.type,null),J.type=void 0,J.texture=void 0)}function Ce(){try{s.compressedTexImage2D.apply(s,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function ke(){try{s.texImage2D.apply(s,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Qe(){try{s.texImage3D.apply(s,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Pe(J){Le.equals(J)===!1&&(s.scissor(J.x,J.y,J.z,J.w),Le.copy(J))}function $e(J){k.equals(J)===!1&&(s.viewport(J.x,J.y,J.z,J.w),k.copy(J))}function Ve(){s.disable(3042),s.disable(2884),s.disable(2929),s.disable(32823),s.disable(3089),s.disable(2960),s.disable(32926),s.blendEquation(32774),s.blendFunc(1,0),s.blendFuncSeparate(1,0,1,0),s.colorMask(!0,!0,!0,!0),s.clearColor(0,0,0,0),s.depthMask(!0),s.depthFunc(513),s.clearDepth(1),s.stencilMask(4294967295),s.stencilFunc(519,0,4294967295),s.stencilOp(7680,7680,7680),s.clearStencil(0),s.cullFace(1029),s.frontFace(2305),s.polygonOffset(0,0),s.activeTexture(33984),s.bindFramebuffer(36160,null),n===!0&&(s.bindFramebuffer(36009,null),s.bindFramebuffer(36008,null)),s.useProgram(null),s.lineWidth(1),s.scissor(0,0,s.canvas.width,s.canvas.height),s.viewport(0,0,s.canvas.width,s.canvas.height),p={},B=null,V={},g=null,y={},b=null,v=!1,_=null,E=null,M=null,S=null,C=null,A=null,N=null,D=!1,R=null,P=null,q=null,G=null,j=null,Le.set(0,0,s.canvas.width,s.canvas.height),k.set(0,0,s.canvas.width,s.canvas.height),u.reset(),d.reset(),f.reset()}return{buffers:{color:u,depth:d,stencil:f},enable:ie,disable:_e,bindFramebuffer:ee,bindXRFramebuffer:te,useProgram:be,setBlending:je,setMaterial:fe,setFlipSided:we,setCullFace:Ne,setLineWidth:Ge,setPolygonOffset:De,setScissorTest:F,activeTexture:U,bindTexture:pe,unbindTexture:Re,compressedTexImage2D:Ce,texImage2D:ke,texImage3D:Qe,scissor:Pe,viewport:$e,reset:Ve}}function a5(s,e,t,n,r,o,l){const u=r.isWebGL2,d=r.maxTextures,f=r.maxCubemapSize,p=r.maxTextureSize,g=r.maxSamples,y=new WeakMap;let b,v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(F,U){return v?new OffscreenCanvas(F,U):vd("canvas")}function E(F,U,pe,Re){let Ce=1;if((F.width>Re||F.height>Re)&&(Ce=Re/Math.max(F.width,F.height)),Ce<1||U===!0)if(typeof HTMLImageElement<"u"&&F instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&F instanceof ImageBitmap){const ke=U?G2:Math.floor,Qe=ke(Ce*F.width),Pe=ke(Ce*F.height);b===void 0&&(b=_(Qe,Pe));const $e=pe?_(Qe,Pe):b;return $e.width=Qe,$e.height=Pe,$e.getContext("2d").drawImage(F,0,0,Qe,Pe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+F.width+"x"+F.height+") to ("+Qe+"x"+Pe+")."),$e}else return"data"in F&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+F.width+"x"+F.height+")."),F;return F}function M(F){return g0(F.width)&&g0(F.height)}function S(F){return u?!1:F.wrapS!==An||F.wrapT!==An||F.minFilter!==ln&&F.minFilter!==dn}function C(F,U){return F.generateMipmaps&&U&&F.minFilter!==ln&&F.minFilter!==dn}function A(F,U,pe,Re,Ce=1){s.generateMipmap(F);const ke=n.get(U);ke.__maxMipLevel=Math.log2(Math.max(pe,Re,Ce))}function N(F,U,pe,Re){if(u===!1)return U;if(F!==null){if(s[F]!==void 0)return s[F];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+F+"'")}let Ce=U;return U===6403&&(pe===5126&&(Ce=33326),pe===5131&&(Ce=33325),pe===5121&&(Ce=33321)),U===6407&&(pe===5126&&(Ce=34837),pe===5131&&(Ce=34843),pe===5121&&(Ce=32849)),U===6408&&(pe===5126&&(Ce=34836),pe===5131&&(Ce=34842),pe===5121&&(Ce=Re===Er?35907:32856)),(Ce===33325||Ce===33326||Ce===34842||Ce===34836)&&e.get("EXT_color_buffer_float"),Ce}function D(F){return F===ln||F===ld||F===cd?9728:9729}function R(F){const U=F.target;U.removeEventListener("dispose",R),q(U),U.isVideoTexture&&y.delete(U),l.memory.textures--}function P(F){const U=F.target;U.removeEventListener("dispose",P),G(U)}function q(F){const U=n.get(F);U.__webglInit!==void 0&&(s.deleteTexture(U.__webglTexture),n.remove(F))}function G(F){const U=F.texture,pe=n.get(F),Re=n.get(U);if(F){if(Re.__webglTexture!==void 0&&(s.deleteTexture(Re.__webglTexture),l.memory.textures--),F.depthTexture&&F.depthTexture.dispose(),F.isWebGLCubeRenderTarget)for(let Ce=0;Ce<6;Ce++)s.deleteFramebuffer(pe.__webglFramebuffer[Ce]),pe.__webglDepthbuffer&&s.deleteRenderbuffer(pe.__webglDepthbuffer[Ce]);else s.deleteFramebuffer(pe.__webglFramebuffer),pe.__webglDepthbuffer&&s.deleteRenderbuffer(pe.__webglDepthbuffer),pe.__webglMultisampledFramebuffer&&s.deleteFramebuffer(pe.__webglMultisampledFramebuffer),pe.__webglColorRenderbuffer&&s.deleteRenderbuffer(pe.__webglColorRenderbuffer),pe.__webglDepthRenderbuffer&&s.deleteRenderbuffer(pe.__webglDepthRenderbuffer);if(F.isWebGLMultipleRenderTargets)for(let Ce=0,ke=U.length;Ce<ke;Ce++){const Qe=n.get(U[Ce]);Qe.__webglTexture&&(s.deleteTexture(Qe.__webglTexture),l.memory.textures--),n.remove(U[Ce])}n.remove(U),n.remove(F)}}let j=0;function oe(){j=0}function Q(){const F=j;return F>=d&&console.warn("THREE.WebGLTextures: Trying to use "+F+" texture units while this GPU supports only "+d),j+=1,F}function W(F,U){const pe=n.get(F);if(F.isVideoTexture&&fe(F),F.version>0&&pe.__version!==F.version){const Re=F.image;if(Re===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(Re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{$(pe,F,U);return}}t.activeTexture(33984+U),t.bindTexture(3553,pe.__webglTexture)}function re(F,U){const pe=n.get(F);if(F.version>0&&pe.__version!==F.version){$(pe,F,U);return}t.activeTexture(33984+U),t.bindTexture(35866,pe.__webglTexture)}function B(F,U){const pe=n.get(F);if(F.version>0&&pe.__version!==F.version){$(pe,F,U);return}t.activeTexture(33984+U),t.bindTexture(32879,pe.__webglTexture)}function V(F,U){const pe=n.get(F);if(F.version>0&&pe.__version!==F.version){Z(pe,F,U);return}t.activeTexture(33984+U),t.bindTexture(34067,pe.__webglTexture)}const ce={[xc]:10497,[An]:33071,[yc]:33648},Te={[ln]:9728,[ld]:9984,[cd]:9986,[dn]:9729,[F0]:9985,[_a]:9987};function Le(F,U,pe){if(pe?(s.texParameteri(F,10242,ce[U.wrapS]),s.texParameteri(F,10243,ce[U.wrapT]),(F===32879||F===35866)&&s.texParameteri(F,32882,ce[U.wrapR]),s.texParameteri(F,10240,Te[U.magFilter]),s.texParameteri(F,10241,Te[U.minFilter])):(s.texParameteri(F,10242,33071),s.texParameteri(F,10243,33071),(F===32879||F===35866)&&s.texParameteri(F,32882,33071),(U.wrapS!==An||U.wrapT!==An)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),s.texParameteri(F,10240,D(U.magFilter)),s.texParameteri(F,10241,D(U.minFilter)),U.minFilter!==ln&&U.minFilter!==dn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Re=e.get("EXT_texture_filter_anisotropic");if(U.type===Yi&&e.has("OES_texture_float_linear")===!1||u===!1&&U.type===sa&&e.has("OES_texture_half_float_linear")===!1)return;(U.anisotropy>1||n.get(U).__currentAnisotropy)&&(s.texParameterf(F,Re.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,r.getMaxAnisotropy())),n.get(U).__currentAnisotropy=U.anisotropy)}}function k(F,U){F.__webglInit===void 0&&(F.__webglInit=!0,U.addEventListener("dispose",R),F.__webglTexture=s.createTexture(),l.memory.textures++)}function $(F,U,pe){let Re=3553;U.isDataTexture2DArray&&(Re=35866),U.isDataTexture3D&&(Re=32879),k(F,U),t.activeTexture(33984+pe),t.bindTexture(Re,F.__webglTexture),s.pixelStorei(37440,U.flipY),s.pixelStorei(37441,U.premultiplyAlpha),s.pixelStorei(3317,U.unpackAlignment),s.pixelStorei(37443,0);const Ce=S(U)&&M(U.image)===!1,ke=E(U.image,Ce,!1,p),Qe=M(ke)||u,Pe=o.convert(U.format);let $e=o.convert(U.type),Ve=N(U.internalFormat,Pe,$e,U.encoding);Le(Re,U,Qe);let J;const Oe=U.mipmaps;if(U.isDepthTexture)Ve=6402,u?U.type===Yi?Ve=36012:U.type===cc?Ve=33190:U.type===Oo?Ve=35056:Ve=33189:U.type===Yi&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),U.format===aa&&Ve===6402&&U.type!==vc&&U.type!==cc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),U.type=vc,$e=o.convert(U.type)),U.format===Uo&&Ve===6402&&(Ve=34041,U.type!==Oo&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),U.type=Oo,$e=o.convert(U.type))),t.texImage2D(3553,0,Ve,ke.width,ke.height,0,Pe,$e,null);else if(U.isDataTexture)if(Oe.length>0&&Qe){for(let Se=0,qe=Oe.length;Se<qe;Se++)J=Oe[Se],t.texImage2D(3553,Se,Ve,J.width,J.height,0,Pe,$e,J.data);U.generateMipmaps=!1,F.__maxMipLevel=Oe.length-1}else t.texImage2D(3553,0,Ve,ke.width,ke.height,0,Pe,$e,ke.data),F.__maxMipLevel=0;else if(U.isCompressedTexture){for(let Se=0,qe=Oe.length;Se<qe;Se++)J=Oe[Se],U.format!==Cn&&U.format!==ra?Pe!==null?t.compressedTexImage2D(3553,Se,Ve,J.width,J.height,0,J.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):t.texImage2D(3553,Se,Ve,J.width,J.height,0,Pe,$e,J.data);F.__maxMipLevel=Oe.length-1}else if(U.isDataTexture2DArray)t.texImage3D(35866,0,Ve,ke.width,ke.height,ke.depth,0,Pe,$e,ke.data),F.__maxMipLevel=0;else if(U.isDataTexture3D)t.texImage3D(32879,0,Ve,ke.width,ke.height,ke.depth,0,Pe,$e,ke.data),F.__maxMipLevel=0;else if(Oe.length>0&&Qe){for(let Se=0,qe=Oe.length;Se<qe;Se++)J=Oe[Se],t.texImage2D(3553,Se,Ve,Pe,$e,J);U.generateMipmaps=!1,F.__maxMipLevel=Oe.length-1}else t.texImage2D(3553,0,Ve,Pe,$e,ke),F.__maxMipLevel=0;C(U,Qe)&&A(Re,U,ke.width,ke.height),F.__version=U.version,U.onUpdate&&U.onUpdate(U)}function Z(F,U,pe){if(U.image.length!==6)return;k(F,U),t.activeTexture(33984+pe),t.bindTexture(34067,F.__webglTexture),s.pixelStorei(37440,U.flipY),s.pixelStorei(37441,U.premultiplyAlpha),s.pixelStorei(3317,U.unpackAlignment),s.pixelStorei(37443,0);const Re=U&&(U.isCompressedTexture||U.image[0].isCompressedTexture),Ce=U.image[0]&&U.image[0].isDataTexture,ke=[];for(let Se=0;Se<6;Se++)!Re&&!Ce?ke[Se]=E(U.image[Se],!1,!0,f):ke[Se]=Ce?U.image[Se].image:U.image[Se];const Qe=ke[0],Pe=M(Qe)||u,$e=o.convert(U.format),Ve=o.convert(U.type),J=N(U.internalFormat,$e,Ve,U.encoding);Le(34067,U,Pe);let Oe;if(Re){for(let Se=0;Se<6;Se++){Oe=ke[Se].mipmaps;for(let qe=0;qe<Oe.length;qe++){const We=Oe[qe];U.format!==Cn&&U.format!==ra?$e!==null?t.compressedTexImage2D(34069+Se,qe,J,We.width,We.height,0,We.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):t.texImage2D(34069+Se,qe,J,We.width,We.height,0,$e,Ve,We.data)}}F.__maxMipLevel=Oe.length-1}else{Oe=U.mipmaps;for(let Se=0;Se<6;Se++)if(Ce){t.texImage2D(34069+Se,0,J,ke[Se].width,ke[Se].height,0,$e,Ve,ke[Se].data);for(let qe=0;qe<Oe.length;qe++){const ot=Oe[qe].image[Se].image;t.texImage2D(34069+Se,qe+1,J,ot.width,ot.height,0,$e,Ve,ot.data)}}else{t.texImage2D(34069+Se,0,J,$e,Ve,ke[Se]);for(let qe=0;qe<Oe.length;qe++){const We=Oe[qe];t.texImage2D(34069+Se,qe+1,J,$e,Ve,We.image[Se])}}F.__maxMipLevel=Oe.length}C(U,Pe)&&A(34067,U,Qe.width,Qe.height),F.__version=U.version,U.onUpdate&&U.onUpdate(U)}function ie(F,U,pe,Re,Ce){const ke=o.convert(pe.format),Qe=o.convert(pe.type),Pe=N(pe.internalFormat,ke,Qe,pe.encoding);Ce===32879||Ce===35866?t.texImage3D(Ce,0,Pe,U.width,U.height,U.depth,0,ke,Qe,null):t.texImage2D(Ce,0,Pe,U.width,U.height,0,ke,Qe,null),t.bindFramebuffer(36160,F),s.framebufferTexture2D(36160,Re,Ce,n.get(pe).__webglTexture,0),t.bindFramebuffer(36160,null)}function _e(F,U,pe){if(s.bindRenderbuffer(36161,F),U.depthBuffer&&!U.stencilBuffer){let Re=33189;if(pe){const Ce=U.depthTexture;Ce&&Ce.isDepthTexture&&(Ce.type===Yi?Re=36012:Ce.type===cc&&(Re=33190));const ke=je(U);s.renderbufferStorageMultisample(36161,ke,Re,U.width,U.height)}else s.renderbufferStorage(36161,Re,U.width,U.height);s.framebufferRenderbuffer(36160,36096,36161,F)}else if(U.depthBuffer&&U.stencilBuffer){if(pe){const Re=je(U);s.renderbufferStorageMultisample(36161,Re,35056,U.width,U.height)}else s.renderbufferStorage(36161,34041,U.width,U.height);s.framebufferRenderbuffer(36160,33306,36161,F)}else{const Re=U.isWebGLMultipleRenderTargets===!0?U.texture[0]:U.texture,Ce=o.convert(Re.format),ke=o.convert(Re.type),Qe=N(Re.internalFormat,Ce,ke,Re.encoding);if(pe){const Pe=je(U);s.renderbufferStorageMultisample(36161,Pe,Qe,U.width,U.height)}else s.renderbufferStorage(36161,Qe,U.width,U.height)}s.bindRenderbuffer(36161,null)}function te(F,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,F),!(U.depthTexture&&U.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(U.depthTexture).__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),W(U.depthTexture,0);const Re=n.get(U.depthTexture).__webglTexture;if(U.depthTexture.format===aa)s.framebufferTexture2D(36160,36096,3553,Re,0);else if(U.depthTexture.format===Uo)s.framebufferTexture2D(36160,33306,3553,Re,0);else throw new Error("Unknown depthTexture format")}function ee(F){const U=n.get(F),pe=F.isWebGLCubeRenderTarget===!0;if(F.depthTexture){if(pe)throw new Error("target.depthTexture not supported in Cube render targets");te(U.__webglFramebuffer,F)}else if(pe){U.__webglDepthbuffer=[];for(let Re=0;Re<6;Re++)t.bindFramebuffer(36160,U.__webglFramebuffer[Re]),U.__webglDepthbuffer[Re]=s.createRenderbuffer(),_e(U.__webglDepthbuffer[Re],F,!1)}else t.bindFramebuffer(36160,U.__webglFramebuffer),U.__webglDepthbuffer=s.createRenderbuffer(),_e(U.__webglDepthbuffer,F,!1);t.bindFramebuffer(36160,null)}function be(F){const U=F.texture,pe=n.get(F),Re=n.get(U);F.addEventListener("dispose",P),F.isWebGLMultipleRenderTargets!==!0&&(Re.__webglTexture=s.createTexture(),Re.__version=U.version,l.memory.textures++);const Ce=F.isWebGLCubeRenderTarget===!0,ke=F.isWebGLMultipleRenderTargets===!0,Qe=F.isWebGLMultisampleRenderTarget===!0,Pe=U.isDataTexture3D||U.isDataTexture2DArray,$e=M(F)||u;if(u&&U.format===ra&&(U.type===Yi||U.type===sa)&&(U.format=Cn,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),Ce){pe.__webglFramebuffer=[];for(let Ve=0;Ve<6;Ve++)pe.__webglFramebuffer[Ve]=s.createFramebuffer()}else if(pe.__webglFramebuffer=s.createFramebuffer(),ke)if(r.drawBuffers){const Ve=F.texture;for(let J=0,Oe=Ve.length;J<Oe;J++){const Se=n.get(Ve[J]);Se.__webglTexture===void 0&&(Se.__webglTexture=s.createTexture(),l.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(Qe)if(u){pe.__webglMultisampledFramebuffer=s.createFramebuffer(),pe.__webglColorRenderbuffer=s.createRenderbuffer(),s.bindRenderbuffer(36161,pe.__webglColorRenderbuffer);const Ve=o.convert(U.format),J=o.convert(U.type),Oe=N(U.internalFormat,Ve,J,U.encoding),Se=je(F);s.renderbufferStorageMultisample(36161,Se,Oe,F.width,F.height),t.bindFramebuffer(36160,pe.__webglMultisampledFramebuffer),s.framebufferRenderbuffer(36160,36064,36161,pe.__webglColorRenderbuffer),s.bindRenderbuffer(36161,null),F.depthBuffer&&(pe.__webglDepthRenderbuffer=s.createRenderbuffer(),_e(pe.__webglDepthRenderbuffer,F,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(Ce){t.bindTexture(34067,Re.__webglTexture),Le(34067,U,$e);for(let Ve=0;Ve<6;Ve++)ie(pe.__webglFramebuffer[Ve],F,U,36064,34069+Ve);C(U,$e)&&A(34067,U,F.width,F.height),t.unbindTexture()}else if(ke){const Ve=F.texture;for(let J=0,Oe=Ve.length;J<Oe;J++){const Se=Ve[J],qe=n.get(Se);t.bindTexture(3553,qe.__webglTexture),Le(3553,Se,$e),ie(pe.__webglFramebuffer,F,Se,36064+J,3553),C(Se,$e)&&A(3553,Se,F.width,F.height)}t.unbindTexture()}else{let Ve=3553;Pe&&(u?Ve=U.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(Ve,Re.__webglTexture),Le(Ve,U,$e),ie(pe.__webglFramebuffer,F,U,36064,Ve),C(U,$e)&&A(Ve,U,F.width,F.height,F.depth),t.unbindTexture()}F.depthBuffer&&ee(F)}function ye(F){const U=M(F)||u,pe=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let Re=0,Ce=pe.length;Re<Ce;Re++){const ke=pe[Re];if(C(ke,U)){const Qe=F.isWebGLCubeRenderTarget?34067:3553,Pe=n.get(ke).__webglTexture;t.bindTexture(Qe,Pe),A(Qe,ke,F.width,F.height),t.unbindTexture()}}}function ze(F){if(F.isWebGLMultisampleRenderTarget)if(u){const U=F.width,pe=F.height;let Re=16384;F.depthBuffer&&(Re|=256),F.stencilBuffer&&(Re|=1024);const Ce=n.get(F);t.bindFramebuffer(36008,Ce.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ce.__webglFramebuffer),s.blitFramebuffer(0,0,U,pe,0,0,U,pe,Re,9728),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,Ce.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function je(F){return u&&F.isWebGLMultisampleRenderTarget?Math.min(g,F.samples):0}function fe(F){const U=l.render.frame;y.get(F)!==U&&(y.set(F,U),F.update())}let we=!1,Ne=!1;function Ge(F,U){F&&F.isWebGLRenderTarget&&(we===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),we=!0),F=F.texture),W(F,U)}function De(F,U){F&&F.isWebGLCubeRenderTarget&&(Ne===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Ne=!0),F=F.texture),V(F,U)}this.allocateTextureUnit=Q,this.resetTextureUnits=oe,this.setTexture2D=W,this.setTexture2DArray=re,this.setTexture3D=B,this.setTextureCube=V,this.setupRenderTarget=be,this.updateRenderTargetMipmap=ye,this.updateMultisampleRenderTarget=ze,this.safeSetTexture2D=Ge,this.safeSetTextureCube=De}function pM(s,e,t){const n=t.isWebGL2;function r(o){let l;if(o===Ds)return 5121;if(o===V_)return 32819;if(o===W_)return 32820;if(o===q_)return 33635;if(o===I_)return 5120;if(o===H_)return 5122;if(o===vc)return 5123;if(o===G_)return 5124;if(o===cc)return 5125;if(o===Yi)return 5126;if(o===sa)return n?5131:(l=e.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(o===Y_)return 6406;if(o===ra)return 6407;if(o===Cn)return 6408;if(o===X_)return 6409;if(o===Z_)return 6410;if(o===aa)return 6402;if(o===Uo)return 34041;if(o===Q_)return 6403;if(o===K_)return 36244;if(o===$_)return 33319;if(o===e2)return 33320;if(o===t2)return 36248;if(o===n2)return 36249;if(o===r0||o===a0||o===o0||o===l0)if(l=e.get("WEBGL_compressed_texture_s3tc"),l!==null){if(o===r0)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===a0)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===o0)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===l0)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===c0||o===u0||o===h0||o===d0)if(l=e.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(o===c0)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===u0)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===h0)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===d0)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===i2)return l=e.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if((o===f0||o===p0)&&(l=e.get("WEBGL_compressed_texture_etc"),l!==null)){if(o===f0)return l.COMPRESSED_RGB8_ETC2;if(o===p0)return l.COMPRESSED_RGBA8_ETC2_EAC}if(o===s2||o===r2||o===a2||o===o2||o===l2||o===c2||o===u2||o===h2||o===d2||o===f2||o===p2||o===m2||o===g2||o===x2||o===v2||o===b2||o===w2||o===_2||o===M2||o===S2||o===E2||o===T2||o===A2||o===C2||o===R2||o===N2||o===L2||o===D2)return l=e.get("WEBGL_compressed_texture_astc"),l!==null?o:null;if(o===y2)return l=e.get("EXT_texture_compression_bptc"),l!==null?o:null;if(o===Oo)return n?34042:(l=e.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}class Q0 extends yn{constructor(e=[]){super(),this.cameras=e}}Q0.prototype.isArrayCamera=!0;class na extends pt{constructor(){super(),this.type="Group"}}na.prototype.isGroup=!0;const o5={type:"move"};class Bm{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new na,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new na,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new na,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,o=null,l=null;const u=this._targetRay,d=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(u!==null&&(r=t.getPose(e.targetRaySpace,n),r!==null&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(o5))),f&&e.hand){l=!0;for(const _ of e.hand.values()){const E=t.getJointPose(_,n);if(f.joints[_.jointName]===void 0){const S=new na;S.matrixAutoUpdate=!1,S.visible=!1,f.joints[_.jointName]=S,f.add(S)}const M=f.joints[_.jointName];E!==null&&(M.matrix.fromArray(E.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.jointRadius=E.radius),M.visible=E!==null}const p=f.joints["index-finger-tip"],g=f.joints["thumb-tip"],y=p.position.distanceTo(g.position),b=.02,v=.005;f.inputState.pinching&&y>b+v?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&y<=b-v&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,n),o!==null&&(d.matrix.fromArray(o.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),o.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(o.linearVelocity)):d.hasLinearVelocity=!1,o.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(o.angularVelocity)):d.hasAngularVelocity=!1));return u!==null&&(u.visible=r!==null),d!==null&&(d.visible=o!==null),f!==null&&(f.visible=l!==null),this}}class l5 extends Tr{constructor(e,t){super();const n=this,r=e.state;let o=null,l=1,u=null,d="local-floor",f=null,p=null,g=null,y=null,b=null,v=!1,_=null,E=null,M=null,S=null,C=null,A=null;const N=[],D=new Map,R=new yn;R.layers.enable(1),R.viewport=new Nt;const P=new yn;P.layers.enable(2),P.viewport=new Nt;const q=[R,P],G=new Q0;G.layers.enable(1),G.layers.enable(2);let j=null,oe=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Z){let ie=N[Z];return ie===void 0&&(ie=new Bm,N[Z]=ie),ie.getTargetRaySpace()},this.getControllerGrip=function(Z){let ie=N[Z];return ie===void 0&&(ie=new Bm,N[Z]=ie),ie.getGripSpace()},this.getHand=function(Z){let ie=N[Z];return ie===void 0&&(ie=new Bm,N[Z]=ie),ie.getHandSpace()};function Q(Z){const ie=D.get(Z.inputSource);ie&&ie.dispatchEvent({type:Z.type,data:Z.inputSource})}function W(){D.forEach(function(Z,ie){Z.disconnect(ie)}),D.clear(),j=null,oe=null,r.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),g&&t.deleteFramebuffer(g),_&&t.deleteFramebuffer(_),E&&t.deleteRenderbuffer(E),M&&t.deleteRenderbuffer(M),g=null,_=null,E=null,M=null,b=null,y=null,p=null,o=null,$.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Z){l=Z,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Z){d=Z,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u},this.getBaseLayer=function(){return y!==null?y:b},this.getBinding=function(){return p},this.getFrame=function(){return S},this.getSession=function(){return o},this.setSession=async function(Z){if(o=Z,o!==null){o.addEventListener("select",Q),o.addEventListener("selectstart",Q),o.addEventListener("selectend",Q),o.addEventListener("squeeze",Q),o.addEventListener("squeezestart",Q),o.addEventListener("squeezeend",Q),o.addEventListener("end",W),o.addEventListener("inputsourceschange",re);const ie=t.getContextAttributes();if(ie.xrCompatible!==!0&&await t.makeXRCompatible(),o.renderState.layers===void 0){const _e={antialias:ie.antialias,alpha:ie.alpha,depth:ie.depth,stencil:ie.stencil,framebufferScaleFactor:l};b=new XRWebGLLayer(o,t,_e),o.updateRenderState({baseLayer:b})}else if(t instanceof WebGLRenderingContext){const _e={antialias:!0,alpha:ie.alpha,depth:ie.depth,stencil:ie.stencil,framebufferScaleFactor:l};b=new XRWebGLLayer(o,t,_e),o.updateRenderState({layers:[b]})}else{v=ie.antialias;let _e=null;ie.depth&&(A=256,ie.stencil&&(A|=1024),C=ie.stencil?33306:36096,_e=ie.stencil?35056:33190);const te={colorFormat:ie.alpha?32856:32849,depthFormat:_e,scaleFactor:l};p=new XRWebGLBinding(o,t),y=p.createProjectionLayer(te),g=t.createFramebuffer(),o.updateRenderState({layers:[y]}),v&&(_=t.createFramebuffer(),E=t.createRenderbuffer(),t.bindRenderbuffer(36161,E),t.renderbufferStorageMultisample(36161,4,32856,y.textureWidth,y.textureHeight),r.bindFramebuffer(36160,_),t.framebufferRenderbuffer(36160,36064,36161,E),t.bindRenderbuffer(36161,null),_e!==null&&(M=t.createRenderbuffer(),t.bindRenderbuffer(36161,M),t.renderbufferStorageMultisample(36161,4,_e,y.textureWidth,y.textureHeight),t.framebufferRenderbuffer(36160,C,36161,M),t.bindRenderbuffer(36161,null)),r.bindFramebuffer(36160,null))}u=await o.requestReferenceSpace(d),$.setContext(o),$.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};function re(Z){const ie=o.inputSources;for(let _e=0;_e<N.length;_e++)D.set(ie[_e],N[_e]);for(let _e=0;_e<Z.removed.length;_e++){const te=Z.removed[_e],ee=D.get(te);ee&&(ee.dispatchEvent({type:"disconnected",data:te}),D.delete(te))}for(let _e=0;_e<Z.added.length;_e++){const te=Z.added[_e],ee=D.get(te);ee&&ee.dispatchEvent({type:"connected",data:te})}}const B=new z,V=new z;function ce(Z,ie,_e){B.setFromMatrixPosition(ie.matrixWorld),V.setFromMatrixPosition(_e.matrixWorld);const te=B.distanceTo(V),ee=ie.projectionMatrix.elements,be=_e.projectionMatrix.elements,ye=ee[14]/(ee[10]-1),ze=ee[14]/(ee[10]+1),je=(ee[9]+1)/ee[5],fe=(ee[9]-1)/ee[5],we=(ee[8]-1)/ee[0],Ne=(be[8]+1)/be[0],Ge=ye*we,De=ye*Ne,F=te/(-we+Ne),U=F*-we;ie.matrixWorld.decompose(Z.position,Z.quaternion,Z.scale),Z.translateX(U),Z.translateZ(F),Z.matrixWorld.compose(Z.position,Z.quaternion,Z.scale),Z.matrixWorldInverse.copy(Z.matrixWorld).invert();const pe=ye+F,Re=ze+F,Ce=Ge-U,ke=De+(te-U),Qe=je*ze/Re*pe,Pe=fe*ze/Re*pe;Z.projectionMatrix.makePerspective(Ce,ke,Qe,Pe,pe,Re)}function Te(Z,ie){ie===null?Z.matrixWorld.copy(Z.matrix):Z.matrixWorld.multiplyMatrices(ie.matrixWorld,Z.matrix),Z.matrixWorldInverse.copy(Z.matrixWorld).invert()}this.updateCamera=function(Z){if(o===null)return;G.near=P.near=R.near=Z.near,G.far=P.far=R.far=Z.far,(j!==G.near||oe!==G.far)&&(o.updateRenderState({depthNear:G.near,depthFar:G.far}),j=G.near,oe=G.far);const ie=Z.parent,_e=G.cameras;Te(G,ie);for(let ee=0;ee<_e.length;ee++)Te(_e[ee],ie);G.matrixWorld.decompose(G.position,G.quaternion,G.scale),Z.position.copy(G.position),Z.quaternion.copy(G.quaternion),Z.scale.copy(G.scale),Z.matrix.copy(G.matrix),Z.matrixWorld.copy(G.matrixWorld);const te=Z.children;for(let ee=0,be=te.length;ee<be;ee++)te[ee].updateMatrixWorld(!0);_e.length===2?ce(G,R,P):G.projectionMatrix.copy(R.projectionMatrix)},this.getCamera=function(){return G},this.getFoveation=function(){if(y!==null)return y.fixedFoveation;if(b!==null)return b.fixedFoveation},this.setFoveation=function(Z){y!==null&&(y.fixedFoveation=Z),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=Z)};let Le=null;function k(Z,ie){if(f=ie.getViewerPose(u),S=ie,f!==null){const te=f.views;b!==null&&r.bindXRFramebuffer(b.framebuffer);let ee=!1;te.length!==G.cameras.length&&(G.cameras.length=0,ee=!0);for(let be=0;be<te.length;be++){const ye=te[be];let ze=null;if(b!==null)ze=b.getViewport(ye);else{const fe=p.getViewSubImage(y,ye);r.bindXRFramebuffer(g),fe.depthStencilTexture!==void 0&&t.framebufferTexture2D(36160,C,3553,fe.depthStencilTexture,0),t.framebufferTexture2D(36160,36064,3553,fe.colorTexture,0),ze=fe.viewport}const je=q[be];je.matrix.fromArray(ye.transform.matrix),je.projectionMatrix.fromArray(ye.projectionMatrix),je.viewport.set(ze.x,ze.y,ze.width,ze.height),be===0&&G.matrix.copy(je.matrix),ee===!0&&G.cameras.push(je)}v&&(r.bindXRFramebuffer(_),A!==null&&t.clear(A))}const _e=o.inputSources;for(let te=0;te<N.length;te++){const ee=N[te],be=_e[te];ee.update(be,ie,u)}if(Le&&Le(Z,ie),v){const te=y.textureWidth,ee=y.textureHeight;r.bindFramebuffer(36008,_),r.bindFramebuffer(36009,g),t.invalidateFramebuffer(36008,[C]),t.invalidateFramebuffer(36009,[C]),t.blitFramebuffer(0,0,te,ee,0,0,te,ee,16384,9728),t.invalidateFramebuffer(36008,[36064]),r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,null),r.bindFramebuffer(36160,_)}S=null}const $=new nM;$.setAnimationLoop(k),this.setAnimationLoop=function(Z){Le=Z},this.dispose=function(){}}}function c5(s){function e(M,S){M.fogColor.value.copy(S.color),S.isFog?(M.fogNear.value=S.near,M.fogFar.value=S.far):S.isFogExp2&&(M.fogDensity.value=S.density)}function t(M,S,C,A,N){S.isMeshBasicMaterial?n(M,S):S.isMeshLambertMaterial?(n(M,S),d(M,S)):S.isMeshToonMaterial?(n(M,S),p(M,S)):S.isMeshPhongMaterial?(n(M,S),f(M,S)):S.isMeshStandardMaterial?(n(M,S),S.isMeshPhysicalMaterial?y(M,S,N):g(M,S)):S.isMeshMatcapMaterial?(n(M,S),b(M,S)):S.isMeshDepthMaterial?(n(M,S),v(M,S)):S.isMeshDistanceMaterial?(n(M,S),_(M,S)):S.isMeshNormalMaterial?(n(M,S),E(M,S)):S.isLineBasicMaterial?(r(M,S),S.isLineDashedMaterial&&o(M,S)):S.isPointsMaterial?l(M,S,C,A):S.isSpriteMaterial?u(M,S):S.isShadowMaterial?(M.color.value.copy(S.color),M.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function n(M,S){M.opacity.value=S.opacity,S.color&&M.diffuse.value.copy(S.color),S.emissive&&M.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(M.map.value=S.map),S.alphaMap&&(M.alphaMap.value=S.alphaMap),S.specularMap&&(M.specularMap.value=S.specularMap),S.alphaTest>0&&(M.alphaTest.value=S.alphaTest);const C=s.get(S).envMap;if(C){M.envMap.value=C,M.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,M.reflectivity.value=S.reflectivity,M.ior.value=S.ior,M.refractionRatio.value=S.refractionRatio;const D=s.get(C).__maxMipLevel;D!==void 0&&(M.maxMipLevel.value=D)}S.lightMap&&(M.lightMap.value=S.lightMap,M.lightMapIntensity.value=S.lightMapIntensity),S.aoMap&&(M.aoMap.value=S.aoMap,M.aoMapIntensity.value=S.aoMapIntensity);let A;S.map?A=S.map:S.specularMap?A=S.specularMap:S.displacementMap?A=S.displacementMap:S.normalMap?A=S.normalMap:S.bumpMap?A=S.bumpMap:S.roughnessMap?A=S.roughnessMap:S.metalnessMap?A=S.metalnessMap:S.alphaMap?A=S.alphaMap:S.emissiveMap?A=S.emissiveMap:S.clearcoatMap?A=S.clearcoatMap:S.clearcoatNormalMap?A=S.clearcoatNormalMap:S.clearcoatRoughnessMap?A=S.clearcoatRoughnessMap:S.specularIntensityMap?A=S.specularIntensityMap:S.specularColorMap?A=S.specularColorMap:S.transmissionMap?A=S.transmissionMap:S.thicknessMap?A=S.thicknessMap:S.sheenColorMap?A=S.sheenColorMap:S.sheenRoughnessMap&&(A=S.sheenRoughnessMap),A!==void 0&&(A.isWebGLRenderTarget&&(A=A.texture),A.matrixAutoUpdate===!0&&A.updateMatrix(),M.uvTransform.value.copy(A.matrix));let N;S.aoMap?N=S.aoMap:S.lightMap&&(N=S.lightMap),N!==void 0&&(N.isWebGLRenderTarget&&(N=N.texture),N.matrixAutoUpdate===!0&&N.updateMatrix(),M.uv2Transform.value.copy(N.matrix))}function r(M,S){M.diffuse.value.copy(S.color),M.opacity.value=S.opacity}function o(M,S){M.dashSize.value=S.dashSize,M.totalSize.value=S.dashSize+S.gapSize,M.scale.value=S.scale}function l(M,S,C,A){M.diffuse.value.copy(S.color),M.opacity.value=S.opacity,M.size.value=S.size*C,M.scale.value=A*.5,S.map&&(M.map.value=S.map),S.alphaMap&&(M.alphaMap.value=S.alphaMap),S.alphaTest>0&&(M.alphaTest.value=S.alphaTest);let N;S.map?N=S.map:S.alphaMap&&(N=S.alphaMap),N!==void 0&&(N.matrixAutoUpdate===!0&&N.updateMatrix(),M.uvTransform.value.copy(N.matrix))}function u(M,S){M.diffuse.value.copy(S.color),M.opacity.value=S.opacity,M.rotation.value=S.rotation,S.map&&(M.map.value=S.map),S.alphaMap&&(M.alphaMap.value=S.alphaMap),S.alphaTest>0&&(M.alphaTest.value=S.alphaTest);let C;S.map?C=S.map:S.alphaMap&&(C=S.alphaMap),C!==void 0&&(C.matrixAutoUpdate===!0&&C.updateMatrix(),M.uvTransform.value.copy(C.matrix))}function d(M,S){S.emissiveMap&&(M.emissiveMap.value=S.emissiveMap)}function f(M,S){M.specular.value.copy(S.specular),M.shininess.value=Math.max(S.shininess,1e-4),S.emissiveMap&&(M.emissiveMap.value=S.emissiveMap),S.bumpMap&&(M.bumpMap.value=S.bumpMap,M.bumpScale.value=S.bumpScale,S.side===$t&&(M.bumpScale.value*=-1)),S.normalMap&&(M.normalMap.value=S.normalMap,M.normalScale.value.copy(S.normalScale),S.side===$t&&M.normalScale.value.negate()),S.displacementMap&&(M.displacementMap.value=S.displacementMap,M.displacementScale.value=S.displacementScale,M.displacementBias.value=S.displacementBias)}function p(M,S){S.gradientMap&&(M.gradientMap.value=S.gradientMap),S.emissiveMap&&(M.emissiveMap.value=S.emissiveMap),S.bumpMap&&(M.bumpMap.value=S.bumpMap,M.bumpScale.value=S.bumpScale,S.side===$t&&(M.bumpScale.value*=-1)),S.normalMap&&(M.normalMap.value=S.normalMap,M.normalScale.value.copy(S.normalScale),S.side===$t&&M.normalScale.value.negate()),S.displacementMap&&(M.displacementMap.value=S.displacementMap,M.displacementScale.value=S.displacementScale,M.displacementBias.value=S.displacementBias)}function g(M,S){M.roughness.value=S.roughness,M.metalness.value=S.metalness,S.roughnessMap&&(M.roughnessMap.value=S.roughnessMap),S.metalnessMap&&(M.metalnessMap.value=S.metalnessMap),S.emissiveMap&&(M.emissiveMap.value=S.emissiveMap),S.bumpMap&&(M.bumpMap.value=S.bumpMap,M.bumpScale.value=S.bumpScale,S.side===$t&&(M.bumpScale.value*=-1)),S.normalMap&&(M.normalMap.value=S.normalMap,M.normalScale.value.copy(S.normalScale),S.side===$t&&M.normalScale.value.negate()),S.displacementMap&&(M.displacementMap.value=S.displacementMap,M.displacementScale.value=S.displacementScale,M.displacementBias.value=S.displacementBias),s.get(S).envMap&&(M.envMapIntensity.value=S.envMapIntensity)}function y(M,S,C){g(M,S),M.ior.value=S.ior,S.sheen>0&&(M.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),M.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(M.sheenColorMap.value=S.sheenColorMap),S.sheenRoughnessMap&&(M.sheenRoughnessMap.value=S.sheenRoughnessMap)),S.clearcoat>0&&(M.clearcoat.value=S.clearcoat,M.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(M.clearcoatMap.value=S.clearcoatMap),S.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap),S.clearcoatNormalMap&&(M.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),M.clearcoatNormalMap.value=S.clearcoatNormalMap,S.side===$t&&M.clearcoatNormalScale.value.negate())),S.transmission>0&&(M.transmission.value=S.transmission,M.transmissionSamplerMap.value=C.texture,M.transmissionSamplerSize.value.set(C.width,C.height),S.transmissionMap&&(M.transmissionMap.value=S.transmissionMap),M.thickness.value=S.thickness,S.thicknessMap&&(M.thicknessMap.value=S.thicknessMap),M.attenuationDistance.value=S.attenuationDistance,M.attenuationColor.value.copy(S.attenuationColor)),M.specularIntensity.value=S.specularIntensity,M.specularColor.value.copy(S.specularColor),S.specularIntensityMap&&(M.specularIntensityMap.value=S.specularIntensityMap),S.specularColorMap&&(M.specularColorMap.value=S.specularColorMap)}function b(M,S){S.matcap&&(M.matcap.value=S.matcap),S.bumpMap&&(M.bumpMap.value=S.bumpMap,M.bumpScale.value=S.bumpScale,S.side===$t&&(M.bumpScale.value*=-1)),S.normalMap&&(M.normalMap.value=S.normalMap,M.normalScale.value.copy(S.normalScale),S.side===$t&&M.normalScale.value.negate()),S.displacementMap&&(M.displacementMap.value=S.displacementMap,M.displacementScale.value=S.displacementScale,M.displacementBias.value=S.displacementBias)}function v(M,S){S.displacementMap&&(M.displacementMap.value=S.displacementMap,M.displacementScale.value=S.displacementScale,M.displacementBias.value=S.displacementBias)}function _(M,S){S.displacementMap&&(M.displacementMap.value=S.displacementMap,M.displacementScale.value=S.displacementScale,M.displacementBias.value=S.displacementBias),M.referencePosition.value.copy(S.referencePosition),M.nearDistance.value=S.nearDistance,M.farDistance.value=S.farDistance}function E(M,S){S.bumpMap&&(M.bumpMap.value=S.bumpMap,M.bumpScale.value=S.bumpScale,S.side===$t&&(M.bumpScale.value*=-1)),S.normalMap&&(M.normalMap.value=S.normalMap,M.normalScale.value.copy(S.normalScale),S.side===$t&&M.normalScale.value.negate()),S.displacementMap&&(M.displacementMap.value=S.displacementMap,M.displacementScale.value=S.displacementScale,M.displacementBias.value=S.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:t}}function u5(){const s=vd("canvas");return s.style.display="block",s}function Lt(s={}){const e=s.canvas!==void 0?s.canvas:u5(),t=s.context!==void 0?s.context:null,n=s.alpha!==void 0?s.alpha:!1,r=s.depth!==void 0?s.depth:!0,o=s.stencil!==void 0?s.stencil:!0,l=s.antialias!==void 0?s.antialias:!1,u=s.premultipliedAlpha!==void 0?s.premultipliedAlpha:!0,d=s.preserveDrawingBuffer!==void 0?s.preserveDrawingBuffer:!1,f=s.powerPreference!==void 0?s.powerPreference:"default",p=s.failIfMajorPerformanceCaveat!==void 0?s.failIfMajorPerformanceCaveat:!1;let g=null,y=null;const b=[],v=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Nn,this.physicallyCorrectLights=!1,this.toneMapping=xr,this.toneMappingExposure=1;const _=this;let E=!1,M=0,S=0,C=null,A=-1,N=null;const D=new Nt,R=new Nt;let P=null,q=e.width,G=e.height,j=1,oe=null,Q=null;const W=new Nt(0,0,q,G),re=new Nt(0,0,q,G);let B=!1;const V=[],ce=new jc;let Te=!1,Le=!1,k=null;const $=new Ze,Z=new z,ie={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function _e(){return C===null?j:1}let te=t;function ee(O,ae){for(let me=0;me<O.length;me++){const de=O[me],Me=e.getContext(de,ae);if(Me!==null)return Me}return null}try{const O={alpha:n,depth:r,stencil:o,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:d,powerPreference:f,failIfMajorPerformanceCaveat:p};if(e.addEventListener("webglcontextlost",Gt,!1),e.addEventListener("webglcontextrestored",Mt,!1),te===null){const ae=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&ae.shift(),te=ee(ae,O),te===null)throw ee(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}te.getShaderPrecisionFormat===void 0&&(te.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let be,ye,ze,je,fe,we,Ne,Ge,De,F,U,pe,Re,Ce,ke,Qe,Pe,$e,Ve,J,Oe,Se,qe;function We(){be=new O4(te),ye=new A4(te,be,s),be.init(ye),Se=new pM(te,be,ye),ze=new r5(te,be,ye),V[0]=1029,je=new P4,fe=new XL,we=new a5(te,be,ze,fe,ye,Se,je),Ne=new R4(_),Ge=new z4(_),De=new QC(te,ye),qe=new E4(te,be,De,ye),F=new B4(te,De,je,qe),U=new I4(te,F,De,je),Ve=new F4(te,ye,we),Qe=new C4(fe),pe=new YL(_,Ne,Ge,be,ye,qe,Qe),Re=new c5(fe),Ce=new JL(fe),ke=new n5(be,ye),$e=new S4(_,Ne,ze,U,u),Pe=new fM(_,U,ye),J=new T4(te,be,je,ye),Oe=new U4(te,be,je,ye),je.programs=pe.programs,_.capabilities=ye,_.extensions=be,_.properties=fe,_.renderLists=Ce,_.shadowMap=Pe,_.state=ze,_.info=je}We();const ot=new l5(_,te);this.xr=ot,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const O=be.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=be.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return j},this.setPixelRatio=function(O){O!==void 0&&(j=O,this.setSize(q,G,!1))},this.getSize=function(O){return O.set(q,G)},this.setSize=function(O,ae,me){if(ot.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=O,G=ae,e.width=Math.floor(O*j),e.height=Math.floor(ae*j),me!==!1&&(e.style.width=O+"px",e.style.height=ae+"px"),this.setViewport(0,0,O,ae)},this.getDrawingBufferSize=function(O){return O.set(q*j,G*j).floor()},this.setDrawingBufferSize=function(O,ae,me){q=O,G=ae,j=me,e.width=Math.floor(O*me),e.height=Math.floor(ae*me),this.setViewport(0,0,O,ae)},this.getCurrentViewport=function(O){return O.copy(D)},this.getViewport=function(O){return O.copy(W)},this.setViewport=function(O,ae,me,de){O.isVector4?W.set(O.x,O.y,O.z,O.w):W.set(O,ae,me,de),ze.viewport(D.copy(W).multiplyScalar(j).floor())},this.getScissor=function(O){return O.copy(re)},this.setScissor=function(O,ae,me,de){O.isVector4?re.set(O.x,O.y,O.z,O.w):re.set(O,ae,me,de),ze.scissor(R.copy(re).multiplyScalar(j).floor())},this.getScissorTest=function(){return B},this.setScissorTest=function(O){ze.setScissorTest(B=O)},this.setOpaqueSort=function(O){oe=O},this.setTransparentSort=function(O){Q=O},this.getClearColor=function(O){return O.copy($e.getClearColor())},this.setClearColor=function(){$e.setClearColor.apply($e,arguments)},this.getClearAlpha=function(){return $e.getClearAlpha()},this.setClearAlpha=function(){$e.setClearAlpha.apply($e,arguments)},this.clear=function(O,ae,me){let de=0;(O===void 0||O)&&(de|=16384),(ae===void 0||ae)&&(de|=256),(me===void 0||me)&&(de|=1024),te.clear(de)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Gt,!1),e.removeEventListener("webglcontextrestored",Mt,!1),Ce.dispose(),ke.dispose(),fe.dispose(),Ne.dispose(),Ge.dispose(),U.dispose(),qe.dispose(),ot.dispose(),ot.removeEventListener("sessionstart",es),ot.removeEventListener("sessionend",ts),k&&(k.dispose(),k=null),Fn.stop()};function Gt(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function Mt(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const O=je.autoReset,ae=Pe.enabled,me=Pe.autoUpdate,de=Pe.needsUpdate,Me=Pe.type;We(),je.autoReset=O,Pe.enabled=ae,Pe.autoUpdate=me,Pe.needsUpdate=de,Pe.type=Me}function un(O){const ae=O.target;ae.removeEventListener("dispose",un),ut(ae)}function ut(O){Qn(O),fe.remove(O)}function Qn(O){const ae=fe.get(O).programs;ae!==void 0&&ae.forEach(function(me){pe.releaseProgram(me)})}this.renderBufferDirect=function(O,ae,me,de,Me,Ke){ae===null&&(ae=ie);const Fe=Me.isMesh&&Me.matrixWorld.determinant()<0,He=Na(O,ae,me,de,Me);ze.setMaterial(de,Fe);let nt=me.index;const wt=me.attributes.position;if(nt===null){if(wt===void 0||wt.count===0)return}else if(nt.count===0)return;let ht=1;de.wireframe===!0&&(nt=F.getWireframeAttribute(me),ht=2),qe.setup(Me,de,He,me,nt);let vt,kt=J;nt!==null&&(vt=De.get(nt),kt=Oe,kt.setIndex(vt));const Kn=nt!==null?nt.count:wt.count,xt=me.drawRange.start*ht,pi=me.drawRange.count*ht,St=Ke!==null?Ke.start*ht:0,$n=Ke!==null?Ke.count*ht:1/0,In=Math.max(xt,St),Ut=Math.min(Kn,xt+pi,St+$n)-1,Ai=Math.max(0,Ut-In+1);if(Ai!==0){if(Me.isMesh)de.wireframe===!0?(ze.setLineWidth(de.wireframeLinewidth*_e()),kt.setMode(1)):kt.setMode(4);else if(Me.isLine){let jt=de.linewidth;jt===void 0&&(jt=1),ze.setLineWidth(jt*_e()),Me.isLineSegments?kt.setMode(1):Me.isLineLoop?kt.setMode(2):kt.setMode(3)}else Me.isPoints?kt.setMode(0):Me.isSprite&&kt.setMode(4);if(Me.isInstancedMesh)kt.renderInstances(In,Ai,Me.count);else if(me.isInstancedBufferGeometry){const jt=Math.min(me.instanceCount,me._maxInstanceCount);kt.renderInstances(In,Ai,jt)}else kt.render(In,Ai)}},this.compile=function(O,ae){y=ke.get(O),y.init(),v.push(y),O.traverseVisible(function(me){me.isLight&&me.layers.test(ae.layers)&&(y.pushLight(me),me.castShadow&&y.pushShadow(me))}),y.setupLights(_.physicallyCorrectLights),O.traverse(function(me){const de=me.material;if(de)if(Array.isArray(de))for(let Me=0;Me<de.length;Me++){const Ke=de[Me];ss(Ke,O,me)}else ss(de,O,me)}),v.pop(),y=null};let Un=null;function al(O){Un&&Un(O)}function es(){Fn.stop()}function ts(){Fn.start()}const Fn=new nM;Fn.setAnimationLoop(al),typeof window<"u"&&Fn.setContext(window),this.setAnimationLoop=function(O){Un=O,ot.setAnimationLoop(O),O===null?Fn.stop():Fn.start()},ot.addEventListener("sessionstart",es),ot.addEventListener("sessionend",ts),this.render=function(O,ae){if(ae!==void 0&&ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;O.autoUpdate===!0&&O.updateMatrixWorld(),ae.parent===null&&ae.updateMatrixWorld(),ot.enabled===!0&&ot.isPresenting===!0&&(ot.cameraAutoUpdate===!0&&ot.updateCamera(ae),ae=ot.getCamera()),O.isScene===!0&&O.onBeforeRender(_,O,ae,C),y=ke.get(O,v.length),y.init(),v.push(y),$.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),ce.setFromProjectionMatrix($),Le=this.localClippingEnabled,Te=Qe.init(this.clippingPlanes,Le,ae),g=Ce.get(O,b.length),g.init(),b.push(g),fi(O,ae,0,_.sortObjects),g.finish(),_.sortObjects===!0&&g.sort(oe,Q),Te===!0&&Qe.beginShadows();const me=y.state.shadowsArray;if(Pe.render(me,O,ae),Te===!0&&Qe.endShadows(),this.info.autoReset===!0&&this.info.reset(),$e.render(g,O),y.setupLights(_.physicallyCorrectLights),ae.isArrayCamera){const de=ae.cameras;for(let Me=0,Ke=de.length;Me<Ke;Me++){const Fe=de[Me];ns(g,O,Fe,Fe.viewport)}}else ns(g,O,ae);C!==null&&(we.updateMultisampleRenderTarget(C),we.updateRenderTargetMipmap(C)),O.isScene===!0&&O.onAfterRender(_,O,ae),ze.buffers.depth.setTest(!0),ze.buffers.depth.setMask(!0),ze.buffers.color.setMask(!0),ze.setPolygonOffset(!1),qe.resetDefaultState(),A=-1,N=null,v.pop(),v.length>0?y=v[v.length-1]:y=null,b.pop(),b.length>0?g=b[b.length-1]:g=null};function fi(O,ae,me,de){if(O.visible===!1)return;if(O.layers.test(ae.layers)){if(O.isGroup)me=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(ae);else if(O.isLight)y.pushLight(O),O.castShadow&&y.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||ce.intersectsSprite(O)){de&&Z.setFromMatrixPosition(O.matrixWorld).applyMatrix4($);const Fe=U.update(O),He=O.material;He.visible&&g.push(O,Fe,He,me,Z.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(O.isSkinnedMesh&&O.skeleton.frame!==je.render.frame&&(O.skeleton.update(),O.skeleton.frame=je.render.frame),!O.frustumCulled||ce.intersectsObject(O))){de&&Z.setFromMatrixPosition(O.matrixWorld).applyMatrix4($);const Fe=U.update(O),He=O.material;if(Array.isArray(He)){const nt=Fe.groups;for(let wt=0,ht=nt.length;wt<ht;wt++){const vt=nt[wt],kt=He[vt.materialIndex];kt&&kt.visible&&g.push(O,Fe,kt,me,Z.z,vt)}}else He.visible&&g.push(O,Fe,He,me,Z.z,null)}}const Ke=O.children;for(let Fe=0,He=Ke.length;Fe<He;Fe++)fi(Ke[Fe],ae,me,de)}function ns(O,ae,me,de){const Me=O.opaque,Ke=O.transmissive,Fe=O.transparent;y.setupLightsView(me),Ke.length>0&&is(Me,ae,me),de&&ze.viewport(D.copy(de)),Me.length>0&&js(Me,ae,me),Ke.length>0&&js(Ke,ae,me),Fe.length>0&&js(Fe,ae,me)}function is(O,ae,me){if(k===null){const Fe=l===!0&&ye.isWebGL2===!0?q0:Bi;k=new Fe(1024,1024,{generateMipmaps:!0,type:Se.convert(sa)!==null?sa:Ds,minFilter:_a,magFilter:ln,wrapS:An,wrapT:An})}const de=_.getRenderTarget();_.setRenderTarget(k),_.clear();const Me=_.toneMapping;_.toneMapping=xr,js(O,ae,me),_.toneMapping=Me,we.updateMultisampleRenderTarget(k),we.updateRenderTargetMipmap(k),_.setRenderTarget(de)}function js(O,ae,me){const de=ae.isScene===!0?ae.overrideMaterial:null;for(let Me=0,Ke=O.length;Me<Ke;Me++){const Fe=O[Me],He=Fe.object,nt=Fe.geometry,wt=de===null?Fe.material:de,ht=Fe.group;He.layers.test(me.layers)&&Ra(He,ae,me,nt,wt,ht)}}function Ra(O,ae,me,de,Me,Ke){O.onBeforeRender(_,ae,me,de,Me,Ke),O.modelViewMatrix.multiplyMatrices(me.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),Me.onBeforeRender(_,ae,me,de,O,Ke),Me.transparent===!0&&Me.side===ha?(Me.side=$t,Me.needsUpdate=!0,_.renderBufferDirect(me,ae,de,Me,O,Ke),Me.side=ua,Me.needsUpdate=!0,_.renderBufferDirect(me,ae,de,Me,O,Ke),Me.side=ha):_.renderBufferDirect(me,ae,de,Me,O,Ke),O.onAfterRender(_,ae,me,de,Me,Ke)}function ss(O,ae,me){ae.isScene!==!0&&(ae=ie);const de=fe.get(O),Me=y.state.lights,Ke=y.state.shadowsArray,Fe=Me.state.version,He=pe.getParameters(O,Me.state,Ke,ae,me),nt=pe.getProgramCacheKey(He);let wt=de.programs;de.environment=O.isMeshStandardMaterial?ae.environment:null,de.fog=ae.fog,de.envMap=(O.isMeshStandardMaterial?Ge:Ne).get(O.envMap||de.environment),wt===void 0&&(O.addEventListener("dispose",un),wt=new Map,de.programs=wt);let ht=wt.get(nt);if(ht!==void 0){if(de.currentProgram===ht&&de.lightsStateVersion===Fe)return ji(O,He),ht}else He.uniforms=pe.getUniforms(O),O.onBuild(me,He,_),O.onBeforeCompile(He,_),ht=pe.acquireProgram(He,nt),wt.set(nt,ht),de.uniforms=He.uniforms;const vt=de.uniforms;(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(vt.clippingPlanes=Qe.uniform),ji(O,He),de.needsLights=Ae(O),de.lightsStateVersion=Fe,de.needsLights&&(vt.ambientLightColor.value=Me.state.ambient,vt.lightProbe.value=Me.state.probe,vt.directionalLights.value=Me.state.directional,vt.directionalLightShadows.value=Me.state.directionalShadow,vt.spotLights.value=Me.state.spot,vt.spotLightShadows.value=Me.state.spotShadow,vt.rectAreaLights.value=Me.state.rectArea,vt.ltc_1.value=Me.state.rectAreaLTC1,vt.ltc_2.value=Me.state.rectAreaLTC2,vt.pointLights.value=Me.state.point,vt.pointLightShadows.value=Me.state.pointShadow,vt.hemisphereLights.value=Me.state.hemi,vt.directionalShadowMap.value=Me.state.directionalShadowMap,vt.directionalShadowMatrix.value=Me.state.directionalShadowMatrix,vt.spotShadowMap.value=Me.state.spotShadowMap,vt.spotShadowMatrix.value=Me.state.spotShadowMatrix,vt.pointShadowMap.value=Me.state.pointShadowMap,vt.pointShadowMatrix.value=Me.state.pointShadowMatrix);const kt=ht.getUniforms(),Kn=vr.seqWithValue(kt.seq,vt);return de.currentProgram=ht,de.uniformsList=Kn,ht}function ji(O,ae){const me=fe.get(O);me.outputEncoding=ae.outputEncoding,me.instancing=ae.instancing,me.skinning=ae.skinning,me.morphTargets=ae.morphTargets,me.morphNormals=ae.morphNormals,me.morphTargetsCount=ae.morphTargetsCount,me.numClippingPlanes=ae.numClippingPlanes,me.numIntersection=ae.numClipIntersection,me.vertexAlphas=ae.vertexAlphas,me.vertexTangents=ae.vertexTangents}function Na(O,ae,me,de,Me){ae.isScene!==!0&&(ae=ie),we.resetTextureUnits();const Ke=ae.fog,Fe=de.isMeshStandardMaterial?ae.environment:null,He=C===null?_.outputEncoding:C.texture.encoding,nt=(de.isMeshStandardMaterial?Ge:Ne).get(de.envMap||Fe),wt=de.vertexColors===!0&&!!me.attributes.color&&me.attributes.color.itemSize===4,ht=!!de.normalMap&&!!me.attributes.tangent,vt=!!me.morphAttributes.position,kt=!!me.morphAttributes.normal,Kn=me.morphAttributes.position?me.morphAttributes.position.length:0,xt=fe.get(de),pi=y.state.lights;if(Te===!0&&(Le===!0||O!==N)){const mn=O===N&&de.id===A;Qe.setState(de,O,mn)}let St=!1;de.version===xt.__version?(xt.needsLights&&xt.lightsStateVersion!==pi.state.version||xt.outputEncoding!==He||Me.isInstancedMesh&&xt.instancing===!1||!Me.isInstancedMesh&&xt.instancing===!0||Me.isSkinnedMesh&&xt.skinning===!1||!Me.isSkinnedMesh&&xt.skinning===!0||xt.envMap!==nt||de.fog&&xt.fog!==Ke||xt.numClippingPlanes!==void 0&&(xt.numClippingPlanes!==Qe.numPlanes||xt.numIntersection!==Qe.numIntersection)||xt.vertexAlphas!==wt||xt.vertexTangents!==ht||xt.morphTargets!==vt||xt.morphNormals!==kt||ye.isWebGL2===!0&&xt.morphTargetsCount!==Kn)&&(St=!0):(St=!0,xt.__version=de.version);let $n=xt.currentProgram;St===!0&&($n=ss(de,ae,Me));let In=!1,Ut=!1,Ai=!1;const jt=$n.getUniforms(),ei=xt.uniforms;if(ze.useProgram($n.program)&&(In=!0,Ut=!0,Ai=!0),de.id!==A&&(A=de.id,Ut=!0),In||N!==O){if(jt.setValue(te,"projectionMatrix",O.projectionMatrix),ye.logarithmicDepthBuffer&&jt.setValue(te,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),N!==O&&(N=O,Ut=!0,Ai=!0),de.isShaderMaterial||de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshStandardMaterial||de.envMap){const mn=jt.map.cameraPosition;mn!==void 0&&mn.setValue(te,Z.setFromMatrixPosition(O.matrixWorld))}(de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshLambertMaterial||de.isMeshBasicMaterial||de.isMeshStandardMaterial||de.isShaderMaterial)&&jt.setValue(te,"isOrthographic",O.isOrthographicCamera===!0),(de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshLambertMaterial||de.isMeshBasicMaterial||de.isMeshStandardMaterial||de.isShaderMaterial||de.isShadowMaterial||Me.isSkinnedMesh)&&jt.setValue(te,"viewMatrix",O.matrixWorldInverse)}if(Me.isSkinnedMesh){jt.setOptional(te,Me,"bindMatrix"),jt.setOptional(te,Me,"bindMatrixInverse");const mn=Me.skeleton;mn&&(ye.floatVertexTextures?(mn.boneTexture===null&&mn.computeBoneTexture(),jt.setValue(te,"boneTexture",mn.boneTexture,we),jt.setValue(te,"boneTextureSize",mn.boneTextureSize)):jt.setOptional(te,mn,"boneMatrices"))}return me&&(me.morphAttributes.position!==void 0||me.morphAttributes.normal!==void 0)&&Ve.update(Me,me,de,$n),(Ut||xt.receiveShadow!==Me.receiveShadow)&&(xt.receiveShadow=Me.receiveShadow,jt.setValue(te,"receiveShadow",Me.receiveShadow)),Ut&&(jt.setValue(te,"toneMappingExposure",_.toneMappingExposure),xt.needsLights&&Y(ei,Ai),Ke&&de.fog&&Re.refreshFogUniforms(ei,Ke),Re.refreshMaterialUniforms(ei,de,j,G,k),vr.upload(te,xt.uniformsList,ei,we)),de.isShaderMaterial&&de.uniformsNeedUpdate===!0&&(vr.upload(te,xt.uniformsList,ei,we),de.uniformsNeedUpdate=!1),de.isSpriteMaterial&&jt.setValue(te,"center",Me.center),jt.setValue(te,"modelViewMatrix",Me.modelViewMatrix),jt.setValue(te,"normalMatrix",Me.normalMatrix),jt.setValue(te,"modelMatrix",Me.matrixWorld),$n}function Y(O,ae){O.ambientLightColor.needsUpdate=ae,O.lightProbe.needsUpdate=ae,O.directionalLights.needsUpdate=ae,O.directionalLightShadows.needsUpdate=ae,O.pointLights.needsUpdate=ae,O.pointLightShadows.needsUpdate=ae,O.spotLights.needsUpdate=ae,O.spotLightShadows.needsUpdate=ae,O.rectAreaLights.needsUpdate=ae,O.hemisphereLights.needsUpdate=ae}function Ae(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return C},this.setRenderTarget=function(O,ae=0,me=0){C=O,M=ae,S=me,O&&fe.get(O).__webglFramebuffer===void 0&&we.setupRenderTarget(O);let de=null,Me=!1,Ke=!1;if(O){const He=O.texture;(He.isDataTexture3D||He.isDataTexture2DArray)&&(Ke=!0);const nt=fe.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(de=nt[ae],Me=!0):O.isWebGLMultisampleRenderTarget?de=fe.get(O).__webglMultisampledFramebuffer:de=nt,D.copy(O.viewport),R.copy(O.scissor),P=O.scissorTest}else D.copy(W).multiplyScalar(j).floor(),R.copy(re).multiplyScalar(j).floor(),P=B;if(ze.bindFramebuffer(36160,de)&&ye.drawBuffers){let He=!1;if(O)if(O.isWebGLMultipleRenderTargets){const nt=O.texture;if(V.length!==nt.length||V[0]!==36064){for(let wt=0,ht=nt.length;wt<ht;wt++)V[wt]=36064+wt;V.length=nt.length,He=!0}}else(V.length!==1||V[0]!==36064)&&(V[0]=36064,V.length=1,He=!0);else(V.length!==1||V[0]!==1029)&&(V[0]=1029,V.length=1,He=!0);He&&(ye.isWebGL2?te.drawBuffers(V):be.get("WEBGL_draw_buffers").drawBuffersWEBGL(V))}if(ze.viewport(D),ze.scissor(R),ze.setScissorTest(P),Me){const He=fe.get(O.texture);te.framebufferTexture2D(36160,36064,34069+ae,He.__webglTexture,me)}else if(Ke){const He=fe.get(O.texture),nt=ae||0;te.framebufferTextureLayer(36160,36064,He.__webglTexture,me||0,nt)}A=-1},this.readRenderTargetPixels=function(O,ae,me,de,Me,Ke,Fe){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let He=fe.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&Fe!==void 0&&(He=He[Fe]),He){ze.bindFramebuffer(36160,He);try{const nt=O.texture,wt=nt.format,ht=nt.type;if(wt!==Cn&&Se.convert(wt)!==te.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const vt=ht===sa&&(be.has("EXT_color_buffer_half_float")||ye.isWebGL2&&be.has("EXT_color_buffer_float"));if(ht!==Ds&&Se.convert(ht)!==te.getParameter(35738)&&!(ht===Yi&&(ye.isWebGL2||be.has("OES_texture_float")||be.has("WEBGL_color_buffer_float")))&&!vt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}te.checkFramebufferStatus(36160)===36053?ae>=0&&ae<=O.width-de&&me>=0&&me<=O.height-Me&&te.readPixels(ae,me,de,Me,Se.convert(wt),Se.convert(ht),Ke):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const nt=C!==null?fe.get(C).__webglFramebuffer:null;ze.bindFramebuffer(36160,nt)}}},this.copyFramebufferToTexture=function(O,ae,me=0){const de=Math.pow(2,-me),Me=Math.floor(ae.image.width*de),Ke=Math.floor(ae.image.height*de);let Fe=Se.convert(ae.format);ye.isWebGL2&&(Fe===6407&&(Fe=32849),Fe===6408&&(Fe=32856)),we.setTexture2D(ae,0),te.copyTexImage2D(3553,me,Fe,O.x,O.y,Me,Ke,0),ze.unbindTexture()},this.copyTextureToTexture=function(O,ae,me,de=0){const Me=ae.image.width,Ke=ae.image.height,Fe=Se.convert(me.format),He=Se.convert(me.type);we.setTexture2D(me,0),te.pixelStorei(37440,me.flipY),te.pixelStorei(37441,me.premultiplyAlpha),te.pixelStorei(3317,me.unpackAlignment),ae.isDataTexture?te.texSubImage2D(3553,de,O.x,O.y,Me,Ke,Fe,He,ae.image.data):ae.isCompressedTexture?te.compressedTexSubImage2D(3553,de,O.x,O.y,ae.mipmaps[0].width,ae.mipmaps[0].height,Fe,ae.mipmaps[0].data):te.texSubImage2D(3553,de,O.x,O.y,Fe,He,ae.image),de===0&&me.generateMipmaps&&te.generateMipmap(3553),ze.unbindTexture()},this.copyTextureToTexture3D=function(O,ae,me,de,Me=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ke=O.max.x-O.min.x+1,Fe=O.max.y-O.min.y+1,He=O.max.z-O.min.z+1,nt=Se.convert(de.format),wt=Se.convert(de.type);let ht;if(de.isDataTexture3D)we.setTexture3D(de,0),ht=32879;else if(de.isDataTexture2DArray)we.setTexture2DArray(de,0),ht=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}te.pixelStorei(37440,de.flipY),te.pixelStorei(37441,de.premultiplyAlpha),te.pixelStorei(3317,de.unpackAlignment);const vt=te.getParameter(3314),kt=te.getParameter(32878),Kn=te.getParameter(3316),xt=te.getParameter(3315),pi=te.getParameter(32877),St=me.isCompressedTexture?me.mipmaps[0]:me.image;te.pixelStorei(3314,St.width),te.pixelStorei(32878,St.height),te.pixelStorei(3316,O.min.x),te.pixelStorei(3315,O.min.y),te.pixelStorei(32877,O.min.z),me.isDataTexture||me.isDataTexture3D?te.texSubImage3D(ht,Me,ae.x,ae.y,ae.z,Ke,Fe,He,nt,wt,St.data):me.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),te.compressedTexSubImage3D(ht,Me,ae.x,ae.y,ae.z,Ke,Fe,He,nt,St.data)):te.texSubImage3D(ht,Me,ae.x,ae.y,ae.z,Ke,Fe,He,nt,wt,St),te.pixelStorei(3314,vt),te.pixelStorei(32878,kt),te.pixelStorei(3316,Kn),te.pixelStorei(3315,xt),te.pixelStorei(32877,pi),Me===0&&de.generateMipmaps&&te.generateMipmap(ht),ze.unbindTexture()},this.initTexture=function(O){we.setTexture2D(O,0),ze.unbindTexture()},this.resetState=function(){M=0,S=0,C=null,ze.reset(),qe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Lt.prototype.isWebGLRenderer=!0;class mM extends Lt{}mM.prototype.isWebGL1Renderer=!0;class Ic{constructor(e,t=25e-5){this.name="",this.color=new Ue(e),this.density=t}clone(){return new Ic(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}Ic.prototype.isFogExp2=!0;class Hc{constructor(e,t=1,n=1e3){this.name="",this.color=new Ue(e),this.near=t,this.far=n}clone(){return new Hc(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}Hc.prototype.isFog=!0;class Ad extends pt{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}Ad.prototype.isScene=!0;class Ea{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Po,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ui()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,o=this.stride;r<o;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ui()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ui()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Ea.prototype.isInterleavedBuffer=!0;const Qt=new z;class _r{constructor(e,t,n,r=!1){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Qt.x=this.getX(t),Qt.y=this.getY(t),Qt.z=this.getZ(t),Qt.applyMatrix4(e),this.setXYZ(t,Qt.x,Qt.y,Qt.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Qt.x=this.getX(t),Qt.y=this.getY(t),Qt.z=this.getZ(t),Qt.applyNormalMatrix(e),this.setXYZ(t,Qt.x,Qt.y,Qt.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Qt.x=this.getX(t),Qt.y=this.getY(t),Qt.z=this.getZ(t),Qt.transformDirection(e),this.setXYZ(t,Qt.x,Qt.y,Qt.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return new bt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new _r(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}_r.prototype.isInterleavedBufferAttribute=!0;class Cd extends vn{constructor(e){super(),this.type="SpriteMaterial",this.color=new Ue(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}Cd.prototype.isSpriteMaterial=!0;let To;const nc=new z,Ao=new z,Co=new z,Ro=new Ee,ic=new Ee,gM=new Ze,Nh=new z,sc=new z,Lh=new z,_1=new Ee,Um=new Ee,M1=new Ee;class Rd extends pt{constructor(e){if(super(),this.type="Sprite",To===void 0){To=new tt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Ea(t,5);To.setIndex([0,1,2,0,2,3]),To.setAttribute("position",new _r(n,3,0,!1)),To.setAttribute("uv",new _r(n,2,3,!1))}this.geometry=To,this.material=e!==void 0?e:new Cd,this.center=new Ee(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ao.setFromMatrixScale(this.matrixWorld),gM.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Co.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ao.multiplyScalar(-Co.z);const n=this.material.rotation;let r,o;n!==0&&(o=Math.cos(n),r=Math.sin(n));const l=this.center;Dh(Nh.set(-.5,-.5,0),Co,l,Ao,r,o),Dh(sc.set(.5,-.5,0),Co,l,Ao,r,o),Dh(Lh.set(.5,.5,0),Co,l,Ao,r,o),_1.set(0,0),Um.set(1,0),M1.set(1,1);let u=e.ray.intersectTriangle(Nh,sc,Lh,!1,nc);if(u===null&&(Dh(sc.set(-.5,.5,0),Co,l,Ao,r,o),Um.set(0,1),u=e.ray.intersectTriangle(Nh,Lh,sc,!1,nc),u===null))return;const d=e.ray.origin.distanceTo(nc);d<e.near||d>e.far||t.push({distance:d,point:nc.clone(),uv:en.getUV(nc,Nh,sc,Lh,_1,Um,M1,new Ee),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}Rd.prototype.isSprite=!0;function Dh(s,e,t,n,r,o){Ro.subVectors(s,t).addScalar(.5).multiply(n),r!==void 0?(ic.x=o*Ro.x-r*Ro.y,ic.y=r*Ro.x+o*Ro.y):ic.copy(Ro),s.copy(e),s.x+=ic.x,s.y+=ic.y,s.applyMatrix4(gM)}const zh=new z,S1=new z;class xM extends pt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const o=t[n];this.addLevel(o.object.clone(),o.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const n=this.levels;let r;for(r=0;r<n.length&&!(t<n[r].distance);r++);return n.splice(r,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){zh.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(zh);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){zh.setFromMatrixPosition(e.matrixWorld),S1.setFromMatrixPosition(this.matrixWorld);const n=zh.distanceTo(S1)/e.zoom;t[0].object.visible=!0;let r,o;for(r=1,o=t.length;r<o&&n>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(this._currentLevel=r-1;r<o;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,o=n.length;r<o;r++){const l=n[r];t.object.levels.push({object:l.object.uuid,distance:l.distance})}return t}}const E1=new z,T1=new Nt,A1=new Nt,h5=new z,C1=new Ze;class Nd extends cn{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ze,this.bindMatrixInverse=new Ze}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Nt,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,r=this.geometry;T1.fromBufferAttribute(r.attributes.skinIndex,e),A1.fromBufferAttribute(r.attributes.skinWeight,e),E1.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const l=A1.getComponent(o);if(l!==0){const u=T1.getComponent(o);C1.multiplyMatrices(n.bones[u].matrixWorld,n.boneInverses[u]),t.addScaledVector(h5.copy(E1).applyMatrix4(C1),l)}}return t.applyMatrix4(this.bindMatrixInverse)}}Nd.prototype.isSkinnedMesh=!0;class Ld extends pt{constructor(){super(),this.type="Bone"}}Ld.prototype.isBone=!0;class la extends Bn{constructor(e=null,t=1,n=1,r,o,l,u,d,f=ln,p=ln,g,y){super(null,l,u,d,f,p,r,o,g,y),this.image={data:e,width:t,height:n},this.magFilter=f,this.minFilter=p,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}la.prototype.isDataTexture=!0;const R1=new Ze,d5=new Ze;class Dd{constructor(e=[],t=[]){this.uuid=ui(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Ze)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Ze;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let o=0,l=e.length;o<l;o++){const u=e[o]?e[o].matrixWorld:d5;R1.multiplyMatrices(u,t[o]),R1.toArray(n,o*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Dd(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=H2(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new la(t,e,e,Cn,Yi);return this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const o=e.bones[n];let l=t[o];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),l=new Ld),this.bones.push(l),this.boneInverses.push(new Ze().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,o=t.length;r<o;r++){const l=t[r];e.bones.push(l.uuid);const u=n[r];e.boneInverses.push(u.toArray())}return e}}class fa extends bt{constructor(e,t,n,r=1){typeof n=="number"&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,n),this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}fa.prototype.isInstancedBufferAttribute=!0;const N1=new Ze,L1=new Ze,Oh=[],rc=new cn;class K0 extends cn{constructor(e,t,n){super(e,t),this.instanceMatrix=new fa(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(rc.geometry=this.geometry,rc.material=this.material,rc.material!==void 0)for(let o=0;o<r;o++){this.getMatrixAt(o,N1),L1.multiplyMatrices(n,N1),rc.matrixWorld=L1,rc.raycast(e,Oh);for(let l=0,u=Oh.length;l<u;l++){const d=Oh[l];d.instanceId=o,d.object=this,t.push(d)}Oh.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new fa(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}K0.prototype.isInstancedMesh=!0;class bn extends vn{constructor(e){super(),this.type="LineBasicMaterial",this.color=new Ue(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}bn.prototype.isLineBasicMaterial=!0;const D1=new z,z1=new z,O1=new Ze,Pm=new Cr,Bh=new Ar;class Bs extends pt{constructor(e=new tt,t=new bn){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,o=t.count;r<o;r++)D1.fromBufferAttribute(t,r-1),z1.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=D1.distanceTo(z1);e.setAttribute("lineDistance",new Xe(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,l=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Bh.copy(n.boundingSphere),Bh.applyMatrix4(r),Bh.radius+=o,e.ray.intersectsSphere(Bh)===!1)return;O1.copy(r).invert(),Pm.copy(e.ray).applyMatrix4(O1);const u=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=u*u,f=new z,p=new z,g=new z,y=new z,b=this.isLineSegments?2:1;if(n.isBufferGeometry){const v=n.index,E=n.attributes.position;if(v!==null){const M=Math.max(0,l.start),S=Math.min(v.count,l.start+l.count);for(let C=M,A=S-1;C<A;C+=b){const N=v.getX(C),D=v.getX(C+1);if(f.fromBufferAttribute(E,N),p.fromBufferAttribute(E,D),Pm.distanceSqToSegment(f,p,y,g)>d)continue;y.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(y);P<e.near||P>e.far||t.push({distance:P,point:g.clone().applyMatrix4(this.matrixWorld),index:C,face:null,faceIndex:null,object:this})}}else{const M=Math.max(0,l.start),S=Math.min(E.count,l.start+l.count);for(let C=M,A=S-1;C<A;C+=b){if(f.fromBufferAttribute(E,C),p.fromBufferAttribute(E,C+1),Pm.distanceSqToSegment(f,p,y,g)>d)continue;y.applyMatrix4(this.matrixWorld);const D=e.ray.origin.distanceTo(y);D<e.near||D>e.far||t.push({distance:D,point:g.clone().applyMatrix4(this.matrixWorld),index:C,face:null,faceIndex:null,object:this})}}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=r.length;o<l;o++){const u=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Bs.prototype.isLine=!0;const B1=new z,U1=new z;class Jn extends Bs{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,o=t.count;r<o;r+=2)B1.fromBufferAttribute(t,r),U1.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+B1.distanceTo(U1);e.setAttribute("lineDistance",new Xe(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Jn.prototype.isLineSegments=!0;class $0 extends Bs{constructor(e,t){super(e,t),this.type="LineLoop"}}$0.prototype.isLineLoop=!0;class Ta extends vn{constructor(e){super(),this.type="PointsMaterial",this.color=new Ue(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}Ta.prototype.isPointsMaterial=!0;const P1=new Ze,v0=new Cr,Uh=new Ar,Ph=new z;class Gc extends pt{constructor(e=new tt,t=new Ta){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Points.threshold,l=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Uh.copy(n.boundingSphere),Uh.applyMatrix4(r),Uh.radius+=o,e.ray.intersectsSphere(Uh)===!1)return;P1.copy(r).invert(),v0.copy(e.ray).applyMatrix4(P1);const u=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=u*u;if(n.isBufferGeometry){const f=n.index,g=n.attributes.position;if(f!==null){const y=Math.max(0,l.start),b=Math.min(f.count,l.start+l.count);for(let v=y,_=b;v<_;v++){const E=f.getX(v);Ph.fromBufferAttribute(g,E),k1(Ph,E,d,r,e,t,this)}}else{const y=Math.max(0,l.start),b=Math.min(g.count,l.start+l.count);for(let v=y,_=b;v<_;v++)Ph.fromBufferAttribute(g,v),k1(Ph,v,d,r,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=r.length;o<l;o++){const u=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Gc.prototype.isPoints=!0;function k1(s,e,t,n,r,o,l){const u=v0.distanceSqToPoint(s);if(u<t){const d=new z;v0.closestPointToPoint(s,d),d.applyMatrix4(n);const f=r.ray.origin.distanceTo(d);if(f<r.near||f>r.far)return;o.push({distance:f,distanceToRay:Math.sqrt(u),point:d,index:e,face:null,object:l})}}class yM extends Bn{constructor(e,t,n,r,o,l,u,d,f){super(e,t,n,r,o,l,u,d,f),this.format=u!==void 0?u:ra,this.minFilter=l!==void 0?l:dn,this.magFilter=o!==void 0?o:dn,this.generateMipmaps=!1;const p=this;function g(){p.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}yM.prototype.isVideoTexture=!0;class eg extends Bn{constructor(e,t,n,r,o,l,u,d,f,p,g,y){super(null,l,u,d,f,p,r,o,g,y),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}eg.prototype.isCompressedTexture=!0;class vM extends Bn{constructor(e,t,n,r,o,l,u,d,f){super(e,t,n,r,o,l,u,d,f),this.needsUpdate=!0}}vM.prototype.isCanvasTexture=!0;class bM extends Bn{constructor(e,t,n,r,o,l,u,d,f,p){if(p=p!==void 0?p:aa,p!==aa&&p!==Uo)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&p===aa&&(n=vc),n===void 0&&p===Uo&&(n=Oo),super(null,r,o,l,u,d,p,n,f),this.image={width:e,height:t},this.magFilter=u!==void 0?u:ln,this.minFilter=d!==void 0?d:ln,this.flipY=!1,this.generateMipmaps=!1}}bM.prototype.isDepthTexture=!0;class Fo extends tt{constructor(e=1,t=8,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const o=[],l=[],u=[],d=[],f=new z,p=new Ee;l.push(0,0,0),u.push(0,0,1),d.push(.5,.5);for(let g=0,y=3;g<=t;g++,y+=3){const b=n+g/t*r;f.x=e*Math.cos(b),f.y=e*Math.sin(b),l.push(f.x,f.y,f.z),u.push(0,0,1),p.x=(l[y]/e+1)/2,p.y=(l[y+1]/e+1)/2,d.push(p.x,p.y)}for(let g=1;g<=t;g++)o.push(g,g+1,0);this.setIndex(o),this.setAttribute("position",new Xe(l,3)),this.setAttribute("normal",new Xe(u,3)),this.setAttribute("uv",new Xe(d,2))}static fromJSON(e){return new Fo(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Mr extends tt{constructor(e=1,t=1,n=1,r=8,o=1,l=!1,u=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:o,openEnded:l,thetaStart:u,thetaLength:d};const f=this;r=Math.floor(r),o=Math.floor(o);const p=[],g=[],y=[],b=[];let v=0;const _=[],E=n/2;let M=0;S(),l===!1&&(e>0&&C(!0),t>0&&C(!1)),this.setIndex(p),this.setAttribute("position",new Xe(g,3)),this.setAttribute("normal",new Xe(y,3)),this.setAttribute("uv",new Xe(b,2));function S(){const A=new z,N=new z;let D=0;const R=(t-e)/n;for(let P=0;P<=o;P++){const q=[],G=P/o,j=G*(t-e)+e;for(let oe=0;oe<=r;oe++){const Q=oe/r,W=Q*d+u,re=Math.sin(W),B=Math.cos(W);N.x=j*re,N.y=-G*n+E,N.z=j*B,g.push(N.x,N.y,N.z),A.set(re,R,B).normalize(),y.push(A.x,A.y,A.z),b.push(Q,1-G),q.push(v++)}_.push(q)}for(let P=0;P<r;P++)for(let q=0;q<o;q++){const G=_[q][P],j=_[q+1][P],oe=_[q+1][P+1],Q=_[q][P+1];p.push(G,j,Q),p.push(j,oe,Q),D+=6}f.addGroup(M,D,0),M+=D}function C(A){const N=v,D=new Ee,R=new z;let P=0;const q=A===!0?e:t,G=A===!0?1:-1;for(let oe=1;oe<=r;oe++)g.push(0,E*G,0),y.push(0,G,0),b.push(.5,.5),v++;const j=v;for(let oe=0;oe<=r;oe++){const W=oe/r*d+u,re=Math.cos(W),B=Math.sin(W);R.x=q*B,R.y=E*G,R.z=q*re,g.push(R.x,R.y,R.z),y.push(0,G,0),D.x=re*.5+.5,D.y=B*.5*G+.5,b.push(D.x,D.y),v++}for(let oe=0;oe<r;oe++){const Q=N+oe,W=j+oe;A===!0?p.push(W,W+1,Q):p.push(W+1,W,Q),P+=3}f.addGroup(M,P,A===!0?1:2),M+=P}}static fromJSON(e){return new Mr(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Io extends Mr{constructor(e=1,t=1,n=8,r=1,o=!1,l=0,u=Math.PI*2){super(0,e,t,n,r,o,l,u),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:l,thetaLength:u}}static fromJSON(e){return new Io(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Qi extends tt{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const o=[],l=[];u(r),f(n),p(),this.setAttribute("position",new Xe(o,3)),this.setAttribute("normal",new Xe(o.slice(),3)),this.setAttribute("uv",new Xe(l,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function u(S){const C=new z,A=new z,N=new z;for(let D=0;D<t.length;D+=3)b(t[D+0],C),b(t[D+1],A),b(t[D+2],N),d(C,A,N,S)}function d(S,C,A,N){const D=N+1,R=[];for(let P=0;P<=D;P++){R[P]=[];const q=S.clone().lerp(A,P/D),G=C.clone().lerp(A,P/D),j=D-P;for(let oe=0;oe<=j;oe++)oe===0&&P===D?R[P][oe]=q:R[P][oe]=q.clone().lerp(G,oe/j)}for(let P=0;P<D;P++)for(let q=0;q<2*(D-P)-1;q++){const G=Math.floor(q/2);q%2===0?(y(R[P][G+1]),y(R[P+1][G]),y(R[P][G])):(y(R[P][G+1]),y(R[P+1][G+1]),y(R[P+1][G]))}}function f(S){const C=new z;for(let A=0;A<o.length;A+=3)C.x=o[A+0],C.y=o[A+1],C.z=o[A+2],C.normalize().multiplyScalar(S),o[A+0]=C.x,o[A+1]=C.y,o[A+2]=C.z}function p(){const S=new z;for(let C=0;C<o.length;C+=3){S.x=o[C+0],S.y=o[C+1],S.z=o[C+2];const A=E(S)/2/Math.PI+.5,N=M(S)/Math.PI+.5;l.push(A,1-N)}v(),g()}function g(){for(let S=0;S<l.length;S+=6){const C=l[S+0],A=l[S+2],N=l[S+4],D=Math.max(C,A,N),R=Math.min(C,A,N);D>.9&&R<.1&&(C<.2&&(l[S+0]+=1),A<.2&&(l[S+2]+=1),N<.2&&(l[S+4]+=1))}}function y(S){o.push(S.x,S.y,S.z)}function b(S,C){const A=S*3;C.x=e[A+0],C.y=e[A+1],C.z=e[A+2]}function v(){const S=new z,C=new z,A=new z,N=new z,D=new Ee,R=new Ee,P=new Ee;for(let q=0,G=0;q<o.length;q+=9,G+=6){S.set(o[q+0],o[q+1],o[q+2]),C.set(o[q+3],o[q+4],o[q+5]),A.set(o[q+6],o[q+7],o[q+8]),D.set(l[G+0],l[G+1]),R.set(l[G+2],l[G+3]),P.set(l[G+4],l[G+5]),N.copy(S).add(C).add(A).divideScalar(3);const j=E(N);_(D,G+0,S,j),_(R,G+2,C,j),_(P,G+4,A,j)}}function _(S,C,A,N){N<0&&S.x===1&&(l[C]=S.x-1),A.x===0&&A.z===0&&(l[C]=N/2/Math.PI+.5)}function E(S){return Math.atan2(S.z,-S.x)}function M(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}static fromJSON(e){return new Qi(e.vertices,e.indices,e.radius,e.details)}}class Ho extends Qi{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,l,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ho(e.radius,e.detail)}}const kh=new z,jh=new z,km=new z,Fh=new en;class tg extends tt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),o=Math.cos(oa*t),l=e.getIndex(),u=e.getAttribute("position"),d=l?l.count:u.count,f=[0,0,0],p=["a","b","c"],g=new Array(3),y={},b=[];for(let v=0;v<d;v+=3){l?(f[0]=l.getX(v),f[1]=l.getX(v+1),f[2]=l.getX(v+2)):(f[0]=v,f[1]=v+1,f[2]=v+2);const{a:_,b:E,c:M}=Fh;if(_.fromBufferAttribute(u,f[0]),E.fromBufferAttribute(u,f[1]),M.fromBufferAttribute(u,f[2]),Fh.getNormal(km),g[0]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,g[1]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,g[2]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let S=0;S<3;S++){const C=(S+1)%3,A=g[S],N=g[C],D=Fh[p[S]],R=Fh[p[C]],P=`${A}_${N}`,q=`${N}_${A}`;q in y&&y[q]?(km.dot(y[q].normal)<=o&&(b.push(D.x,D.y,D.z),b.push(R.x,R.y,R.z)),y[q]=null):P in y||(y[P]={index0:f[S],index1:f[C],normal:km.clone()})}}for(const v in y)if(y[v]){const{index0:_,index1:E}=y[v];kh.fromBufferAttribute(u,_),jh.fromBufferAttribute(u,E),b.push(kh.x,kh.y,kh.z),b.push(jh.x,jh.y,jh.z)}this.setAttribute("position",new Xe(b,3))}}}class hi{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),o=0;t.push(0);for(let l=1;l<=e;l++)n=this.getPoint(l/e),o+=n.distanceTo(r),t.push(o),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const o=n.length;let l;t?l=t:l=e*n[o-1];let u=0,d=o-1,f;for(;u<=d;)if(r=Math.floor(u+(d-u)/2),f=n[r]-l,f<0)u=r+1;else if(f>0)d=r-1;else{d=r;break}if(r=d,n[r]===l)return r/(o-1);const p=n[r],y=n[r+1]-p,b=(l-p)/y;return(r+b)/(o-1)}getTangent(e,t){let r=e-1e-4,o=e+1e-4;r<0&&(r=0),o>1&&(o=1);const l=this.getPoint(r),u=this.getPoint(o),d=t||(l.isVector2?new Ee:new z);return d.copy(u).sub(l).normalize(),d}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new z,r=[],o=[],l=[],u=new z,d=new Ze;for(let b=0;b<=e;b++){const v=b/e;r[b]=this.getTangentAt(v,new z)}o[0]=new z,l[0]=new z;let f=Number.MAX_VALUE;const p=Math.abs(r[0].x),g=Math.abs(r[0].y),y=Math.abs(r[0].z);p<=f&&(f=p,n.set(1,0,0)),g<=f&&(f=g,n.set(0,1,0)),y<=f&&n.set(0,0,1),u.crossVectors(r[0],n).normalize(),o[0].crossVectors(r[0],u),l[0].crossVectors(r[0],o[0]);for(let b=1;b<=e;b++){if(o[b]=o[b-1].clone(),l[b]=l[b-1].clone(),u.crossVectors(r[b-1],r[b]),u.length()>Number.EPSILON){u.normalize();const v=Math.acos(Tn(r[b-1].dot(r[b]),-1,1));o[b].applyMatrix4(d.makeRotationAxis(u,v))}l[b].crossVectors(r[b],o[b])}if(t===!0){let b=Math.acos(Tn(o[0].dot(o[e]),-1,1));b/=e,r[0].dot(u.crossVectors(o[0],o[e]))>0&&(b=-b);for(let v=1;v<=e;v++)o[v].applyMatrix4(d.makeRotationAxis(r[v],b*v)),l[v].crossVectors(r[v],o[v])}return{tangents:r,normals:o,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Vc extends hi{constructor(e=0,t=0,n=1,r=1,o=0,l=Math.PI*2,u=!1,d=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=l,this.aClockwise=u,this.aRotation=d}getPoint(e,t){const n=t||new Ee,r=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const l=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(l?o=0:o=r),this.aClockwise===!0&&!l&&(o===r?o=-r:o=o-r);const u=this.aStartAngle+e*o;let d=this.aX+this.xRadius*Math.cos(u),f=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const p=Math.cos(this.aRotation),g=Math.sin(this.aRotation),y=d-this.aX,b=f-this.aY;d=y*p-b*g+this.aX,f=y*g+b*p+this.aY}return n.set(d,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}Vc.prototype.isEllipseCurve=!0;class ng extends Vc{constructor(e,t,n,r,o,l){super(e,t,n,n,r,o,l),this.type="ArcCurve"}}ng.prototype.isArcCurve=!0;function ig(){let s=0,e=0,t=0,n=0;function r(o,l,u,d){s=o,e=u,t=-3*o+3*l-2*u-d,n=2*o-2*l+u+d}return{initCatmullRom:function(o,l,u,d,f){r(l,u,f*(u-o),f*(d-l))},initNonuniformCatmullRom:function(o,l,u,d,f,p,g){let y=(l-o)/f-(u-o)/(f+p)+(u-l)/p,b=(u-l)/p-(d-l)/(p+g)+(d-u)/g;y*=p,b*=p,r(l,u,y,b)},calc:function(o){const l=o*o,u=l*o;return s+e*o+t*l+n*u}}}const Ih=new z,jm=new ig,Fm=new ig,Im=new ig;class sg extends hi{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new z){const n=t,r=this.points,o=r.length,l=(o-(this.closed?0:1))*e;let u=Math.floor(l),d=l-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/o)+1)*o:d===0&&u===o-1&&(u=o-2,d=1);let f,p;this.closed||u>0?f=r[(u-1)%o]:(Ih.subVectors(r[0],r[1]).add(r[0]),f=Ih);const g=r[u%o],y=r[(u+1)%o];if(this.closed||u+2<o?p=r[(u+2)%o]:(Ih.subVectors(r[o-1],r[o-2]).add(r[o-1]),p=Ih),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let v=Math.pow(f.distanceToSquared(g),b),_=Math.pow(g.distanceToSquared(y),b),E=Math.pow(y.distanceToSquared(p),b);_<1e-4&&(_=1),v<1e-4&&(v=_),E<1e-4&&(E=_),jm.initNonuniformCatmullRom(f.x,g.x,y.x,p.x,v,_,E),Fm.initNonuniformCatmullRom(f.y,g.y,y.y,p.y,v,_,E),Im.initNonuniformCatmullRom(f.z,g.z,y.z,p.z,v,_,E)}else this.curveType==="catmullrom"&&(jm.initCatmullRom(f.x,g.x,y.x,p.x,this.tension),Fm.initCatmullRom(f.y,g.y,y.y,p.y,this.tension),Im.initCatmullRom(f.z,g.z,y.z,p.z,this.tension));return n.set(jm.calc(d),Fm.calc(d),Im.calc(d)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new z().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}sg.prototype.isCatmullRomCurve3=!0;function j1(s,e,t,n,r){const o=(n-e)*.5,l=(r-t)*.5,u=s*s,d=s*u;return(2*t-2*n+o+l)*d+(-3*t+3*n-2*o-l)*u+o*s+t}function f5(s,e){const t=1-s;return t*t*e}function p5(s,e){return 2*(1-s)*s*e}function m5(s,e){return s*s*e}function hc(s,e,t,n){return f5(s,e)+p5(s,t)+m5(s,n)}function g5(s,e){const t=1-s;return t*t*t*e}function x5(s,e){const t=1-s;return 3*t*t*s*e}function y5(s,e){return 3*(1-s)*s*s*e}function v5(s,e){return s*s*s*e}function dc(s,e,t,n,r){return g5(s,e)+x5(s,t)+y5(s,n)+v5(s,r)}class zd extends hi{constructor(e=new Ee,t=new Ee,n=new Ee,r=new Ee){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Ee){const n=t,r=this.v0,o=this.v1,l=this.v2,u=this.v3;return n.set(dc(e,r.x,o.x,l.x,u.x),dc(e,r.y,o.y,l.y,u.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}zd.prototype.isCubicBezierCurve=!0;class rg extends hi{constructor(e=new z,t=new z,n=new z,r=new z){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new z){const n=t,r=this.v0,o=this.v1,l=this.v2,u=this.v3;return n.set(dc(e,r.x,o.x,l.x,u.x),dc(e,r.y,o.y,l.y,u.y),dc(e,r.z,o.z,l.z,u.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}rg.prototype.isCubicBezierCurve3=!0;class Wc extends hi{constructor(e=new Ee,t=new Ee){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ee){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const n=t||new Ee;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Wc.prototype.isLineCurve=!0;class wM extends hi{constructor(e=new z,t=new z){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new z){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Od extends hi{constructor(e=new Ee,t=new Ee,n=new Ee){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ee){const n=t,r=this.v0,o=this.v1,l=this.v2;return n.set(hc(e,r.x,o.x,l.x),hc(e,r.y,o.y,l.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Od.prototype.isQuadraticBezierCurve=!0;class Bd extends hi{constructor(e=new z,t=new z,n=new z){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new z){const n=t,r=this.v0,o=this.v1,l=this.v2;return n.set(hc(e,r.x,o.x,l.x),hc(e,r.y,o.y,l.y),hc(e,r.z,o.z,l.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Bd.prototype.isQuadraticBezierCurve3=!0;class Ud extends hi{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new Ee){const n=t,r=this.points,o=(r.length-1)*e,l=Math.floor(o),u=o-l,d=r[l===0?l:l-1],f=r[l],p=r[l>r.length-2?r.length-1:l+1],g=r[l>r.length-3?r.length-1:l+2];return n.set(j1(u,d.x,f.x,p.x,g.x),j1(u,d.y,f.y,p.y,g.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new Ee().fromArray(r))}return this}}Ud.prototype.isSplineCurve=!0;var ag=Object.freeze({__proto__:null,ArcCurve:ng,CatmullRomCurve3:sg,CubicBezierCurve:zd,CubicBezierCurve3:rg,EllipseCurve:Vc,LineCurve:Wc,LineCurve3:wM,QuadraticBezierCurve:Od,QuadraticBezierCurve3:Bd,SplineCurve:Ud});class _M extends hi{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Wc(t,e))}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let o=0;for(;o<r.length;){if(r[o]>=n){const l=r[o]-n,u=this.curves[o],d=u.getLength(),f=d===0?0:1-l/d;return u.getPointAt(f,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,o=this.curves;r<o.length;r++){const l=o[r],u=l&&l.isEllipseCurve?e*2:l&&(l.isLineCurve||l.isLineCurve3)?1:l&&l.isSplineCurve?e*l.points.length:e,d=l.getPoints(u);for(let f=0;f<d.length;f++){const p=d[f];n&&n.equals(p)||(t.push(p),n=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new ag[r.type]().fromJSON(r))}return this}}class Sc extends _M{constructor(e){super(),this.type="Path",this.currentPoint=new Ee,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new Wc(this.currentPoint.clone(),new Ee(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const o=new Od(this.currentPoint.clone(),new Ee(e,t),new Ee(n,r));return this.curves.push(o),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,o,l){const u=new zd(this.currentPoint.clone(),new Ee(e,t),new Ee(n,r),new Ee(o,l));return this.curves.push(u),this.currentPoint.set(o,l),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Ud(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,o,l){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(e+u,t+d,n,r,o,l),this}absarc(e,t,n,r,o,l){return this.absellipse(e,t,n,n,r,o,l),this}ellipse(e,t,n,r,o,l,u,d){const f=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+f,t+p,n,r,o,l,u,d),this}absellipse(e,t,n,r,o,l,u,d){const f=new Vc(e,t,n,r,o,l,u,d);if(this.curves.length>0){const g=f.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(f);const p=f.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Xi extends Sc{constructor(e){super(e),this.uuid=ui(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new Sc().fromJSON(r))}return this}}const b5={triangulate:function(s,e,t=2){const n=e&&e.length,r=n?e[0]*t:s.length;let o=MM(s,0,r,t,!0);const l=[];if(!o||o.next===o.prev)return l;let u,d,f,p,g,y,b;if(n&&(o=E5(s,e,o,t)),s.length>80*t){u=f=s[0],d=p=s[1];for(let v=t;v<r;v+=t)g=s[v],y=s[v+1],g<u&&(u=g),y<d&&(d=y),g>f&&(f=g),y>p&&(p=y);b=Math.max(f-u,p-d),b=b!==0?1/b:0}return Ec(o,l,t,u,d,b),l}};function MM(s,e,t,n,r){let o,l;if(r===U5(s,e,t,n)>0)for(o=e;o<t;o+=n)l=F1(o,s[o],s[o+1],l);else for(o=t-n;o>=e;o-=n)l=F1(o,s[o],s[o+1],l);return l&&Pd(l,l.next)&&(Ac(l),l=l.next),l}function Sr(s,e){if(!s)return s;e||(e=s);let t=s,n;do if(n=!1,!t.steiner&&(Pd(t,t.next)||Wt(t.prev,t,t.next)===0)){if(Ac(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Ec(s,e,t,n,r,o,l){if(!s)return;!l&&o&&N5(s,n,r,o);let u=s,d,f;for(;s.prev!==s.next;){if(d=s.prev,f=s.next,o?_5(s,n,r,o):w5(s)){e.push(d.i/t),e.push(s.i/t),e.push(f.i/t),Ac(s),s=f.next,u=f.next;continue}if(s=f,s===u){l?l===1?(s=M5(Sr(s),e,t),Ec(s,e,t,n,r,o,2)):l===2&&S5(s,e,t,n,r,o):Ec(Sr(s),e,t,n,r,o,1);break}}}function w5(s){const e=s.prev,t=s,n=s.next;if(Wt(e,t,n)>=0)return!1;let r=s.next.next;for(;r!==s.prev;){if(Do(e.x,e.y,t.x,t.y,n.x,n.y,r.x,r.y)&&Wt(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function _5(s,e,t,n){const r=s.prev,o=s,l=s.next;if(Wt(r,o,l)>=0)return!1;const u=r.x<o.x?r.x<l.x?r.x:l.x:o.x<l.x?o.x:l.x,d=r.y<o.y?r.y<l.y?r.y:l.y:o.y<l.y?o.y:l.y,f=r.x>o.x?r.x>l.x?r.x:l.x:o.x>l.x?o.x:l.x,p=r.y>o.y?r.y>l.y?r.y:l.y:o.y>l.y?o.y:l.y,g=b0(u,d,e,t,n),y=b0(f,p,e,t,n);let b=s.prevZ,v=s.nextZ;for(;b&&b.z>=g&&v&&v.z<=y;){if(b!==s.prev&&b!==s.next&&Do(r.x,r.y,o.x,o.y,l.x,l.y,b.x,b.y)&&Wt(b.prev,b,b.next)>=0||(b=b.prevZ,v!==s.prev&&v!==s.next&&Do(r.x,r.y,o.x,o.y,l.x,l.y,v.x,v.y)&&Wt(v.prev,v,v.next)>=0))return!1;v=v.nextZ}for(;b&&b.z>=g;){if(b!==s.prev&&b!==s.next&&Do(r.x,r.y,o.x,o.y,l.x,l.y,b.x,b.y)&&Wt(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;v&&v.z<=y;){if(v!==s.prev&&v!==s.next&&Do(r.x,r.y,o.x,o.y,l.x,l.y,v.x,v.y)&&Wt(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function M5(s,e,t){let n=s;do{const r=n.prev,o=n.next.next;!Pd(r,o)&&SM(r,n,n.next,o)&&Tc(r,o)&&Tc(o,r)&&(e.push(r.i/t),e.push(n.i/t),e.push(o.i/t),Ac(n),Ac(n.next),n=s=o),n=n.next}while(n!==s);return Sr(n)}function S5(s,e,t,n,r,o){let l=s;do{let u=l.next.next;for(;u!==l.prev;){if(l.i!==u.i&&z5(l,u)){let d=EM(l,u);l=Sr(l,l.next),d=Sr(d,d.next),Ec(l,e,t,n,r,o),Ec(d,e,t,n,r,o);return}u=u.next}l=l.next}while(l!==s)}function E5(s,e,t,n){const r=[];let o,l,u,d,f;for(o=0,l=e.length;o<l;o++)u=e[o]*n,d=o<l-1?e[o+1]*n:s.length,f=MM(s,u,d,n,!1),f===f.next&&(f.steiner=!0),r.push(D5(f));for(r.sort(T5),o=0;o<r.length;o++)A5(r[o],t),t=Sr(t,t.next);return t}function T5(s,e){return s.x-e.x}function A5(s,e){if(e=C5(s,e),e){const t=EM(e,s);Sr(e,e.next),Sr(t,t.next)}}function C5(s,e){let t=e;const n=s.x,r=s.y;let o=-1/0,l;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const y=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(y<=n&&y>o){if(o=y,y===n){if(r===t.y)return t;if(r===t.next.y)return t.next}l=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!l)return null;if(n===o)return l;const u=l,d=l.x,f=l.y;let p=1/0,g;t=l;do n>=t.x&&t.x>=d&&n!==t.x&&Do(r<f?n:o,r,d,f,r<f?o:n,r,t.x,t.y)&&(g=Math.abs(r-t.y)/(n-t.x),Tc(t,s)&&(g<p||g===p&&(t.x>l.x||t.x===l.x&&R5(l,t)))&&(l=t,p=g)),t=t.next;while(t!==u);return l}function R5(s,e){return Wt(s.prev,s,e.prev)<0&&Wt(e.next,s,s.next)<0}function N5(s,e,t,n){let r=s;do r.z===null&&(r.z=b0(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==s);r.prevZ.nextZ=null,r.prevZ=null,L5(r)}function L5(s){let e,t,n,r,o,l,u,d,f=1;do{for(t=s,s=null,o=null,l=0;t;){for(l++,n=t,u=0,e=0;e<f&&(u++,n=n.nextZ,!!n);e++);for(d=f;u>0||d>0&&n;)u!==0&&(d===0||!n||t.z<=n.z)?(r=t,t=t.nextZ,u--):(r=n,n=n.nextZ,d--),o?o.nextZ=r:s=r,r.prevZ=o,o=r;t=n}o.nextZ=null,f*=2}while(l>1);return s}function b0(s,e,t,n,r){return s=32767*(s-t)*r,e=32767*(e-n)*r,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,s|e<<1}function D5(s){let e=s,t=s;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==s);return t}function Do(s,e,t,n,r,o,l,u){return(r-l)*(e-u)-(s-l)*(o-u)>=0&&(s-l)*(n-u)-(t-l)*(e-u)>=0&&(t-l)*(o-u)-(r-l)*(n-u)>=0}function z5(s,e){return s.next.i!==e.i&&s.prev.i!==e.i&&!O5(s,e)&&(Tc(s,e)&&Tc(e,s)&&B5(s,e)&&(Wt(s.prev,s,e.prev)||Wt(s,e.prev,e))||Pd(s,e)&&Wt(s.prev,s,s.next)>0&&Wt(e.prev,e,e.next)>0)}function Wt(s,e,t){return(e.y-s.y)*(t.x-e.x)-(e.x-s.x)*(t.y-e.y)}function Pd(s,e){return s.x===e.x&&s.y===e.y}function SM(s,e,t,n){const r=Gh(Wt(s,e,t)),o=Gh(Wt(s,e,n)),l=Gh(Wt(t,n,s)),u=Gh(Wt(t,n,e));return!!(r!==o&&l!==u||r===0&&Hh(s,t,e)||o===0&&Hh(s,n,e)||l===0&&Hh(t,s,n)||u===0&&Hh(t,e,n))}function Hh(s,e,t){return e.x<=Math.max(s.x,t.x)&&e.x>=Math.min(s.x,t.x)&&e.y<=Math.max(s.y,t.y)&&e.y>=Math.min(s.y,t.y)}function Gh(s){return s>0?1:s<0?-1:0}function O5(s,e){let t=s;do{if(t.i!==s.i&&t.next.i!==s.i&&t.i!==e.i&&t.next.i!==e.i&&SM(t,t.next,s,e))return!0;t=t.next}while(t!==s);return!1}function Tc(s,e){return Wt(s.prev,s,s.next)<0?Wt(s,e,s.next)>=0&&Wt(s,s.prev,e)>=0:Wt(s,e,s.prev)<0||Wt(s,s.next,e)<0}function B5(s,e){let t=s,n=!1;const r=(s.x+e.x)/2,o=(s.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&r<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==s);return n}function EM(s,e){const t=new w0(s.i,s.x,s.y),n=new w0(e.i,e.x,e.y),r=s.next,o=e.prev;return s.next=e,e.prev=s,t.next=r,r.prev=t,n.next=t,t.prev=n,o.next=n,n.prev=o,n}function F1(s,e,t,n){const r=new w0(s,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function Ac(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function w0(s,e,t){this.i=s,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function U5(s,e,t,n){let r=0;for(let o=e,l=t-n;o<t;o+=n)r+=(s[l]-s[o])*(s[o+1]+s[l+1]),l=o;return r}class Zi{static area(e){const t=e.length;let n=0;for(let r=t-1,o=0;o<t;r=o++)n+=e[r].x*e[o].y-e[o].x*e[r].y;return n*.5}static isClockWise(e){return Zi.area(e)<0}static triangulateShape(e,t){const n=[],r=[],o=[];I1(e),H1(n,e);let l=e.length;t.forEach(I1);for(let d=0;d<t.length;d++)r.push(l),l+=t[d].length,H1(n,t[d]);const u=b5.triangulate(n,r);for(let d=0;d<u.length;d+=3)o.push(u.slice(d,d+3));return o}}function I1(s){const e=s.length;e>2&&s[e-1].equals(s[0])&&s.pop()}function H1(s,e){for(let t=0;t<e.length;t++)s.push(e[t].x),s.push(e[t].y)}class Ki extends tt{constructor(e=new Xi([new Ee(.5,.5),new Ee(-.5,.5),new Ee(-.5,-.5),new Ee(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],o=[];for(let u=0,d=e.length;u<d;u++){const f=e[u];l(f)}this.setAttribute("position",new Xe(r,3)),this.setAttribute("uv",new Xe(o,2)),this.computeVertexNormals();function l(u){const d=[],f=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1;let g=t.depth!==void 0?t.depth:1,y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,b=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:b-.1,_=t.bevelOffset!==void 0?t.bevelOffset:0,E=t.bevelSegments!==void 0?t.bevelSegments:3;const M=t.extrudePath,S=t.UVGenerator!==void 0?t.UVGenerator:P5;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),g=t.amount);let C,A=!1,N,D,R,P;M&&(C=M.getSpacedPoints(p),A=!0,y=!1,N=M.computeFrenetFrames(p,!1),D=new z,R=new z,P=new z),y||(E=0,b=0,v=0,_=0);const q=u.extractPoints(f);let G=q.shape;const j=q.holes;if(!Zi.isClockWise(G)){G=G.reverse();for(let fe=0,we=j.length;fe<we;fe++){const Ne=j[fe];Zi.isClockWise(Ne)&&(j[fe]=Ne.reverse())}}const Q=Zi.triangulateShape(G,j),W=G;for(let fe=0,we=j.length;fe<we;fe++){const Ne=j[fe];G=G.concat(Ne)}function re(fe,we,Ne){return we||console.error("THREE.ExtrudeGeometry: vec does not exist"),we.clone().multiplyScalar(Ne).add(fe)}const B=G.length,V=Q.length;function ce(fe,we,Ne){let Ge,De,F;const U=fe.x-we.x,pe=fe.y-we.y,Re=Ne.x-fe.x,Ce=Ne.y-fe.y,ke=U*U+pe*pe,Qe=U*Ce-pe*Re;if(Math.abs(Qe)>Number.EPSILON){const Pe=Math.sqrt(ke),$e=Math.sqrt(Re*Re+Ce*Ce),Ve=we.x-pe/Pe,J=we.y+U/Pe,Oe=Ne.x-Ce/$e,Se=Ne.y+Re/$e,qe=((Oe-Ve)*Ce-(Se-J)*Re)/(U*Ce-pe*Re);Ge=Ve+U*qe-fe.x,De=J+pe*qe-fe.y;const We=Ge*Ge+De*De;if(We<=2)return new Ee(Ge,De);F=Math.sqrt(We/2)}else{let Pe=!1;U>Number.EPSILON?Re>Number.EPSILON&&(Pe=!0):U<-Number.EPSILON?Re<-Number.EPSILON&&(Pe=!0):Math.sign(pe)===Math.sign(Ce)&&(Pe=!0),Pe?(Ge=-pe,De=U,F=Math.sqrt(ke)):(Ge=U,De=pe,F=Math.sqrt(ke/2))}return new Ee(Ge/F,De/F)}const Te=[];for(let fe=0,we=W.length,Ne=we-1,Ge=fe+1;fe<we;fe++,Ne++,Ge++)Ne===we&&(Ne=0),Ge===we&&(Ge=0),Te[fe]=ce(W[fe],W[Ne],W[Ge]);const Le=[];let k,$=Te.concat();for(let fe=0,we=j.length;fe<we;fe++){const Ne=j[fe];k=[];for(let Ge=0,De=Ne.length,F=De-1,U=Ge+1;Ge<De;Ge++,F++,U++)F===De&&(F=0),U===De&&(U=0),k[Ge]=ce(Ne[Ge],Ne[F],Ne[U]);Le.push(k),$=$.concat(k)}for(let fe=0;fe<E;fe++){const we=fe/E,Ne=b*Math.cos(we*Math.PI/2),Ge=v*Math.sin(we*Math.PI/2)+_;for(let De=0,F=W.length;De<F;De++){const U=re(W[De],Te[De],Ge);ee(U.x,U.y,-Ne)}for(let De=0,F=j.length;De<F;De++){const U=j[De];k=Le[De];for(let pe=0,Re=U.length;pe<Re;pe++){const Ce=re(U[pe],k[pe],Ge);ee(Ce.x,Ce.y,-Ne)}}}const Z=v+_;for(let fe=0;fe<B;fe++){const we=y?re(G[fe],$[fe],Z):G[fe];A?(R.copy(N.normals[0]).multiplyScalar(we.x),D.copy(N.binormals[0]).multiplyScalar(we.y),P.copy(C[0]).add(R).add(D),ee(P.x,P.y,P.z)):ee(we.x,we.y,0)}for(let fe=1;fe<=p;fe++)for(let we=0;we<B;we++){const Ne=y?re(G[we],$[we],Z):G[we];A?(R.copy(N.normals[fe]).multiplyScalar(Ne.x),D.copy(N.binormals[fe]).multiplyScalar(Ne.y),P.copy(C[fe]).add(R).add(D),ee(P.x,P.y,P.z)):ee(Ne.x,Ne.y,g/p*fe)}for(let fe=E-1;fe>=0;fe--){const we=fe/E,Ne=b*Math.cos(we*Math.PI/2),Ge=v*Math.sin(we*Math.PI/2)+_;for(let De=0,F=W.length;De<F;De++){const U=re(W[De],Te[De],Ge);ee(U.x,U.y,g+Ne)}for(let De=0,F=j.length;De<F;De++){const U=j[De];k=Le[De];for(let pe=0,Re=U.length;pe<Re;pe++){const Ce=re(U[pe],k[pe],Ge);A?ee(Ce.x,Ce.y+C[p-1].y,C[p-1].x+Ne):ee(Ce.x,Ce.y,g+Ne)}}}ie(),_e();function ie(){const fe=r.length/3;if(y){let we=0,Ne=B*we;for(let Ge=0;Ge<V;Ge++){const De=Q[Ge];be(De[2]+Ne,De[1]+Ne,De[0]+Ne)}we=p+E*2,Ne=B*we;for(let Ge=0;Ge<V;Ge++){const De=Q[Ge];be(De[0]+Ne,De[1]+Ne,De[2]+Ne)}}else{for(let we=0;we<V;we++){const Ne=Q[we];be(Ne[2],Ne[1],Ne[0])}for(let we=0;we<V;we++){const Ne=Q[we];be(Ne[0]+B*p,Ne[1]+B*p,Ne[2]+B*p)}}n.addGroup(fe,r.length/3-fe,0)}function _e(){const fe=r.length/3;let we=0;te(W,we),we+=W.length;for(let Ne=0,Ge=j.length;Ne<Ge;Ne++){const De=j[Ne];te(De,we),we+=De.length}n.addGroup(fe,r.length/3-fe,1)}function te(fe,we){let Ne=fe.length;for(;--Ne>=0;){const Ge=Ne;let De=Ne-1;De<0&&(De=fe.length-1);for(let F=0,U=p+E*2;F<U;F++){const pe=B*F,Re=B*(F+1),Ce=we+Ge+pe,ke=we+De+pe,Qe=we+De+Re,Pe=we+Ge+Re;ye(Ce,ke,Qe,Pe)}}}function ee(fe,we,Ne){d.push(fe),d.push(we),d.push(Ne)}function be(fe,we,Ne){ze(fe),ze(we),ze(Ne);const Ge=r.length/3,De=S.generateTopUV(n,r,Ge-3,Ge-2,Ge-1);je(De[0]),je(De[1]),je(De[2])}function ye(fe,we,Ne,Ge){ze(fe),ze(we),ze(Ge),ze(we),ze(Ne),ze(Ge);const De=r.length/3,F=S.generateSideWallUV(n,r,De-6,De-3,De-2,De-1);je(F[0]),je(F[1]),je(F[3]),je(F[1]),je(F[2]),je(F[3])}function ze(fe){r.push(d[fe*3+0]),r.push(d[fe*3+1]),r.push(d[fe*3+2])}function je(fe){o.push(fe.x),o.push(fe.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return k5(t,n,e)}static fromJSON(e,t){const n=[];for(let o=0,l=e.shapes.length;o<l;o++){const u=t[e.shapes[o]];n.push(u)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new ag[r.type]().fromJSON(r)),new Ki(n,e.options)}}const P5={generateTopUV:function(s,e,t,n,r){const o=e[t*3],l=e[t*3+1],u=e[n*3],d=e[n*3+1],f=e[r*3],p=e[r*3+1];return[new Ee(o,l),new Ee(u,d),new Ee(f,p)]},generateSideWallUV:function(s,e,t,n,r,o){const l=e[t*3],u=e[t*3+1],d=e[t*3+2],f=e[n*3],p=e[n*3+1],g=e[n*3+2],y=e[r*3],b=e[r*3+1],v=e[r*3+2],_=e[o*3],E=e[o*3+1],M=e[o*3+2];return Math.abs(u-p)<Math.abs(l-f)?[new Ee(l,1-d),new Ee(f,1-g),new Ee(y,1-v),new Ee(_,1-M)]:[new Ee(u,1-d),new Ee(p,1-g),new Ee(b,1-v),new Ee(E,1-M)]}};function k5(s,e,t){if(t.shapes=[],Array.isArray(s))for(let n=0,r=s.length;n<r;n++){const o=s[n];t.shapes.push(o.uuid)}else t.shapes.push(s.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Go extends Qi{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Go(e.radius,e.detail)}}class Vo extends tt{constructor(e=[new Ee(0,.5),new Ee(.5,0),new Ee(0,-.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Tn(r,0,Math.PI*2);const o=[],l=[],u=[],d=1/t,f=new z,p=new Ee;for(let g=0;g<=t;g++){const y=n+g*d*r,b=Math.sin(y),v=Math.cos(y);for(let _=0;_<=e.length-1;_++)f.x=e[_].x*b,f.y=e[_].y,f.z=e[_].x*v,l.push(f.x,f.y,f.z),p.x=g/t,p.y=_/(e.length-1),u.push(p.x,p.y)}for(let g=0;g<t;g++)for(let y=0;y<e.length-1;y++){const b=y+g*e.length,v=b,_=b+e.length,E=b+e.length+1,M=b+1;o.push(v,_,M),o.push(_,E,M)}if(this.setIndex(o),this.setAttribute("position",new Xe(l,3)),this.setAttribute("uv",new Xe(u,2)),this.computeVertexNormals(),r===Math.PI*2){const g=this.attributes.normal.array,y=new z,b=new z,v=new z,_=t*e.length*3;for(let E=0,M=0;E<e.length;E++,M+=3)y.x=g[M+0],y.y=g[M+1],y.z=g[M+2],b.x=g[_+M+0],b.y=g[_+M+1],b.z=g[_+M+2],v.addVectors(y,b).normalize(),g[M+0]=g[_+M+0]=v.x,g[M+1]=g[_+M+1]=v.y,g[M+2]=g[_+M+2]=v.z}}static fromJSON(e){return new Vo(e.points,e.segments,e.phiStart,e.phiLength)}}class pa extends Qi{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pa(e.radius,e.detail)}}class Wo extends tt{constructor(e=.5,t=1,n=8,r=1,o=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:l},n=Math.max(3,n),r=Math.max(1,r);const u=[],d=[],f=[],p=[];let g=e;const y=(t-e)/r,b=new z,v=new Ee;for(let _=0;_<=r;_++){for(let E=0;E<=n;E++){const M=o+E/n*l;b.x=g*Math.cos(M),b.y=g*Math.sin(M),d.push(b.x,b.y,b.z),f.push(0,0,1),v.x=(b.x/t+1)/2,v.y=(b.y/t+1)/2,p.push(v.x,v.y)}g+=y}for(let _=0;_<r;_++){const E=_*(n+1);for(let M=0;M<n;M++){const S=M+E,C=S,A=S+n+1,N=S+n+2,D=S+1;u.push(C,A,D),u.push(A,N,D)}}this.setIndex(u),this.setAttribute("position",new Xe(d,3)),this.setAttribute("normal",new Xe(f,3)),this.setAttribute("uv",new Xe(p,2))}static fromJSON(e){return new Wo(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ma extends tt{constructor(e=new Xi([new Ee(0,.5),new Ee(-.5,-.5),new Ee(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],o=[],l=[];let u=0,d=0;if(Array.isArray(e)===!1)f(e);else for(let p=0;p<e.length;p++)f(e[p]),this.addGroup(u,d,p),u+=d,d=0;this.setIndex(n),this.setAttribute("position",new Xe(r,3)),this.setAttribute("normal",new Xe(o,3)),this.setAttribute("uv",new Xe(l,2));function f(p){const g=r.length/3,y=p.extractPoints(t);let b=y.shape;const v=y.holes;Zi.isClockWise(b)===!1&&(b=b.reverse());for(let E=0,M=v.length;E<M;E++){const S=v[E];Zi.isClockWise(S)===!0&&(v[E]=S.reverse())}const _=Zi.triangulateShape(b,v);for(let E=0,M=v.length;E<M;E++){const S=v[E];b=b.concat(S)}for(let E=0,M=b.length;E<M;E++){const S=b[E];r.push(S.x,S.y,0),o.push(0,0,1),l.push(S.x,S.y)}for(let E=0,M=_.length;E<M;E++){const S=_[E],C=S[0]+g,A=S[1]+g,N=S[2]+g;n.push(C,A,N),d+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return j5(t,e)}static fromJSON(e,t){const n=[];for(let r=0,o=e.shapes.length;r<o;r++){const l=t[e.shapes[r]];n.push(l)}return new ma(n,e.curveSegments)}}function j5(s,e){if(e.shapes=[],Array.isArray(s))for(let t=0,n=s.length;t<n;t++){const r=s[t];e.shapes.push(r.uuid)}else e.shapes.push(s.uuid);return e}class ga extends tt{constructor(e=1,t=32,n=16,r=0,o=Math.PI*2,l=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:o,thetaStart:l,thetaLength:u},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const d=Math.min(l+u,Math.PI);let f=0;const p=[],g=new z,y=new z,b=[],v=[],_=[],E=[];for(let M=0;M<=n;M++){const S=[],C=M/n;let A=0;M==0&&l==0?A=.5/t:M==n&&d==Math.PI&&(A=-.5/t);for(let N=0;N<=t;N++){const D=N/t;g.x=-e*Math.cos(r+D*o)*Math.sin(l+C*u),g.y=e*Math.cos(l+C*u),g.z=e*Math.sin(r+D*o)*Math.sin(l+C*u),v.push(g.x,g.y,g.z),y.copy(g).normalize(),_.push(y.x,y.y,y.z),E.push(D+A,1-C),S.push(f++)}p.push(S)}for(let M=0;M<n;M++)for(let S=0;S<t;S++){const C=p[M][S+1],A=p[M][S],N=p[M+1][S],D=p[M+1][S+1];(M!==0||l>0)&&b.push(C,A,D),(M!==n-1||d<Math.PI)&&b.push(A,N,D)}this.setIndex(b),this.setAttribute("position",new Xe(v,3)),this.setAttribute("normal",new Xe(_,3)),this.setAttribute("uv",new Xe(E,2))}static fromJSON(e){return new ga(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class qo extends Qi{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new qo(e.radius,e.detail)}}class Yo extends tt{constructor(e=1,t=.4,n=8,r=6,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:o},n=Math.floor(n),r=Math.floor(r);const l=[],u=[],d=[],f=[],p=new z,g=new z,y=new z;for(let b=0;b<=n;b++)for(let v=0;v<=r;v++){const _=v/r*o,E=b/n*Math.PI*2;g.x=(e+t*Math.cos(E))*Math.cos(_),g.y=(e+t*Math.cos(E))*Math.sin(_),g.z=t*Math.sin(E),u.push(g.x,g.y,g.z),p.x=e*Math.cos(_),p.y=e*Math.sin(_),y.subVectors(g,p).normalize(),d.push(y.x,y.y,y.z),f.push(v/r),f.push(b/n)}for(let b=1;b<=n;b++)for(let v=1;v<=r;v++){const _=(r+1)*b+v-1,E=(r+1)*(b-1)+v-1,M=(r+1)*(b-1)+v,S=(r+1)*b+v;l.push(_,E,S),l.push(E,M,S)}this.setIndex(l),this.setAttribute("position",new Xe(u,3)),this.setAttribute("normal",new Xe(d,3)),this.setAttribute("uv",new Xe(f,2))}static fromJSON(e){return new Yo(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Xo extends tt{constructor(e=1,t=.4,n=64,r=8,o=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:o,q:l},n=Math.floor(n),r=Math.floor(r);const u=[],d=[],f=[],p=[],g=new z,y=new z,b=new z,v=new z,_=new z,E=new z,M=new z;for(let C=0;C<=n;++C){const A=C/n*o*Math.PI*2;S(A,o,l,e,b),S(A+.01,o,l,e,v),E.subVectors(v,b),M.addVectors(v,b),_.crossVectors(E,M),M.crossVectors(_,E),_.normalize(),M.normalize();for(let N=0;N<=r;++N){const D=N/r*Math.PI*2,R=-t*Math.cos(D),P=t*Math.sin(D);g.x=b.x+(R*M.x+P*_.x),g.y=b.y+(R*M.y+P*_.y),g.z=b.z+(R*M.z+P*_.z),d.push(g.x,g.y,g.z),y.subVectors(g,b).normalize(),f.push(y.x,y.y,y.z),p.push(C/n),p.push(N/r)}}for(let C=1;C<=n;C++)for(let A=1;A<=r;A++){const N=(r+1)*(C-1)+(A-1),D=(r+1)*C+(A-1),R=(r+1)*C+A,P=(r+1)*(C-1)+A;u.push(N,D,P),u.push(D,R,P)}this.setIndex(u),this.setAttribute("position",new Xe(d,3)),this.setAttribute("normal",new Xe(f,3)),this.setAttribute("uv",new Xe(p,2));function S(C,A,N,D,R){const P=Math.cos(C),q=Math.sin(C),G=N/A*C,j=Math.cos(G);R.x=D*(2+j)*.5*P,R.y=D*(2+j)*q*.5,R.z=D*Math.sin(G)*.5}}static fromJSON(e){return new Xo(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Zo extends tt{constructor(e=new Bd(new z(-1,-1,0),new z(-1,1,0),new z(1,1,0)),t=64,n=1,r=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:o};const l=e.computeFrenetFrames(t,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const u=new z,d=new z,f=new Ee;let p=new z;const g=[],y=[],b=[],v=[];_(),this.setIndex(v),this.setAttribute("position",new Xe(g,3)),this.setAttribute("normal",new Xe(y,3)),this.setAttribute("uv",new Xe(b,2));function _(){for(let C=0;C<t;C++)E(C);E(o===!1?t:0),S(),M()}function E(C){p=e.getPointAt(C/t,p);const A=l.normals[C],N=l.binormals[C];for(let D=0;D<=r;D++){const R=D/r*Math.PI*2,P=Math.sin(R),q=-Math.cos(R);d.x=q*A.x+P*N.x,d.y=q*A.y+P*N.y,d.z=q*A.z+P*N.z,d.normalize(),y.push(d.x,d.y,d.z),u.x=p.x+n*d.x,u.y=p.y+n*d.y,u.z=p.z+n*d.z,g.push(u.x,u.y,u.z)}}function M(){for(let C=1;C<=t;C++)for(let A=1;A<=r;A++){const N=(r+1)*(C-1)+(A-1),D=(r+1)*C+(A-1),R=(r+1)*C+A,P=(r+1)*(C-1)+A;v.push(N,D,P),v.push(D,R,P)}}function S(){for(let C=0;C<=t;C++)for(let A=0;A<=r;A++)f.x=C/t,f.y=A/r,b.push(f.x,f.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Zo(new ag[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class og extends tt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new z,o=new z;if(e.index!==null){const l=e.attributes.position,u=e.index;let d=e.groups;d.length===0&&(d=[{start:0,count:u.count,materialIndex:0}]);for(let f=0,p=d.length;f<p;++f){const g=d[f],y=g.start,b=g.count;for(let v=y,_=y+b;v<_;v+=3)for(let E=0;E<3;E++){const M=u.getX(v+E),S=u.getX(v+(E+1)%3);r.fromBufferAttribute(l,M),o.fromBufferAttribute(l,S),G1(r,o,n)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}}else{const l=e.attributes.position;for(let u=0,d=l.count/3;u<d;u++)for(let f=0;f<3;f++){const p=3*u+f,g=3*u+(f+1)%3;r.fromBufferAttribute(l,p),o.fromBufferAttribute(l,g),G1(r,o,n)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new Xe(t,3))}}}function G1(s,e,t){const n=`${s.x},${s.y},${s.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${s.x},${s.y},${s.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n,r),!0)}var V1=Object.freeze({__proto__:null,BoxGeometry:zs,BoxBufferGeometry:zs,CircleGeometry:Fo,CircleBufferGeometry:Fo,ConeGeometry:Io,ConeBufferGeometry:Io,CylinderGeometry:Mr,CylinderBufferGeometry:Mr,DodecahedronGeometry:Ho,DodecahedronBufferGeometry:Ho,EdgesGeometry:tg,ExtrudeGeometry:Ki,ExtrudeBufferGeometry:Ki,IcosahedronGeometry:Go,IcosahedronBufferGeometry:Go,LatheGeometry:Vo,LatheBufferGeometry:Vo,OctahedronGeometry:pa,OctahedronBufferGeometry:pa,PlaneGeometry:da,PlaneBufferGeometry:da,PolyhedronGeometry:Qi,PolyhedronBufferGeometry:Qi,RingGeometry:Wo,RingBufferGeometry:Wo,ShapeGeometry:ma,ShapeBufferGeometry:ma,SphereGeometry:ga,SphereBufferGeometry:ga,TetrahedronGeometry:qo,TetrahedronBufferGeometry:qo,TorusGeometry:Yo,TorusBufferGeometry:Yo,TorusKnotGeometry:Xo,TorusKnotBufferGeometry:Xo,TubeGeometry:Zo,TubeBufferGeometry:Zo,WireframeGeometry:og});class lg extends vn{constructor(e){super(),this.type="ShadowMaterial",this.color=new Ue(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}lg.prototype.isShadowMaterial=!0;class kd extends vn{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ue(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ma,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}kd.prototype.isMeshStandardMaterial=!0;class cg extends kd{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ee(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Tn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new Ue(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Ue(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ue(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}cg.prototype.isMeshPhysicalMaterial=!0;class ug extends vn{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new Ue(16777215),this.specular=new Ue(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ma,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}ug.prototype.isMeshPhongMaterial=!0;class hg extends vn{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ue(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ma,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}hg.prototype.isMeshToonMaterial=!0;class dg extends vn{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ma,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}dg.prototype.isMeshNormalMaterial=!0;class fg extends vn{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new Ue(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}fg.prototype.isMeshLambertMaterial=!0;class pg extends vn{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ue(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ma,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}pg.prototype.isMeshMatcapMaterial=!0;class mg extends bn{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}mg.prototype.isLineDashedMaterial=!0;var F5=Object.freeze({__proto__:null,ShadowMaterial:lg,SpriteMaterial:Cd,RawShaderMaterial:el,ShaderMaterial:Os,PointsMaterial:Ta,MeshPhysicalMaterial:cg,MeshStandardMaterial:kd,MeshPhongMaterial:ug,MeshToonMaterial:hg,MeshNormalMaterial:dg,MeshLambertMaterial:fg,MeshDepthMaterial:Ed,MeshDistanceMaterial:Td,MeshBasicMaterial:ks,MeshMatcapMaterial:pg,LineDashedMaterial:mg,LineBasicMaterial:bn,Material:vn});const Ht={arraySlice:function(s,e,t){return Ht.isTypedArray(s)?new s.constructor(s.subarray(e,t!==void 0?t:s.length)):s.slice(e,t)},convertArray:function(s,e,t){return!s||!t&&s.constructor===e?s:typeof e.BYTES_PER_ELEMENT=="number"?new e(s):Array.prototype.slice.call(s)},isTypedArray:function(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)},getKeyframeOrder:function(s){function e(r,o){return s[r]-s[o]}const t=s.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n},sortedArray:function(s,e,t){const n=s.length,r=new s.constructor(n);for(let o=0,l=0;l!==n;++o){const u=t[o]*e;for(let d=0;d!==e;++d)r[l++]=s[u+d]}return r},flattenJSON:function(s,e,t,n){let r=1,o=s[0];for(;o!==void 0&&o[n]===void 0;)o=s[r++];if(o===void 0)return;let l=o[n];if(l!==void 0)if(Array.isArray(l))do l=o[n],l!==void 0&&(e.push(o.time),t.push.apply(t,l)),o=s[r++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[n],l!==void 0&&(e.push(o.time),l.toArray(t,t.length)),o=s[r++];while(o!==void 0);else do l=o[n],l!==void 0&&(e.push(o.time),t.push(l)),o=s[r++];while(o!==void 0)},subclip:function(s,e,t,n,r=30){const o=s.clone();o.name=e;const l=[];for(let d=0;d<o.tracks.length;++d){const f=o.tracks[d],p=f.getValueSize(),g=[],y=[];for(let b=0;b<f.times.length;++b){const v=f.times[b]*r;if(!(v<t||v>=n)){g.push(f.times[b]);for(let _=0;_<p;++_)y.push(f.values[b*p+_])}}g.length!==0&&(f.times=Ht.convertArray(g,f.times.constructor),f.values=Ht.convertArray(y,f.values.constructor),l.push(f))}o.tracks=l;let u=1/0;for(let d=0;d<o.tracks.length;++d)u>o.tracks[d].times[0]&&(u=o.tracks[d].times[0]);for(let d=0;d<o.tracks.length;++d)o.tracks[d].shift(-1*u);return o.resetDuration(),o},makeClipAdditive:function(s,e=0,t=s,n=30){n<=0&&(n=30);const r=t.tracks.length,o=e/n;for(let l=0;l<r;++l){const u=t.tracks[l],d=u.ValueTypeName;if(d==="bool"||d==="string")continue;const f=s.tracks.find(function(M){return M.name===u.name&&M.ValueTypeName===d});if(f===void 0)continue;let p=0;const g=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);let y=0;const b=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=b/3);const v=u.times.length-1;let _;if(o<=u.times[0]){const M=p,S=g-p;_=Ht.arraySlice(u.values,M,S)}else if(o>=u.times[v]){const M=v*g+p,S=M+g-p;_=Ht.arraySlice(u.values,M,S)}else{const M=u.createInterpolant(),S=p,C=g-p;M.evaluate(o),_=Ht.arraySlice(M.resultBuffer,S,C)}d==="quaternion"&&new Rn().fromArray(_).normalize().conjugate().toArray(_);const E=f.times.length;for(let M=0;M<E;++M){const S=M*b+y;if(d==="quaternion")Rn.multiplyQuaternionsFlat(f.values,S,_,0,f.values,S);else{const C=b-y*2;for(let A=0;A<C;++A)f.values[S+A]-=_[A]}}}return s.blendMode=I0,s}};class Us{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],o=t[n-1];e:{t:{let l;n:{i:if(!(e<r)){for(let u=n+2;;){if(r===void 0){if(e<o)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,o)}if(n===u)break;if(o=r,r=t[++n],e<r)break t}l=t.length;break n}if(!(e>=o)){const u=t[1];e<u&&(n=2,o=u);for(let d=n-2;;){if(o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===d)break;if(r=o,o=t[--n-1],e>=o)break t}l=n,n=0;break n}break e}for(;n<l;){const u=n+l>>>1;e<t[u]?l=u:n=u+1}if(r=t[n],o=t[n-1],o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(r===void 0)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,o,e)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=e*r;for(let l=0;l!==r;++l)t[l]=n[o+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Us.prototype.beforeStart_=Us.prototype.copySampleValue_;Us.prototype.afterEnd_=Us.prototype.copySampleValue_;class TM extends Us{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ea,endingEnd:ea}}intervalChanged_(e,t,n){const r=this.parameterPositions;let o=e-2,l=e+1,u=r[o],d=r[l];if(u===void 0)switch(this.getSettings_().endingStart){case ta:o=e,u=2*t-n;break;case _c:o=r.length-2,u=t+r[o]-r[o+1];break;default:o=e,u=n}if(d===void 0)switch(this.getSettings_().endingEnd){case ta:l=e,d=2*n-t;break;case _c:l=1,d=n+r[1]-r[0];break;default:l=e-1,d=t}const f=(n-t)*.5,p=this.valueSize;this._weightPrev=f/(t-u),this._weightNext=f/(d-n),this._offsetPrev=o*p,this._offsetNext=l*p}interpolate_(e,t,n,r){const o=this.resultBuffer,l=this.sampleValues,u=this.valueSize,d=e*u,f=d-u,p=this._offsetPrev,g=this._offsetNext,y=this._weightPrev,b=this._weightNext,v=(n-t)/(r-t),_=v*v,E=_*v,M=-y*E+2*y*_-y*v,S=(1+y)*E+(-1.5-2*y)*_+(-.5+y)*v+1,C=(-1-b)*E+(1.5+b)*_+.5*v,A=b*E-b*_;for(let N=0;N!==u;++N)o[N]=M*l[p+N]+S*l[f+N]+C*l[d+N]+A*l[g+N];return o}}class gg extends Us{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,l=this.sampleValues,u=this.valueSize,d=e*u,f=d-u,p=(n-t)/(r-t),g=1-p;for(let y=0;y!==u;++y)o[y]=l[f+y]*g+l[d+y]*p;return o}}class AM extends Us{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Pi{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ht.convertArray(t,this.TimeBufferType),this.values=Ht.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Ht.convertArray(e.times,Array),values:Ht.convertArray(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new AM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new gg(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new TM(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case bc:t=this.InterpolantFactoryMethodDiscrete;break;case wc:t=this.InterpolantFactoryMethodLinear;break;case td:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return bc;case this.InterpolantFactoryMethodLinear:return wc;case this.InterpolantFactoryMethodSmooth:return td}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let o=0,l=r-1;for(;o!==r&&n[o]<e;)++o;for(;l!==-1&&n[l]>t;)--l;if(++l,o!==0||l!==r){o>=l&&(l=Math.max(l,1),o=l-1);const u=this.getValueSize();this.times=Ht.arraySlice(n,o,l),this.values=Ht.arraySlice(this.values,o*u,l*u)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,o=n.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let u=0;u!==o;u++){const d=n[u];if(typeof d=="number"&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,d),e=!1;break}if(l!==null&&l>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,d,l),e=!1;break}l=d}if(r!==void 0&&Ht.isTypedArray(r))for(let u=0,d=r.length;u!==d;++u){const f=r[u];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,f),e=!1;break}}return e}optimize(){const e=Ht.arraySlice(this.times),t=Ht.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===td,o=e.length-1;let l=1;for(let u=1;u<o;++u){let d=!1;const f=e[u],p=e[u+1];if(f!==p&&(u!==1||f!==e[0]))if(r)d=!0;else{const g=u*n,y=g-n,b=g+n;for(let v=0;v!==n;++v){const _=t[g+v];if(_!==t[y+v]||_!==t[b+v]){d=!0;break}}}if(d){if(u!==l){e[l]=e[u];const g=u*n,y=l*n;for(let b=0;b!==n;++b)t[y+b]=t[g+b]}++l}}if(o>0){e[l]=e[o];for(let u=o*n,d=l*n,f=0;f!==n;++f)t[d+f]=t[u+f];++l}return l!==e.length?(this.times=Ht.arraySlice(e,0,l),this.values=Ht.arraySlice(t,0,l*n)):(this.times=e,this.values=t),this}clone(){const e=Ht.arraySlice(this.times,0),t=Ht.arraySlice(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Pi.prototype.TimeBufferType=Float32Array;Pi.prototype.ValueBufferType=Float32Array;Pi.prototype.DefaultInterpolation=wc;class Aa extends Pi{}Aa.prototype.ValueTypeName="bool";Aa.prototype.ValueBufferType=Array;Aa.prototype.DefaultInterpolation=bc;Aa.prototype.InterpolantFactoryMethodLinear=void 0;Aa.prototype.InterpolantFactoryMethodSmooth=void 0;class xg extends Pi{}xg.prototype.ValueTypeName="color";class Cc extends Pi{}Cc.prototype.ValueTypeName="number";class CM extends Us{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,l=this.sampleValues,u=this.valueSize,d=(n-t)/(r-t);let f=e*u;for(let p=f+u;f!==p;f+=4)Rn.slerpFlat(o,0,l,f-u,l,f,d);return o}}class nl extends Pi{InterpolantFactoryMethodLinear(e){return new CM(this.times,this.values,this.getValueSize(),e)}}nl.prototype.ValueTypeName="quaternion";nl.prototype.DefaultInterpolation=wc;nl.prototype.InterpolantFactoryMethodSmooth=void 0;class Ca extends Pi{}Ca.prototype.ValueTypeName="string";Ca.prototype.ValueBufferType=Array;Ca.prototype.DefaultInterpolation=bc;Ca.prototype.InterpolantFactoryMethodLinear=void 0;Ca.prototype.InterpolantFactoryMethodSmooth=void 0;class Rc extends Pi{}Rc.prototype.ValueTypeName="vector";class Nc{constructor(e,t=-1,n,r=gd){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=ui(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let l=0,u=n.length;l!==u;++l)t.push(H5(n[l]).scale(r));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,l=n.length;o!==l;++o)t.push(Pi.toJSON(n[o]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const o=t.length,l=[];for(let u=0;u<o;u++){let d=[],f=[];d.push((u+o-1)%o,u,(u+1)%o),f.push(0,1,0);const p=Ht.getKeyframeOrder(d);d=Ht.sortedArray(d,1,p),f=Ht.sortedArray(f,1,p),!r&&d[0]===0&&(d.push(o),f.push(f[0])),l.push(new Cc(".morphTargetInfluences["+t[u].name+"]",d,f).scale(1/n))}return new this(e,-1,l)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},o=/^([\w-]*?)([\d]+)$/;for(let u=0,d=e.length;u<d;u++){const f=e[u],p=f.name.match(o);if(p&&p.length>1){const g=p[1];let y=r[g];y||(r[g]=y=[]),y.push(f)}}const l=[];for(const u in r)l.push(this.CreateFromMorphTargetSequence(u,r[u],t,n));return l}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(g,y,b,v,_){if(b.length!==0){const E=[],M=[];Ht.flattenJSON(b,E,M,v),E.length!==0&&_.push(new g(y,E,M))}},r=[],o=e.name||"default",l=e.fps||30,u=e.blendMode;let d=e.length||-1;const f=e.hierarchy||[];for(let g=0;g<f.length;g++){const y=f[g].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const b={};let v;for(v=0;v<y.length;v++)if(y[v].morphTargets)for(let _=0;_<y[v].morphTargets.length;_++)b[y[v].morphTargets[_]]=-1;for(const _ in b){const E=[],M=[];for(let S=0;S!==y[v].morphTargets.length;++S){const C=y[v];E.push(C.time),M.push(C.morphTarget===_?1:0)}r.push(new Cc(".morphTargetInfluence["+_+"]",E,M))}d=b.length*l}else{const b=".bones["+t[g].name+"]";n(Rc,b+".position",y,"pos",r),n(nl,b+".quaternion",y,"rot",r),n(Rc,b+".scale",y,"scl",r)}}return r.length===0?null:new this(o,d,r,u)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const o=this.tracks[n];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function I5(s){switch(s.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Cc;case"vector":case"vector2":case"vector3":case"vector4":return Rc;case"color":return xg;case"quaternion":return nl;case"bool":case"boolean":return Aa;case"string":return Ca}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+s)}function H5(s){if(s.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=I5(s.type);if(s.times===void 0){const t=[],n=[];Ht.flattenJSON(s.keys,t,n,"value"),s.times=t,s.values=n}return e.parse!==void 0?e.parse(s):new e(s.name,s.times,s.values,s.interpolation)}const xa={enabled:!1,files:{},add:function(s,e){this.enabled!==!1&&(this.files[s]=e)},get:function(s){if(this.enabled!==!1)return this.files[s]},remove:function(s){delete this.files[s]},clear:function(){this.files={}}};class yg{constructor(e,t,n){const r=this;let o=!1,l=0,u=0,d;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(p){u++,o===!1&&r.onStart!==void 0&&r.onStart(p,l,u),o=!0},this.itemEnd=function(p){l++,r.onProgress!==void 0&&r.onProgress(p,l,u),l===u&&(o=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(p){r.onError!==void 0&&r.onError(p)},this.resolveURL=function(p){return d?d(p):p},this.setURLModifier=function(p){return d=p,this},this.addHandler=function(p,g){return f.push(p,g),this},this.removeHandler=function(p){const g=f.indexOf(p);return g!==-1&&f.splice(g,2),this},this.getHandler=function(p){for(let g=0,y=f.length;g<y;g+=2){const b=f[g],v=f[g+1];if(b.global&&(b.lastIndex=0),b.test(p))return v}return null}}}const RM=new yg;class jn{constructor(e){this.manager=e!==void 0?e:RM,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,o){n.load(e,r,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Cs={};class $i extends jn{constructor(e){super(e)}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=xa.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(Cs[e]!==void 0){Cs[e].push({onLoad:t,onProgress:n,onError:r});return}Cs[e]=[],Cs[e].push({onLoad:t,onProgress:n,onError:r});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(l).then(u=>{if(u.status===200||u.status===0){u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");const d=Cs[e],f=u.body.getReader(),p=u.headers.get("Content-Length"),g=p?parseInt(p):0,y=g!==0;let b=0;return new ReadableStream({start(v){_();function _(){f.read().then(({done:E,value:M})=>{if(E)v.close();else{b+=M.byteLength;const S=new ProgressEvent("progress",{lengthComputable:y,loaded:b,total:g});for(let C=0,A=d.length;C<A;C++){const N=d[C];N.onProgress&&N.onProgress(S)}v.enqueue(M),_()}})}}})}else throw Error(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`)}).then(u=>{const d=new Response(u);switch(this.responseType){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(f=>new DOMParser().parseFromString(f,this.mimeType));case"json":return d.json();default:return d.text()}}).then(u=>{xa.add(e,u);const d=Cs[e];delete Cs[e];for(let f=0,p=d.length;f<p;f++){const g=d[f];g.onLoad&&g.onLoad(u)}this.manager.itemEnd(e)}).catch(u=>{const d=Cs[e];delete Cs[e];for(let f=0,p=d.length;f<p;f++){const g=d[f];g.onError&&g.onError(u)}this.manager.itemError(e),this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class G5 extends jn{constructor(e){super(e)}load(e,t,n,r){const o=this,l=new $i(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{t(o.parse(JSON.parse(u)))}catch(d){r?r(d):console.error(d),o.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=Nc.parse(e[n]);t.push(r)}return t}}class V5 extends jn{constructor(e){super(e)}load(e,t,n,r){const o=this,l=[],u=new eg,d=new $i(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(o.withCredentials);let f=0;function p(g){d.load(e[g],function(y){const b=o.parse(y,!0);l[g]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},f+=1,f===6&&(b.mipmapCount===1&&(u.minFilter=dn),u.image=l,u.format=b.format,u.needsUpdate=!0,t&&t(u))},n,r)}if(Array.isArray(e))for(let g=0,y=e.length;g<y;++g)p(g);else d.load(e,function(g){const y=o.parse(g,!0);if(y.isCubemap){const b=y.mipmaps.length/y.mipmapCount;for(let v=0;v<b;v++){l[v]={mipmaps:[]};for(let _=0;_<y.mipmapCount;_++)l[v].mipmaps.push(y.mipmaps[v*y.mipmapCount+_]),l[v].format=y.format,l[v].width=y.width,l[v].height=y.height}u.image=l}else u.image.width=y.width,u.image.height=y.height,u.mipmaps=y.mipmaps;y.mipmapCount===1&&(u.minFilter=dn),u.format=y.format,u.needsUpdate=!0,t&&t(u)},n,r);return u}}class Lc extends jn{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=xa.get(e);if(l!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l;const u=vd("img");function d(){p(),xa.add(e,this),t&&t(this),o.manager.itemEnd(e)}function f(g){p(),r&&r(g),o.manager.itemError(e),o.manager.itemEnd(e)}function p(){u.removeEventListener("load",d,!1),u.removeEventListener("error",f,!1)}return u.addEventListener("load",d,!1),u.addEventListener("error",f,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),o.manager.itemStart(e),u.src=e,u}}class NM extends jn{constructor(e){super(e)}load(e,t,n,r){const o=new $o,l=new Lc(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let u=0;function d(f){l.load(e[f],function(p){o.images[f]=p,u++,u===6&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}for(let f=0;f<e.length;++f)d(f);return o}}class LM extends jn{constructor(e){super(e)}load(e,t,n,r){const o=this,l=new la,u=new $i(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(o.withCredentials),u.load(e,function(d){const f=o.parse(d);f&&(f.image!==void 0?l.image=f.image:f.data!==void 0&&(l.image.width=f.width,l.image.height=f.height,l.image.data=f.data),l.wrapS=f.wrapS!==void 0?f.wrapS:An,l.wrapT=f.wrapT!==void 0?f.wrapT:An,l.magFilter=f.magFilter!==void 0?f.magFilter:dn,l.minFilter=f.minFilter!==void 0?f.minFilter:dn,l.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.encoding!==void 0&&(l.encoding=f.encoding),f.flipY!==void 0&&(l.flipY=f.flipY),f.format!==void 0&&(l.format=f.format),f.type!==void 0&&(l.type=f.type),f.mipmaps!==void 0&&(l.mipmaps=f.mipmaps,l.minFilter=_a),f.mipmapCount===1&&(l.minFilter=dn),f.generateMipmaps!==void 0&&(l.generateMipmaps=f.generateMipmaps),l.needsUpdate=!0,t&&t(l,f))},n,r),l}}class DM extends jn{constructor(e){super(e)}load(e,t,n,r){const o=new Bn,l=new Lc(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(u){o.image=u,o.needsUpdate=!0,t!==void 0&&t(o)},n,r),o}}class Ui extends pt{constructor(e,t=1){super(),this.type="Light",this.color=new Ue(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}Ui.prototype.isLight=!0;class vg extends Ui{constructor(e,t,n){super(e,n),this.type="HemisphereLight",this.position.copy(pt.DefaultUp),this.updateMatrix(),this.groundColor=new Ue(t)}copy(e){return Ui.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}vg.prototype.isHemisphereLight=!0;const W1=new Ze,q1=new z,Y1=new z;class bg{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ee(512,512),this.map=null,this.mapPass=null,this.matrix=new Ze,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new jc,this._frameExtents=new Ee(1,1),this._viewportCount=1,this._viewports=[new Nt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;q1.setFromMatrixPosition(e.matrixWorld),t.position.copy(q1),Y1.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Y1),t.updateMatrixWorld(),W1.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(W1),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class zM extends bg{constructor(){super(new yn(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,n=Mc*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(n!==t.fov||r!==t.aspect||o!==t.far)&&(t.fov=n,t.aspect=r,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}zM.prototype.isSpotLightShadow=!0;class wg extends Ui{constructor(e,t,n=0,r=Math.PI/3,o=0,l=1){super(e,t),this.type="SpotLight",this.position.copy(pt.DefaultUp),this.updateMatrix(),this.target=new pt,this.distance=n,this.angle=r,this.penumbra=o,this.decay=l,this.shadow=new zM}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}wg.prototype.isSpotLight=!0;const X1=new Ze,ac=new z,Hm=new z;class OM extends bg{constructor(){super(new yn(90,1,.5,500)),this._frameExtents=new Ee(4,2),this._viewportCount=6,this._viewports=[new Nt(2,1,1,1),new Nt(0,1,1,1),new Nt(3,1,1,1),new Nt(1,1,1,1),new Nt(3,0,1,1),new Nt(1,0,1,1)],this._cubeDirections=[new z(1,0,0),new z(-1,0,0),new z(0,0,1),new z(0,0,-1),new z(0,1,0),new z(0,-1,0)],this._cubeUps=[new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,0,1),new z(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,o=e.distance||n.far;o!==n.far&&(n.far=o,n.updateProjectionMatrix()),ac.setFromMatrixPosition(e.matrixWorld),n.position.copy(ac),Hm.copy(n.position),Hm.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Hm),n.updateMatrixWorld(),r.makeTranslation(-ac.x,-ac.y,-ac.z),X1.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(X1)}}OM.prototype.isPointLightShadow=!0;class _g extends Ui{constructor(e,t,n=0,r=1){super(e,t),this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new OM}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}_g.prototype.isPointLight=!0;class BM extends bg{constructor(){super(new Fc(-5,5,5,-5,.5,500))}}BM.prototype.isDirectionalLightShadow=!0;class Mg extends Ui{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(pt.DefaultUp),this.updateMatrix(),this.target=new pt,this.shadow=new BM}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Mg.prototype.isDirectionalLight=!0;class Sg extends Ui{constructor(e,t){super(e,t),this.type="AmbientLight"}}Sg.prototype.isAmbientLight=!0;class Eg extends Ui{constructor(e,t,n=10,r=10){super(e,t),this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}Eg.prototype.isRectAreaLight=!0;class Tg{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new z)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*r),t.addScaledVector(l[2],.488603*o),t.addScaledVector(l[3],.488603*n),t.addScaledVector(l[4],1.092548*(n*r)),t.addScaledVector(l[5],1.092548*(r*o)),t.addScaledVector(l[6],.315392*(3*o*o-1)),t.addScaledVector(l[7],1.092548*(n*o)),t.addScaledVector(l[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*r),t.addScaledVector(l[2],2*.511664*o),t.addScaledVector(l[3],2*.511664*n),t.addScaledVector(l[4],2*.429043*n*r),t.addScaledVector(l[5],2*.429043*r*o),t.addScaledVector(l[6],.743125*o*o-.247708),t.addScaledVector(l[7],2*.429043*n*o),t.addScaledVector(l[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,o=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*o,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*n*o,t[8]=.546274*(n*n-r*r)}}Tg.prototype.isSphericalHarmonics3=!0;class qc extends Ui{constructor(e=new Tg,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}qc.prototype.isLightProbe=!0;class UM extends jn{constructor(e){super(e),this.textures={}}load(e,t,n,r){const o=this,l=new $i(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(u){try{t(o.parse(JSON.parse(u)))}catch(d){r?r(d):console.error(d),o.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const r=new F5[e.type];if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ue().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.format!==void 0&&(r.format=e.format),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const l=e.uniforms[o];switch(r.uniforms[o]={},l.type){case"t":r.uniforms[o].value=n(l.value);break;case"c":r.uniforms[o].value=new Ue().setHex(l.value);break;case"v2":r.uniforms[o].value=new Ee().fromArray(l.value);break;case"v3":r.uniforms[o].value=new z().fromArray(l.value);break;case"v4":r.uniforms[o].value=new Nt().fromArray(l.value);break;case"m3":r.uniforms[o].value=new fn().fromArray(l.value);break;case"m4":r.uniforms[o].value=new Ze().fromArray(l.value);break;default:r.uniforms[o].value=l.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const o in e.extensions)r.extensions[o]=e.extensions[o];if(e.shading!==void 0&&(r.flatShading=e.shading===1),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),r.normalScale=new Ee().fromArray(o)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Ee().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}}class ud{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Ag extends tt{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}Ag.prototype.isInstancedBufferGeometry=!0;class PM extends jn{constructor(e){super(e)}load(e,t,n,r){const o=this,l=new $i(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(u){try{t(o.parse(JSON.parse(u)))}catch(d){r?r(d):console.error(d),o.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(b,v){if(t[v]!==void 0)return t[v];const E=b.interleavedBuffers[v],M=o(b,E.buffer),S=Lo(E.type,M),C=new Ea(S,E.stride);return C.uuid=E.uuid,t[v]=C,C}function o(b,v){if(n[v]!==void 0)return n[v];const E=b.arrayBuffers[v],M=new Uint32Array(E).buffer;return n[v]=M,M}const l=e.isInstancedBufferGeometry?new Ag:new tt,u=e.data.index;if(u!==void 0){const b=Lo(u.type,u.array);l.setIndex(new bt(b,1))}const d=e.data.attributes;for(const b in d){const v=d[b];let _;if(v.isInterleavedBufferAttribute){const E=r(e.data,v.data);_=new _r(E,v.itemSize,v.offset,v.normalized)}else{const E=Lo(v.type,v.array),M=v.isInstancedBufferAttribute?fa:bt;_=new M(E,v.itemSize,v.normalized)}v.name!==void 0&&(_.name=v.name),v.usage!==void 0&&_.setUsage(v.usage),v.updateRange!==void 0&&(_.updateRange.offset=v.updateRange.offset,_.updateRange.count=v.updateRange.count),l.setAttribute(b,_)}const f=e.data.morphAttributes;if(f)for(const b in f){const v=f[b],_=[];for(let E=0,M=v.length;E<M;E++){const S=v[E];let C;if(S.isInterleavedBufferAttribute){const A=r(e.data,S.data);C=new _r(A,S.itemSize,S.offset,S.normalized)}else{const A=Lo(S.type,S.array);C=new bt(A,S.itemSize,S.normalized)}S.name!==void 0&&(C.name=S.name),_.push(C)}l.morphAttributes[b]=_}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let b=0,v=g.length;b!==v;++b){const _=g[b];l.addGroup(_.start,_.count,_.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const b=new z;y.center!==void 0&&b.fromArray(y.center),l.boundingSphere=new Ar(b,y.radius)}return e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class W5 extends jn{constructor(e){super(e)}load(e,t,n,r){const o=this,l=this.path===""?ud.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const u=new $i(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(d){let f=null;try{f=JSON.parse(d)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const p=f.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(f,t)},n,r)}async loadAsync(e,t){const n=this,r=this.path===""?ud.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const o=new $i(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const l=await o.loadAsync(e,t),u=JSON.parse(l),d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(u)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,r),l=this.parseImages(e.images,function(){t!==void 0&&t(f)}),u=this.parseTextures(e.textures,l),d=this.parseMaterials(e.materials,u),f=this.parseObject(e.object,o,d,u,n),p=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,p),t!==void 0){let g=!1;for(const y in l)if(l[y]instanceof HTMLImageElement){g=!0;break}g===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),o=await this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,o),u=this.parseMaterials(e.materials,l),d=this.parseObject(e.object,r,u,l,t),f=this.parseSkeletons(e.skeletons,d);return this.bindSkeletons(d,f),d}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const o=new Xi().fromJSON(e[n]);t[o.uuid]=o}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(o){o.isBone&&(r[o.uuid]=o)}),e!==void 0)for(let o=0,l=e.length;o<l;o++){const u=new Dd().fromJSON(e[o],r);n[u.uuid]=u}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new PM;for(let o=0,l=e.length;o<l;o++){let u;const d=e[o];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":u=r.parse(d);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:d.type in V1?u=V1[d.type].fromJSON(d,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${d.type}"`)}u.uuid=d.uuid,d.name!==void 0&&(u.name=d.name),u.isBufferGeometry===!0&&d.userData!==void 0&&(u.userData=d.userData),n[d.uuid]=u}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const o=new UM;o.setTextures(t);for(let l=0,u=e.length;l<u;l++){const d=e[l];if(d.type==="MultiMaterial"){const f=[];for(let p=0;p<d.materials.length;p++){const g=d.materials[p];n[g.uuid]===void 0&&(n[g.uuid]=o.parse(g)),f.push(n[g.uuid])}r[d.uuid]=f}else n[d.uuid]===void 0&&(n[d.uuid]=o.parse(d)),r[d.uuid]=n[d.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],o=Nc.parse(r);t[o.uuid]=o}return t}parseImages(e,t){const n=this,r={};let o;function l(d){return n.manager.itemStart(d),o.load(d,function(){n.manager.itemEnd(d)},void 0,function(){n.manager.itemError(d),n.manager.itemEnd(d)})}function u(d){if(typeof d=="string"){const f=d,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:n.resourcePath+f;return l(p)}else return d.data?{data:Lo(d.type,d.data),width:d.width,height:d.height}:null}if(e!==void 0&&e.length>0){const d=new yg(t);o=new Lc(d),o.setCrossOrigin(this.crossOrigin);for(let f=0,p=e.length;f<p;f++){const g=e[f],y=g.url;if(Array.isArray(y)){r[g.uuid]=[];for(let b=0,v=y.length;b<v;b++){const _=y[b],E=u(_);E!==null&&(E instanceof HTMLImageElement?r[g.uuid].push(E):r[g.uuid].push(new la(E.data,E.width,E.height)))}}else{const b=u(g.url);b!==null&&(r[g.uuid]=b)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function o(l){if(typeof l=="string"){const u=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:t.resourcePath+u;return await r.loadAsync(d)}else return l.data?{data:Lo(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){r=new Lc(this.manager),r.setCrossOrigin(this.crossOrigin);for(let l=0,u=e.length;l<u;l++){const d=e[l],f=d.url;if(Array.isArray(f)){n[d.uuid]=[];for(let p=0,g=f.length;p<g;p++){const y=f[p],b=await o(y);b!==null&&(b instanceof HTMLImageElement?n[d.uuid].push(b):n[d.uuid].push(new la(b.data,b.width,b.height)))}}else{const p=await o(d.url);p!==null&&(n[d.uuid]=p)}}}return n}parseTextures(e,t){function n(o,l){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),l[o])}const r={};if(e!==void 0)for(let o=0,l=e.length;o<l;o++){const u=e[o];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),t[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);let d;const f=t[u.image];Array.isArray(f)?(d=new $o(f),f.length===6&&(d.needsUpdate=!0)):(f&&f.data?d=new la(f.data,f.width,f.height):d=new Bn(f),f&&(d.needsUpdate=!0)),d.uuid=u.uuid,u.name!==void 0&&(d.name=u.name),u.mapping!==void 0&&(d.mapping=n(u.mapping,q5)),u.offset!==void 0&&d.offset.fromArray(u.offset),u.repeat!==void 0&&d.repeat.fromArray(u.repeat),u.center!==void 0&&d.center.fromArray(u.center),u.rotation!==void 0&&(d.rotation=u.rotation),u.wrap!==void 0&&(d.wrapS=n(u.wrap[0],Z1),d.wrapT=n(u.wrap[1],Z1)),u.format!==void 0&&(d.format=u.format),u.type!==void 0&&(d.type=u.type),u.encoding!==void 0&&(d.encoding=u.encoding),u.minFilter!==void 0&&(d.minFilter=n(u.minFilter,J1)),u.magFilter!==void 0&&(d.magFilter=n(u.magFilter,J1)),u.anisotropy!==void 0&&(d.anisotropy=u.anisotropy),u.flipY!==void 0&&(d.flipY=u.flipY),u.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(d.unpackAlignment=u.unpackAlignment),u.userData!==void 0&&(d.userData=u.userData),r[u.uuid]=d}return r}parseObject(e,t,n,r,o){let l;function u(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function d(y){if(y!==void 0){if(Array.isArray(y)){const b=[];for(let v=0,_=y.length;v<_;v++){const E=y[v];n[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),b.push(n[E])}return b}return n[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),n[y]}}function f(y){return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),r[y]}let p,g;switch(e.type){case"Scene":l=new Ad,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new Ue(e.background):l.background=f(e.background)),e.environment!==void 0&&(l.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new Hc(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new Ic(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":l=new yn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new Fc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new Sg(e.color,e.intensity);break;case"DirectionalLight":l=new Mg(e.color,e.intensity);break;case"PointLight":l=new _g(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new Eg(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new wg(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":l=new vg(e.color,e.groundColor,e.intensity);break;case"LightProbe":l=new qc().fromJSON(e);break;case"SkinnedMesh":p=u(e.geometry),g=d(e.material),l=new Nd(p,g),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":p=u(e.geometry),g=d(e.material),l=new cn(p,g);break;case"InstancedMesh":p=u(e.geometry),g=d(e.material);const y=e.count,b=e.instanceMatrix,v=e.instanceColor;l=new K0(p,g,y),l.instanceMatrix=new fa(new Float32Array(b.array),16),v!==void 0&&(l.instanceColor=new fa(new Float32Array(v.array),v.itemSize));break;case"LOD":l=new xM;break;case"Line":l=new Bs(u(e.geometry),d(e.material));break;case"LineLoop":l=new $0(u(e.geometry),d(e.material));break;case"LineSegments":l=new Jn(u(e.geometry),d(e.material));break;case"PointCloud":case"Points":l=new Gc(u(e.geometry),d(e.material));break;case"Sprite":l=new Rd(d(e.material));break;case"Group":l=new na;break;case"Bone":l=new Ld;break;default:l=new pt}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let b=0;b<y.length;b++)l.add(this.parseObject(y[b],t,n,r,o))}if(e.animations!==void 0){const y=e.animations;for(let b=0;b<y.length;b++){const v=y[b];l.animations.push(o[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const y=e.levels;for(let b=0;b<y.length;b++){const v=y[b],_=l.getObjectByProperty("uuid",v.object);_!==void 0&&l.addLevel(_,v.distance)}}return l}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const q5={UVMapping:md,CubeReflectionMapping:ba,CubeRefractionMapping:wa,EquirectangularReflectionMapping:mc,EquirectangularRefractionMapping:gc,CubeUVReflectionMapping:Ko,CubeUVRefractionMapping:Uc},Z1={RepeatWrapping:xc,ClampToEdgeWrapping:An,MirroredRepeatWrapping:yc},J1={NearestFilter:ln,NearestMipmapNearestFilter:ld,NearestMipmapLinearFilter:cd,LinearFilter:dn,LinearMipmapNearestFilter:F0,LinearMipmapLinearFilter:_a};class kM extends jn{constructor(e){super(e),typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=xa.get(e);if(l!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l;const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader,fetch(e,u).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(d){xa.add(e,d),t&&t(d),o.manager.itemEnd(e)}).catch(function(d){r&&r(d),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}kM.prototype.isImageBitmapLoader=!0;let Vh;const Cg={getContext:function(){return Vh===void 0&&(Vh=new(window.AudioContext||window.webkitAudioContext)),Vh},setContext:function(s){Vh=s}};class jM extends jn{constructor(e){super(e)}load(e,t,n,r){const o=this,l=new $i(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{const d=u.slice(0);Cg.getContext().decodeAudioData(d,function(p){t(p)})}catch(d){r?r(d):console.error(d),o.manager.itemError(e)}},n,r)}}class FM extends qc{constructor(e,t,n=1){super(void 0,n);const r=new Ue().set(e),o=new Ue().set(t),l=new z(r.r,r.g,r.b),u=new z(o.r,o.g,o.b),d=Math.sqrt(Math.PI),f=d*Math.sqrt(.75);this.sh.coefficients[0].copy(l).add(u).multiplyScalar(d),this.sh.coefficients[1].copy(l).sub(u).multiplyScalar(f)}}FM.prototype.isHemisphereLightProbe=!0;class IM extends qc{constructor(e,t=1){super(void 0,t);const n=new Ue().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}IM.prototype.isAmbientLightProbe=!0;const Q1=new Ze,K1=new Ze;class Y5{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new yn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new yn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const r=e.projectionMatrix.clone(),o=t.eyeSep/2,l=o*t.near/t.focus,u=t.near*Math.tan(oa*t.fov*.5)/t.zoom;let d,f;K1.elements[12]=-o,Q1.elements[12]=o,d=-u*t.aspect+l,f=u*t.aspect+l,r.elements[0]=2*t.near/(f-d),r.elements[8]=(f+d)/(f-d),this.cameraL.projectionMatrix.copy(r),d=-u*t.aspect-l,f=u*t.aspect-l,r.elements[0]=2*t.near/(f-d),r.elements[8]=(f+d)/(f-d),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(K1),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Q1)}}class HM{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=$1(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=$1();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function $1(){return(typeof performance>"u"?Date:performance).now()}const Xr=new z,ew=new Rn,X5=new z,Zr=new z;class Z5 extends pt{constructor(){super(),this.type="AudioListener",this.context=Cg.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new HM}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Xr,ew,X5),Zr.set(0,0,-1).applyQuaternion(ew),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Xr.x,r),t.positionY.linearRampToValueAtTime(Xr.y,r),t.positionZ.linearRampToValueAtTime(Xr.z,r),t.forwardX.linearRampToValueAtTime(Zr.x,r),t.forwardY.linearRampToValueAtTime(Zr.y,r),t.forwardZ.linearRampToValueAtTime(Zr.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(Xr.x,Xr.y,Xr.z),t.setOrientation(Zr.x,Zr.y,Zr.z,n.x,n.y,n.z)}}class Rg extends pt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Jr=new z,tw=new Rn,J5=new z,Qr=new z;class Q5 extends Rg{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Jr,tw,J5),Qr.set(0,0,1).applyQuaternion(tw);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Jr.x,n),t.positionY.linearRampToValueAtTime(Jr.y,n),t.positionZ.linearRampToValueAtTime(Jr.z,n),t.orientationX.linearRampToValueAtTime(Qr.x,n),t.orientationY.linearRampToValueAtTime(Qr.y,n),t.orientationZ.linearRampToValueAtTime(Qr.z,n)}else t.setPosition(Jr.x,Jr.y,Jr.z),t.setOrientation(Qr.x,Qr.y,Qr.z)}}class GM{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class VM{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,o,l;switch(t){case"quaternion":r=this._slerp,o=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,o=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,o=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=o,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,o=e*r+r;let l=this.cumulativeWeight;if(l===0){for(let u=0;u!==r;++u)n[o+u]=n[u];l=t}else{l+=t;const u=t/l;this._mixBufferRegion(n,o,0,u,r)}this.cumulativeWeight=l}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,o=this.cumulativeWeight,l=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const d=t*this._origIndex;this._mixBufferRegion(n,r,d,1-o,t)}l>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let d=t,f=t+t;d!==f;++d)if(n[d]!==n[d+t]){u.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let o=n,l=r;o!==l;++o)t[o]=t[r+o%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,o){if(r>=.5)for(let l=0;l!==o;++l)e[t+l]=e[n+l]}_slerp(e,t,n,r){Rn.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,o){const l=this._workIndex*o;Rn.multiplyQuaternionsFlat(e,l,e,t,e,n),Rn.slerpFlat(e,t,e,t,e,l,r)}_lerp(e,t,n,r,o){const l=1-r;for(let u=0;u!==o;++u){const d=t+u;e[d]=e[d]*l+e[n+u]*r}}_lerpAdditive(e,t,n,r,o){for(let l=0;l!==o;++l){const u=t+l;e[u]=e[u]+e[n+l]*r}}}const Ng="\\[\\]\\.:\\/",K5=new RegExp("["+Ng+"]","g"),Lg="[^"+Ng+"]",$5="[^"+Ng.replace("\\.","")+"]",eD=/((?:WC+[\/:])*)/.source.replace("WC",Lg),tD=/(WCOD+)?/.source.replace("WCOD",$5),nD=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Lg),iD=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Lg),sD=new RegExp("^"+eD+tD+nD+iD+"$"),rD=["material","materials","bones"];class aD{constructor(e,t,n){const r=n||_t.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=n.length;r!==o;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class _t{constructor(e,t,n){this.path=t,this.parsedPath=n||_t.parseTrackName(t),this.node=_t.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new _t.Composite(e,t,n):new _t(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(K5,"")}static parseTrackName(e){const t=sD.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const o=n.nodeName.substring(r+1);rD.indexOf(o)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=o)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(o){for(let l=0;l<o.length;l++){const u=o[l];if(u.name===t||u.uuid===t)return u;const d=n(u.children);if(d)return d}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let o=t.propertyIndex;if(e||(e=_t.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let f=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===f){f=p;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const l=e[r];if(l===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?u=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(o!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}d=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else l.fromArray!==void 0&&l.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(d=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=r;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}_t.Composite=aD;_t.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};_t.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};_t.prototype.GetterByBindingType=[_t.prototype._getValue_direct,_t.prototype._getValue_array,_t.prototype._getValue_arrayElement,_t.prototype._getValue_toArray];_t.prototype.SetterByBindingTypeAndVersioning=[[_t.prototype._setValue_direct,_t.prototype._setValue_direct_setNeedsUpdate,_t.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[_t.prototype._setValue_array,_t.prototype._setValue_array_setNeedsUpdate,_t.prototype._setValue_array_setMatrixWorldNeedsUpdate],[_t.prototype._setValue_arrayElement,_t.prototype._setValue_arrayElement_setNeedsUpdate,_t.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[_t.prototype._setValue_fromArray,_t.prototype._setValue_fromArray_setNeedsUpdate,_t.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class WM{constructor(){this.uuid=ui(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,o=this._bindings,l=o.length;let u,d=e.length,f=this.nCachedObjects_;for(let p=0,g=arguments.length;p!==g;++p){const y=arguments[p],b=y.uuid;let v=t[b];if(v===void 0){v=d++,t[b]=v,e.push(y);for(let _=0,E=l;_!==E;++_)o[_].push(new _t(y,n[_],r[_]))}else if(v<f){u=e[v];const _=--f,E=e[_];t[E.uuid]=v,e[v]=E,t[b]=_,e[_]=y;for(let M=0,S=l;M!==S;++M){const C=o[M],A=C[_];let N=C[v];C[v]=A,N===void 0&&(N=new _t(y,n[M],r[M])),C[_]=N}}else e[v]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_;for(let l=0,u=arguments.length;l!==u;++l){const d=arguments[l],f=d.uuid,p=t[f];if(p!==void 0&&p>=o){const g=o++,y=e[g];t[y.uuid]=p,e[p]=y,t[f]=g,e[g]=d;for(let b=0,v=r;b!==v;++b){const _=n[b],E=_[g],M=_[p];_[p]=E,_[g]=M}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_,l=e.length;for(let u=0,d=arguments.length;u!==d;++u){const f=arguments[u],p=f.uuid,g=t[p];if(g!==void 0)if(delete t[p],g<o){const y=--o,b=e[y],v=--l,_=e[v];t[b.uuid]=g,e[g]=b,t[_.uuid]=y,e[y]=_,e.pop();for(let E=0,M=r;E!==M;++E){const S=n[E],C=S[y],A=S[v];S[g]=C,S[y]=A,S.pop()}}else{const y=--l,b=e[y];y>0&&(t[b.uuid]=g),e[g]=b,e.pop();for(let v=0,_=r;v!==_;++v){const E=n[v];E[g]=E[y],E.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const o=this._bindings;if(r!==void 0)return o[r];const l=this._paths,u=this._parsedPaths,d=this._objects,f=d.length,p=this.nCachedObjects_,g=new Array(f);r=o.length,n[e]=r,l.push(e),u.push(t),o.push(g);for(let y=p,b=d.length;y!==b;++y){const v=d[y];g[y]=new _t(v,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,o=this._parsedPaths,l=this._bindings,u=l.length-1,d=l[u],f=e[u];t[f]=n,l[n]=d,l.pop(),o[n]=o[u],o.pop(),r[n]=r[u],r.pop()}}}WM.prototype.isAnimationObjectGroup=!0;class oD{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const o=t.tracks,l=o.length,u=new Array(l),d={endingStart:ea,endingEnd:ea};for(let f=0;f!==l;++f){const p=o[f].createInterpolant(null);u[f]=p,p.settings=d}this._interpolantSettings=d,this._interpolants=u,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=O2,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const r=this._clip.duration,o=e._clip.duration,l=o/r,u=r/o;e.warp(1,l,t),this.warp(u,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,o=r.time,l=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=r._lendControlInterpolant(),this._timeScaleInterpolant=u);const d=u.parameterPositions,f=u.sampleValues;return d[0]=o,d[1]=o+n,f[0]=e/l,f[1]=t/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const d=(e-o)*n;if(d<0||n===0)return;this._startTime=null,t=n*d}t*=this._updateTimeScale(e);const l=this._updateTime(t),u=this._updateWeight(e);if(u>0){const d=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case I0:for(let p=0,g=d.length;p!==g;++p)d[p].evaluate(l),f[p].accumulateAdditive(u);break;case gd:default:for(let p=0,g=d.length;p!==g;++p)d[p].evaluate(l),f[p].accumulate(r,u)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,o=this._loopCount;const l=n===B2;if(e===0)return o===-1?r:l&&(o&1)===1?t-r:r;if(n===z2){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),r>=t||r<0){const u=Math.floor(r/t);r-=t*u,o+=Math.abs(u);const d=this.repetitions-o;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(d===1){const f=e<0;this._setEndings(f,!f,l)}else this._setEndings(!1,!1,l);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=r;if(l&&(o&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=ta,r.endingEnd=ta):(e?r.endingStart=this.zeroSlopeAtStart?ta:ea:r.endingStart=_c,t?r.endingEnd=this.zeroSlopeAtEnd?ta:ea:r.endingEnd=_c)}_scheduleFading(e,t,n){const r=this._mixer,o=r.time;let l=this._weightInterpolant;l===null&&(l=r._lendControlInterpolant(),this._weightInterpolant=l);const u=l.parameterPositions,d=l.sampleValues;return u[0]=o,d[0]=t,u[1]=o+e,d[1]=n,this}}class qM extends Tr{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,o=r.length,l=e._propertyBindings,u=e._interpolants,d=n.uuid,f=this._bindingsByRootAndName;let p=f[d];p===void 0&&(p={},f[d]=p);for(let g=0;g!==o;++g){const y=r[g],b=y.name;let v=p[b];if(v!==void 0)l[g]=v;else{if(v=l[g],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,d,b));continue}const _=t&&t._propertyBindings[g].binding.parsedPath;v=new VM(_t.create(n,b,_),y.ValueTypeName,y.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,d,b),l[g]=v}u[g].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,o=this._actionsByClip[r];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,o=this._actionsByClip;let l=o[t];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=l;else{const u=l.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=r.length,r.push(e),l.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,l=this._actionsByClip,u=l[o],d=u.knownActions,f=d[d.length-1],p=e._byClipCacheIndex;f._byClipCacheIndex=p,d[p]=f,d.pop(),e._byClipCacheIndex=null;const g=u.actionByRoot,y=(e._localRoot||this._root).uuid;delete g[y],d.length===0&&delete l[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,o=this._bindings;let l=r[t];l===void 0&&(l={},r[t]=l),l[n]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,o=n.path,l=this._bindingsByRootAndName,u=l[r],d=t[t.length-1],f=e._cacheIndex;d._cacheIndex=f,t[f]=d,t.pop(),delete u[o],Object.keys(u).length===0&&delete l[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new gg(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,o=t[r];e.__cacheIndex=r,t[r]=e,o.__cacheIndex=n,t[n]=o}clipAction(e,t,n){const r=t||this._root,o=r.uuid;let l=typeof e=="string"?Nc.findByName(r,e):e;const u=l!==null?l.uuid:e,d=this._actionsByClip[u];let f=null;if(n===void 0&&(l!==null?n=l.blendMode:n=gd),d!==void 0){const g=d.actionByRoot[o];if(g!==void 0&&g.blendMode===n)return g;f=d.knownActions[0],l===null&&(l=f._clip)}if(l===null)return null;const p=new oD(this,l,t,n);return this._bindAction(p,f),this._addInactiveAction(p,u,o),p}existingAction(e,t){const n=t||this._root,r=n.uuid,o=typeof e=="string"?Nc.findByName(n,e):e,l=o?o.uuid:e,u=this._actionsByClip[l];return u!==void 0&&u.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,o=Math.sign(e),l=this._accuIndex^=1;for(let f=0;f!==n;++f)t[f]._update(r,e,o,l);const u=this._bindings,d=this._nActiveBindings;for(let f=0;f!==d;++f)u[f].apply(l);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,o=r[n];if(o!==void 0){const l=o.knownActions;for(let u=0,d=l.length;u!==d;++u){const f=l[u];this._deactivateAction(f);const p=f._cacheIndex,g=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,g._cacheIndex=p,t[p]=g,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const l in n){const u=n[l].actionByRoot,d=u[t];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const r=this._bindingsByRootAndName,o=r[t];if(o!==void 0)for(const l in o){const u=o[l];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}qM.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class jd{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new jd(this.value.clone===void 0?this.value:this.value.clone())}}class YM extends Ea{constructor(e,t,n=1){super(e,t),this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}YM.prototype.isInstancedInterleavedBuffer=!0;class XM{constructor(e,t,n,r,o){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}XM.prototype.isGLBufferAttribute=!0;class lD{constructor(e,t,n=0,r=1/0){this.ray=new Cr(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new Y0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return _0(e,this,n,t),n.sort(nw),n}intersectObjects(e,t=!0,n=[]){for(let r=0,o=e.length;r<o;r++)_0(e[r],this,n,t);return n.sort(nw),n}}function nw(s,e){return s.distance-e.distance}function _0(s,e,t,n){if(s.layers.test(e.layers)&&s.raycast(e,t),n===!0){const r=s.children;for(let o=0,l=r.length;o<l;o++)_0(r[o],e,t,!0)}}class cD{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Tn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class uD{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}const iw=new Ee;class il{constructor(e=new Ee(1/0,1/0),t=new Ee(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=iw.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return iw.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}il.prototype.isBox2=!0;const sw=new z,Wh=new z;class ZM{constructor(e=new z,t=new z){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){sw.subVectors(e,this.start),Wh.subVectors(this.end,this.start);const n=Wh.dot(Wh);let o=Wh.dot(sw)/n;return t&&(o=Tn(o,0,1)),o}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const rw=new z;class hD extends pt{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const n=new tt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,u=1,d=32;l<d;l++,u++){const f=l/d*Math.PI*2,p=u/d*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(p),Math.sin(p),1)}n.setAttribute("position",new Xe(r,3));const o=new bn({fog:!1,toneMapped:!1});this.cone=new Jn(n,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),rw.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(rw),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const gr=new z,qh=new Ze,Gm=new Ze;class JM extends Jn{constructor(e){const t=QM(e),n=new tt,r=[],o=[],l=new Ue(0,0,1),u=new Ue(0,1,0);for(let f=0;f<t.length;f++){const p=t[f];p.parent&&p.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),o.push(l.r,l.g,l.b),o.push(u.r,u.g,u.b))}n.setAttribute("position",new Xe(r,3)),n.setAttribute("color",new Xe(o,3));const d=new bn({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,d),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");Gm.copy(this.root.matrixWorld).invert();for(let o=0,l=0;o<t.length;o++){const u=t[o];u.parent&&u.parent.isBone&&(qh.multiplyMatrices(Gm,u.matrixWorld),gr.setFromMatrixPosition(qh),r.setXYZ(l,gr.x,gr.y,gr.z),qh.multiplyMatrices(Gm,u.parent.matrixWorld),gr.setFromMatrixPosition(qh),r.setXYZ(l+1,gr.x,gr.y,gr.z),l+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function QM(s){const e=[];s&&s.isBone&&e.push(s);for(let t=0;t<s.children.length;t++)e.push.apply(e,QM(s.children[t]));return e}class dD extends cn{constructor(e,t,n){const r=new ga(t,4,2),o=new ks({wireframe:!0,fog:!1,toneMapped:!1});super(r,o),this.light=e,this.light.updateMatrixWorld(),this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const fD=new z,aw=new Ue,ow=new Ue;class pD extends pt{constructor(e,t,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const r=new pa(t);r.rotateY(Math.PI*.5),this.material=new ks({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=r.getAttribute("position"),l=new Float32Array(o.count*3);r.setAttribute("color",new bt(l,3)),this.add(new cn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");aw.copy(this.light.color),ow.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const o=n<r/2?aw:ow;t.setXYZ(n,o.r,o.g,o.b)}t.needsUpdate=!0}e.lookAt(fD.setFromMatrixPosition(this.light.matrixWorld).negate())}}class KM extends Jn{constructor(e=10,t=10,n=4473924,r=8947848){n=new Ue(n),r=new Ue(r);const o=t/2,l=e/t,u=e/2,d=[],f=[];for(let y=0,b=0,v=-u;y<=t;y++,v+=l){d.push(-u,0,v,u,0,v),d.push(v,0,-u,v,0,u);const _=y===o?n:r;_.toArray(f,b),b+=3,_.toArray(f,b),b+=3,_.toArray(f,b),b+=3,_.toArray(f,b),b+=3}const p=new tt;p.setAttribute("position",new Xe(d,3)),p.setAttribute("color",new Xe(f,3));const g=new bn({vertexColors:!0,toneMapped:!1});super(p,g),this.type="GridHelper"}}class mD extends Jn{constructor(e=10,t=16,n=8,r=64,o=4473924,l=8947848){o=new Ue(o),l=new Ue(l);const u=[],d=[];for(let g=0;g<=t;g++){const y=g/t*(Math.PI*2),b=Math.sin(y)*e,v=Math.cos(y)*e;u.push(0,0,0),u.push(b,0,v);const _=g&1?o:l;d.push(_.r,_.g,_.b),d.push(_.r,_.g,_.b)}for(let g=0;g<=n;g++){const y=g&1?o:l,b=e-e/n*g;for(let v=0;v<r;v++){let _=v/r*(Math.PI*2),E=Math.sin(_)*b,M=Math.cos(_)*b;u.push(E,0,M),d.push(y.r,y.g,y.b),_=(v+1)/r*(Math.PI*2),E=Math.sin(_)*b,M=Math.cos(_)*b,u.push(E,0,M),d.push(y.r,y.g,y.b)}}const f=new tt;f.setAttribute("position",new Xe(u,3)),f.setAttribute("color",new Xe(d,3));const p=new bn({vertexColors:!0,toneMapped:!1});super(f,p),this.type="PolarGridHelper"}}const lw=new z,Yh=new z,cw=new z;class gD extends pt{constructor(e,t,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,t===void 0&&(t=1);let r=new tt;r.setAttribute("position",new Xe([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new bn({fog:!1,toneMapped:!1});this.lightPlane=new Bs(r,o),this.add(this.lightPlane),r=new tt,r.setAttribute("position",new Xe([0,0,0,0,0,1],3)),this.targetLine=new Bs(r,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){lw.setFromMatrixPosition(this.light.matrixWorld),Yh.setFromMatrixPosition(this.light.target.matrixWorld),cw.subVectors(Yh,lw),this.lightPlane.lookAt(Yh),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Yh),this.targetLine.scale.z=cw.length()}}const Xh=new z,Xt=new kc;class xD extends Jn{constructor(e){const t=new tt,n=new bn({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],o=[],l={},u=new Ue(16755200),d=new Ue(16711680),f=new Ue(43775),p=new Ue(16777215),g=new Ue(3355443);y("n1","n2",u),y("n2","n4",u),y("n4","n3",u),y("n3","n1",u),y("f1","f2",u),y("f2","f4",u),y("f4","f3",u),y("f3","f1",u),y("n1","f1",u),y("n2","f2",u),y("n3","f3",u),y("n4","f4",u),y("p","n1",d),y("p","n2",d),y("p","n3",d),y("p","n4",d),y("u1","u2",f),y("u2","u3",f),y("u3","u1",f),y("c","t",p),y("p","c",g),y("cn1","cn2",g),y("cn3","cn4",g),y("cf1","cf2",g),y("cf3","cf4",g);function y(v,_,E){b(v,E),b(_,E)}function b(v,_){r.push(0,0,0),o.push(_.r,_.g,_.b),l[v]===void 0&&(l[v]=[]),l[v].push(r.length/3-1)}t.setAttribute("position",new Xe(r,3)),t.setAttribute("color",new Xe(o,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update()}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;Xt.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Kt("c",t,e,Xt,0,0,-1),Kt("t",t,e,Xt,0,0,1),Kt("n1",t,e,Xt,-n,-r,-1),Kt("n2",t,e,Xt,n,-r,-1),Kt("n3",t,e,Xt,-n,r,-1),Kt("n4",t,e,Xt,n,r,-1),Kt("f1",t,e,Xt,-n,-r,1),Kt("f2",t,e,Xt,n,-r,1),Kt("f3",t,e,Xt,-n,r,1),Kt("f4",t,e,Xt,n,r,1),Kt("u1",t,e,Xt,n*.7,r*1.1,-1),Kt("u2",t,e,Xt,-n*.7,r*1.1,-1),Kt("u3",t,e,Xt,0,r*2,-1),Kt("cf1",t,e,Xt,-n,0,1),Kt("cf2",t,e,Xt,n,0,1),Kt("cf3",t,e,Xt,0,-r,1),Kt("cf4",t,e,Xt,0,r,1),Kt("cn1",t,e,Xt,-n,0,-1),Kt("cn2",t,e,Xt,n,0,-1),Kt("cn3",t,e,Xt,0,-r,-1),Kt("cn4",t,e,Xt,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Kt(s,e,t,n,r,o,l){Xh.set(r,o,l).unproject(n);const u=e[s];if(u!==void 0){const d=t.getAttribute("position");for(let f=0,p=u.length;f<p;f++)d.setXYZ(u[f],Xh.x,Xh.y,Xh.z)}}const Zh=new di;class $M extends Jn{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),o=new tt;o.setIndex(new bt(n,1)),o.setAttribute("position",new bt(r,3)),super(o,new bn({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Zh.setFromObject(this.object),Zh.isEmpty())return;const t=Zh.min,n=Zh.max,r=this.geometry.attributes.position,o=r.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=t.x,o[4]=n.y,o[5]=n.z,o[6]=t.x,o[7]=t.y,o[8]=n.z,o[9]=n.x,o[10]=t.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=t.z,o[15]=t.x,o[16]=n.y,o[17]=t.z,o[18]=t.x,o[19]=t.y,o[20]=t.z,o[21]=n.x,o[22]=t.y,o[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return Jn.prototype.copy.call(this,e),this.object=e.object,this}}class yD extends Jn{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new tt;o.setIndex(new bt(n,1)),o.setAttribute("position",new Xe(r,3)),super(o,new bn({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class vD extends Bs{constructor(e,t=1,n=16776960){const r=n,o=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],l=new tt;l.setAttribute("position",new Xe(o,3)),l.computeBoundingSphere(),super(l,new bn({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const u=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],d=new tt;d.setAttribute("position",new Xe(u,3)),d.computeBoundingSphere(),this.add(new cn(d,new ks({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?$t:ua,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const uw=new z;let Jh,Vm;class bD extends pt{constructor(e=new z(0,0,1),t=new z(0,0,0),n=1,r=16776960,o=n*.2,l=o*.2){super(),this.type="ArrowHelper",Jh===void 0&&(Jh=new tt,Jh.setAttribute("position",new Xe([0,0,0,0,1,0],3)),Vm=new Mr(0,.5,1,5,1),Vm.translate(0,-.5,0)),this.position.copy(t),this.line=new Bs(Jh,new bn({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new cn(Vm,new ks({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,o,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{uw.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(uw,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class eS extends Jn{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new tt;r.setAttribute("position",new Xe(t,3)),r.setAttribute("color",new Xe(n,3));const o=new bn({vertexColors:!0,toneMapped:!1});super(r,o),this.type="AxesHelper"}setColors(e,t,n){const r=new Ue,o=this.geometry.attributes.color.array;return r.set(e),r.toArray(o,0),r.toArray(o,3),r.set(t),r.toArray(o,6),r.toArray(o,9),r.set(n),r.toArray(o,12),r.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class wD{constructor(){this.type="ShapePath",this.color=new Ue,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Sc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,o,l){return this.currentPath.bezierCurveTo(e,t,n,r,o,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function n(S){const C=[];for(let A=0,N=S.length;A<N;A++){const D=S[A],R=new Xi;R.curves=D.curves,C.push(R)}return C}function r(S,C){const A=C.length;let N=!1;for(let D=A-1,R=0;R<A;D=R++){let P=C[D],q=C[R],G=q.x-P.x,j=q.y-P.y;if(Math.abs(j)>Number.EPSILON){if(j<0&&(P=C[R],G=-G,q=C[D],j=-j),S.y<P.y||S.y>q.y)continue;if(S.y===P.y){if(S.x===P.x)return!0}else{const oe=j*(S.x-P.x)-G*(S.y-P.y);if(oe===0)return!0;if(oe<0)continue;N=!N}}else{if(S.y!==P.y)continue;if(q.x<=S.x&&S.x<=P.x||P.x<=S.x&&S.x<=q.x)return!0}}return N}const o=Zi.isClockWise,l=this.subPaths;if(l.length===0)return[];if(t===!0)return n(l);let u,d,f;const p=[];if(l.length===1)return d=l[0],f=new Xi,f.curves=d.curves,p.push(f),p;let g=!o(l[0].getPoints());g=e?!g:g;const y=[],b=[];let v=[],_=0,E;b[_]=void 0,v[_]=[];for(let S=0,C=l.length;S<C;S++)d=l[S],E=d.getPoints(),u=o(E),u=e?!u:u,u?(!g&&b[_]&&_++,b[_]={s:new Xi,p:E},b[_].s.curves=d.curves,g&&_++,v[_]=[]):v[_].push({h:d,p:E[0]});if(!b[0])return n(l);if(b.length>1){let S=!1;const C=[];for(let A=0,N=b.length;A<N;A++)y[A]=[];for(let A=0,N=b.length;A<N;A++){const D=v[A];for(let R=0;R<D.length;R++){const P=D[R];let q=!0;for(let G=0;G<b.length;G++)r(P.p,b[G].p)&&(A!==G&&C.push({froms:A,tos:G,hole:R}),q?(q=!1,y[G].push(P)):S=!0);q&&y[A].push(P)}}C.length>0&&(S||(v=y))}let M;for(let S=0,C=b.length;S<C;S++){f=b[S].s,p.push(f),M=v[S];for(let A=0,N=M.length;A<N;A++)f.holes.push(M[A].h)}return p}}const tS=new Float32Array(1),_D=new Int32Array(tS.buffer);class MD{static toHalfFloat(e){e>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),e=65504),tS[0]=e;const t=_D[0];let n=t>>16&32768,r=t>>12&2047;const o=t>>23&255;return o<103?n:o>142?(n|=31744,n|=(o==255?0:1)&&t&8388607,n):o<113?(r|=2048,n|=(r>>114-o)+(r>>113-o&1),n):(n|=o-112<<10|r>>1,n+=r&1,n)}}const SD=0,ED=1,TD=0,AD=1,CD=2;function RD(s){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),s}function ND(s=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),s.isMultiMaterial=!0,s.materials=s,s.clone=function(){return s.slice()},s}function LD(s,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Gc(s,e)}function DD(s){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Rd(s)}function zD(s,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Gc(s,e)}function OD(s){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Ta(s)}function BD(s){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Ta(s)}function UD(s){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Ta(s)}function PD(s,e,t){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new z(s,e,t)}function kD(s,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new bt(s,e).setUsage(ko)}function jD(s,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new X2(s,e)}function FD(s,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Z2(s,e)}function ID(s,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new J2(s,e)}function HD(s,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Q2(s,e)}function GD(s,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new bd(s,e)}function VD(s,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new K2(s,e)}function WD(s,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new wd(s,e)}function qD(s,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Xe(s,e)}function YD(s,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new eM(s,e)}hi.create=function(s,e){return console.log("THREE.Curve.create() has been deprecated"),s.prototype=Object.create(hi.prototype),s.prototype.constructor=s,s.prototype.getPoint=e,s};Sc.prototype.fromPoints=function(s){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(s)};function XD(s){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new eS(s)}function ZD(s,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new $M(s,e)}function JD(s,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Jn(new tg(s.geometry),new bn({color:e!==void 0?e:16777215}))}KM.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};JM.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function QD(s,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Jn(new og(s.geometry),new bn({color:e!==void 0?e:16777215}))}jn.prototype.extractUrlBase=function(s){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),ud.extractUrlBase(s)};jn.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function KD(s){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new $i(s)}function $D(s){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new LM(s)}il.prototype.center=function(s){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(s)};il.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};il.prototype.isIntersectionBox=function(s){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(s)};il.prototype.size=function(s){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(s)};di.prototype.center=function(s){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(s)};di.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};di.prototype.isIntersectionBox=function(s){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(s)};di.prototype.isIntersectionSphere=function(s){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(s)};di.prototype.size=function(s){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(s)};Ar.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};jc.prototype.setFromMatrix=function(s){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(s)};ZM.prototype.center=function(s){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(s)};fn.prototype.flattenToArrayOffset=function(s,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(s,e)};fn.prototype.multiplyVector3=function(s){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),s.applyMatrix3(this)};fn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};fn.prototype.applyToBufferAttribute=function(s){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),s.applyMatrix3(this)};fn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};fn.prototype.getInverse=function(s){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(s).invert()};Ze.prototype.extractPosition=function(s){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(s)};Ze.prototype.flattenToArrayOffset=function(s,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(s,e)};Ze.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new z().setFromMatrixColumn(this,3)};Ze.prototype.setRotationFromQuaternion=function(s){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(s)};Ze.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Ze.prototype.multiplyVector3=function(s){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),s.applyMatrix4(this)};Ze.prototype.multiplyVector4=function(s){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),s.applyMatrix4(this)};Ze.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Ze.prototype.rotateAxis=function(s){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),s.transformDirection(this)};Ze.prototype.crossVector=function(s){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),s.applyMatrix4(this)};Ze.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Ze.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Ze.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Ze.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Ze.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Ze.prototype.applyToBufferAttribute=function(s){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),s.applyMatrix4(this)};Ze.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Ze.prototype.makeFrustum=function(s,e,t,n,r,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(s,e,n,t,r,o)};Ze.prototype.getInverse=function(s){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(s).invert()};qi.prototype.isIntersectionLine=function(s){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(s)};Rn.prototype.multiplyVector3=function(s){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),s.applyQuaternion(this)};Rn.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Cr.prototype.isIntersectionBox=function(s){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(s)};Cr.prototype.isIntersectionPlane=function(s){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(s)};Cr.prototype.isIntersectionSphere=function(s){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(s)};en.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};en.prototype.barycoordFromPoint=function(s,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(s,e)};en.prototype.midpoint=function(s){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(s)};en.prototypenormal=function(s){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(s)};en.prototype.plane=function(s){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(s)};en.barycoordFromPoint=function(s,e,t,n,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),en.getBarycoord(s,e,t,n,r)};en.normal=function(s,e,t,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),en.getNormal(s,e,t,n)};Xi.prototype.extractAllPoints=function(s){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(s)};Xi.prototype.extrude=function(s){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ki(this,s)};Xi.prototype.makeGeometry=function(s){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ma(this,s)};Ee.prototype.fromAttribute=function(s,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(s,e,t)};Ee.prototype.distanceToManhattan=function(s){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(s)};Ee.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};z.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};z.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};z.prototype.getPositionFromMatrix=function(s){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(s)};z.prototype.getScaleFromMatrix=function(s){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(s)};z.prototype.getColumnFromMatrix=function(s,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,s)};z.prototype.applyProjection=function(s){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(s)};z.prototype.fromAttribute=function(s,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(s,e,t)};z.prototype.distanceToManhattan=function(s){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(s)};z.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Nt.prototype.fromAttribute=function(s,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(s,e,t)};Nt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};pt.prototype.getChildByName=function(s){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(s)};pt.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};pt.prototype.translate=function(s,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,s)};pt.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};pt.prototype.applyMatrix=function(s){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(s)};Object.defineProperties(pt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(s){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=s}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});cn.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(cn.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),U2},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Nd.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};yn.prototype.setLens=function(s,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(s)};Object.defineProperties(Ui.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(s){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=s}},shadowCameraLeft:{set:function(s){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=s}},shadowCameraRight:{set:function(s){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=s}},shadowCameraTop:{set:function(s){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=s}},shadowCameraBottom:{set:function(s){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=s}},shadowCameraNear:{set:function(s){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=s}},shadowCameraFar:{set:function(s){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=s}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(s){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=s}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(s){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=s}},shadowMapHeight:{set:function(s){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=s}}});Object.defineProperties(bt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===ko},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(ko)}}});bt.prototype.setDynamic=function(s){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(s===!0?ko:Po),this};bt.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},bt.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};tt.prototype.addIndex=function(s){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(s)};tt.prototype.addAttribute=function(s,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(s,new bt(arguments[1],arguments[2]))):s==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(s,e)};tt.prototype.addDrawCall=function(s,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(s,e)};tt.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};tt.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};tt.prototype.removeAttribute=function(s){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(s)};tt.prototype.applyMatrix=function(s){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(s)};Object.defineProperties(tt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Ea.prototype.setDynamic=function(s){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(s===!0?ko:Po),this};Ea.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Ki.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Ki.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Ki.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};Ad.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};jd.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(vn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Ue}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(s){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=s===P0}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(s){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=s}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(Os.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(s){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=s}}});Lt.prototype.clearTarget=function(s,e,t,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(s),this.clear(e,t,n)};Lt.prototype.animate=function(s){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(s)};Lt.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};Lt.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};Lt.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};Lt.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};Lt.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};Lt.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};Lt.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};Lt.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};Lt.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};Lt.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};Lt.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};Lt.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};Lt.prototype.enableScissorTest=function(s){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(s)};Lt.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};Lt.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};Lt.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};Lt.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};Lt.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};Lt.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};Lt.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};Lt.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};Lt.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};Lt.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(Lt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(s){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=s}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(s){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=s}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(s){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=s===!0?Er:Nn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(fM.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function e6(s,e,t){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Md(s,t)}Object.defineProperties(Bi.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(s){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=s}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(s){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=s}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(s){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=s}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(s){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=s}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(s){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=s}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(s){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=s}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(s){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=s}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(s){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=s}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(s){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=s}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(s){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=s}}});Rg.prototype.load=function(s){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new jM().load(s,function(n){e.setBuffer(n)}),this};GM.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};_d.prototype.updateCubeMap=function(s,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(s,e)};_d.prototype.clear=function(s,e,t,n){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(s,e,t,n)};Sa.crossOrigin=void 0;Sa.loadTexture=function(s,e,t,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new DM;r.setCrossOrigin(this.crossOrigin);const o=r.load(s,t,void 0,n);return e&&(o.mapping=e),o};Sa.loadTextureCube=function(s,e,t,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new NM;r.setCrossOrigin(this.crossOrigin);const o=r.load(s,t,void 0,n);return e&&(o.mapping=e),o};Sa.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Sa.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function t6(){console.error("THREE.CanvasRenderer has been removed")}function n6(){console.error("THREE.JSONLoader has been removed.")}const i6={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function s6(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}function r6(){return console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),new tt}function a6(){return console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),new tt}function o6(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function l6(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function c6(){console.error("THREE.ImmediateRenderObject has been removed.")}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:B0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=B0);const u6=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:j_,AddEquation:$r,AddOperation:B_,AdditiveAnimationBlendMode:I0,AdditiveBlending:e0,AlphaFormat:Y_,AlwaysDepth:C_,AlwaysStencilFunc:I2,AmbientLight:Sg,AmbientLightProbe:IM,AnimationClip:Nc,AnimationLoader:G5,AnimationMixer:qM,AnimationObjectGroup:WM,AnimationUtils:Ht,ArcCurve:ng,ArrayCamera:Q0,ArrowHelper:bD,Audio:Rg,AudioAnalyser:GM,AudioContext:Cg,AudioListener:Z5,AudioLoader:jM,AxesHelper:eS,AxisHelper:XD,BackSide:$t,BasicDepthPacking:k2,BasicShadowMap:WA,BinaryTextureLoader:$D,Bone:Ld,BooleanKeyframeTrack:Aa,BoundingBoxHelper:ZD,Box2:il,Box3:di,Box3Helper:yD,BoxBufferGeometry:zs,BoxGeometry:zs,BoxHelper:$M,BufferAttribute:bt,BufferGeometry:tt,BufferGeometryLoader:PM,ByteType:I_,Cache:xa,Camera:kc,CameraHelper:xD,CanvasRenderer:t6,CanvasTexture:vM,CatmullRomCurve3:sg,CineonToneMapping:k_,CircleBufferGeometry:Fo,CircleGeometry:Fo,ClampToEdgeWrapping:An,Clock:HM,Color:Ue,ColorKeyframeTrack:xg,CompressedTexture:eg,CompressedTextureLoader:V5,ConeBufferGeometry:Io,ConeGeometry:Io,CubeCamera:_d,CubeReflectionMapping:ba,CubeRefractionMapping:wa,CubeTexture:$o,CubeTextureLoader:NM,CubeUVReflectionMapping:Ko,CubeUVRefractionMapping:Uc,CubicBezierCurve:zd,CubicBezierCurve3:rg,CubicInterpolant:TM,CullFaceBack:$m,CullFaceFront:f_,CullFaceFrontBack:VA,CullFaceNone:d_,Curve:hi,CurvePath:_M,CustomBlending:m_,CustomToneMapping:F_,CylinderBufferGeometry:Mr,CylinderGeometry:Mr,Cylindrical:uD,DataTexture:la,DataTexture2DArray:Sd,DataTexture3D:J0,DataTextureLoader:LM,DataUtils:MD,DecrementStencilOp:nC,DecrementWrapStencilOp:sC,DefaultLoadingManager:RM,DepthFormat:aa,DepthStencilFormat:Uo,DepthTexture:bM,DirectionalLight:Mg,DirectionalLightHelper:gD,DiscreteInterpolant:AM,DodecahedronBufferGeometry:Ho,DodecahedronGeometry:Ho,DoubleSide:ha,DstAlphaFactor:__,DstColorFactor:S_,DynamicBufferAttribute:kD,DynamicCopyUsage:yC,DynamicDrawUsage:ko,DynamicReadUsage:mC,EdgesGeometry:tg,EdgesHelper:JD,EllipseCurve:Vc,EqualDepth:N_,EqualStencilFunc:lC,EquirectangularReflectionMapping:mc,EquirectangularRefractionMapping:gc,Euler:Pc,EventDispatcher:Tr,ExtrudeBufferGeometry:Ki,ExtrudeGeometry:Ki,FaceColors:AD,FileLoader:$i,FlatShading:P0,Float16BufferAttribute:$2,Float32Attribute:qD,Float32BufferAttribute:Xe,Float64Attribute:YD,Float64BufferAttribute:eM,FloatType:Yi,Fog:Hc,FogExp2:Ic,Font:l6,FontLoader:o6,FrontSide:ua,Frustum:jc,GLBufferAttribute:XM,GLSL1:bC,GLSL3:m0,GammaEncoding:xd,GreaterDepth:D_,GreaterEqualDepth:L_,GreaterEqualStencilFunc:dC,GreaterStencilFunc:uC,GridHelper:KM,Group:na,HalfFloatType:sa,HemisphereLight:vg,HemisphereLightHelper:pD,HemisphereLightProbe:FM,IcosahedronBufferGeometry:Go,IcosahedronGeometry:Go,ImageBitmapLoader:kM,ImageLoader:Lc,ImageUtils:Sa,ImmediateRenderObject:c6,IncrementStencilOp:tC,IncrementWrapStencilOp:iC,InstancedBufferAttribute:fa,InstancedBufferGeometry:Ag,InstancedInterleavedBuffer:YM,InstancedMesh:K0,Int16Attribute:HD,Int16BufferAttribute:Q2,Int32Attribute:VD,Int32BufferAttribute:K2,Int8Attribute:jD,Int8BufferAttribute:X2,IntType:G_,InterleavedBuffer:Ea,InterleavedBufferAttribute:_r,Interpolant:Us,InterpolateDiscrete:bc,InterpolateLinear:wc,InterpolateSmooth:td,InvertStencilOp:rC,JSONLoader:n6,KeepStencilOp:nd,KeyframeTrack:Pi,LOD:xM,LatheBufferGeometry:Vo,LatheGeometry:Vo,Layers:Y0,LensFlare:s6,LessDepth:R_,LessEqualDepth:od,LessEqualStencilFunc:cC,LessStencilFunc:oC,Light:Ui,LightProbe:qc,Line:Bs,Line3:ZM,LineBasicMaterial:bn,LineCurve:Wc,LineCurve3:wM,LineDashedMaterial:mg,LineLoop:$0,LinePieces:ED,LineSegments:Jn,LineStrip:SD,LinearEncoding:Nn,LinearFilter:dn,LinearInterpolant:gg,LinearMipMapLinearFilter:JA,LinearMipMapNearestFilter:ZA,LinearMipmapLinearFilter:_a,LinearMipmapNearestFilter:F0,LinearToneMapping:U_,Loader:jn,LoaderUtils:ud,LoadingManager:yg,LogLuvEncoding:P2,LoopOnce:z2,LoopPingPong:B2,LoopRepeat:O2,LuminanceAlphaFormat:Z_,LuminanceFormat:X_,MOUSE:HA,Material:vn,MaterialLoader:UM,Math:Ib,MathUtils:Ib,Matrix3:fn,Matrix4:Ze,MaxEquation:s0,Mesh:cn,MeshBasicMaterial:ks,MeshDepthMaterial:Ed,MeshDistanceMaterial:Td,MeshFaceMaterial:RD,MeshLambertMaterial:fg,MeshMatcapMaterial:pg,MeshNormalMaterial:dg,MeshPhongMaterial:ug,MeshPhysicalMaterial:cg,MeshStandardMaterial:kd,MeshToonMaterial:hg,MinEquation:i0,MirroredRepeatWrapping:yc,MixOperation:O_,MultiMaterial:ND,MultiplyBlending:n0,MultiplyOperation:Bc,NearestFilter:ln,NearestMipMapLinearFilter:XA,NearestMipMapNearestFilter:YA,NearestMipmapLinearFilter:cd,NearestMipmapNearestFilter:ld,NeverDepth:A_,NeverStencilFunc:aC,NoBlending:Ns,NoColors:TD,NoToneMapping:xr,NormalAnimationBlendMode:gd,NormalBlending:zo,NotEqualDepth:z_,NotEqualStencilFunc:hC,NumberKeyframeTrack:Cc,Object3D:pt,ObjectLoader:W5,ObjectSpaceNormalMap:F2,OctahedronBufferGeometry:pa,OctahedronGeometry:pa,OneFactor:v_,OneMinusDstAlphaFactor:M_,OneMinusDstColorFactor:E_,OneMinusSrcAlphaFactor:j0,OneMinusSrcColorFactor:w_,OrthographicCamera:Fc,PCFShadowMap:U0,PCFSoftShadowMap:p_,PMREMGenerator:rM,ParametricGeometry:r6,Particle:DD,ParticleBasicMaterial:BD,ParticleSystem:zD,ParticleSystemMaterial:UD,Path:Sc,PerspectiveCamera:yn,Plane:qi,PlaneBufferGeometry:da,PlaneGeometry:da,PlaneHelper:vD,PointCloud:LD,PointCloudMaterial:OD,PointLight:_g,PointLightHelper:dD,Points:Gc,PointsMaterial:Ta,PolarGridHelper:mD,PolyhedronBufferGeometry:Qi,PolyhedronGeometry:Qi,PositionalAudio:Q5,PropertyBinding:_t,PropertyMixer:VM,QuadraticBezierCurve:Od,QuadraticBezierCurve3:Bd,Quaternion:Rn,QuaternionKeyframeTrack:nl,QuaternionLinearInterpolant:CM,REVISION:B0,RGBADepthPacking:j2,RGBAFormat:Cn,RGBAIntegerFormat:n2,RGBA_ASTC_10x10_Format:m2,RGBA_ASTC_10x5_Format:d2,RGBA_ASTC_10x6_Format:f2,RGBA_ASTC_10x8_Format:p2,RGBA_ASTC_12x10_Format:g2,RGBA_ASTC_12x12_Format:x2,RGBA_ASTC_4x4_Format:s2,RGBA_ASTC_5x4_Format:r2,RGBA_ASTC_5x5_Format:a2,RGBA_ASTC_6x5_Format:o2,RGBA_ASTC_6x6_Format:l2,RGBA_ASTC_8x5_Format:c2,RGBA_ASTC_8x6_Format:u2,RGBA_ASTC_8x8_Format:h2,RGBA_BPTC_Format:y2,RGBA_ETC2_EAC_Format:p0,RGBA_PVRTC_2BPPV1_Format:d0,RGBA_PVRTC_4BPPV1_Format:h0,RGBA_S3TC_DXT1_Format:a0,RGBA_S3TC_DXT3_Format:o0,RGBA_S3TC_DXT5_Format:l0,RGBDEncoding:V0,RGBEEncoding:yd,RGBEFormat:J_,RGBFormat:ra,RGBIntegerFormat:t2,RGBM16Encoding:G0,RGBM7Encoding:H0,RGB_ETC1_Format:i2,RGB_ETC2_Format:f0,RGB_PVRTC_2BPPV1_Format:u0,RGB_PVRTC_4BPPV1_Format:c0,RGB_S3TC_DXT1_Format:r0,RGFormat:$_,RGIntegerFormat:e2,RawShaderMaterial:el,Ray:Cr,Raycaster:lD,RectAreaLight:Eg,RedFormat:Q_,RedIntegerFormat:K_,ReinhardToneMapping:P_,RepeatWrapping:xc,ReplaceStencilOp:eC,ReverseSubtractEquation:x_,RingBufferGeometry:Wo,RingGeometry:Wo,SRGB8_ALPHA8_ASTC_10x10_Format:N2,SRGB8_ALPHA8_ASTC_10x5_Format:A2,SRGB8_ALPHA8_ASTC_10x6_Format:C2,SRGB8_ALPHA8_ASTC_10x8_Format:R2,SRGB8_ALPHA8_ASTC_12x10_Format:L2,SRGB8_ALPHA8_ASTC_12x12_Format:D2,SRGB8_ALPHA8_ASTC_4x4_Format:v2,SRGB8_ALPHA8_ASTC_5x4_Format:b2,SRGB8_ALPHA8_ASTC_5x5_Format:w2,SRGB8_ALPHA8_ASTC_6x5_Format:_2,SRGB8_ALPHA8_ASTC_6x6_Format:M2,SRGB8_ALPHA8_ASTC_8x5_Format:S2,SRGB8_ALPHA8_ASTC_8x6_Format:E2,SRGB8_ALPHA8_ASTC_8x8_Format:T2,Scene:Ad,SceneUtils:i6,ShaderChunk:lt,ShaderLib:Oi,ShaderMaterial:Os,ShadowMaterial:lg,Shape:Xi,ShapeBufferGeometry:ma,ShapeGeometry:ma,ShapePath:wD,ShapeUtils:Zi,ShortType:H_,Skeleton:Dd,SkeletonHelper:JM,SkinnedMesh:Nd,SmoothShading:qA,Sphere:Ar,SphereBufferGeometry:ga,SphereGeometry:ga,Spherical:cD,SphericalHarmonics3:Tg,SplineCurve:Ud,SpotLight:wg,SpotLightHelper:hD,Sprite:Rd,SpriteMaterial:Cd,SrcAlphaFactor:k0,SrcAlphaSaturateFactor:T_,SrcColorFactor:b_,StaticCopyUsage:xC,StaticDrawUsage:Po,StaticReadUsage:pC,StereoCamera:Y5,StreamCopyUsage:vC,StreamDrawUsage:fC,StreamReadUsage:gC,StringKeyframeTrack:Ca,SubtractEquation:g_,SubtractiveBlending:t0,TOUCH:GA,TangentSpaceNormalMap:Ma,TetrahedronBufferGeometry:qo,TetrahedronGeometry:qo,TextGeometry:a6,Texture:Bn,TextureLoader:DM,TorusBufferGeometry:Yo,TorusGeometry:Yo,TorusKnotBufferGeometry:Xo,TorusKnotGeometry:Xo,Triangle:en,TriangleFanDrawMode:KA,TriangleStripDrawMode:QA,TrianglesDrawMode:U2,TubeBufferGeometry:Zo,TubeGeometry:Zo,UVMapping:md,Uint16Attribute:GD,Uint16BufferAttribute:bd,Uint32Attribute:WD,Uint32BufferAttribute:wd,Uint8Attribute:FD,Uint8BufferAttribute:Z2,Uint8ClampedAttribute:ID,Uint8ClampedBufferAttribute:J2,Uniform:jd,UniformsLib:Be,UniformsUtils:tM,UnsignedByteType:Ds,UnsignedInt248Type:Oo,UnsignedIntType:cc,UnsignedShort4444Type:V_,UnsignedShort5551Type:W_,UnsignedShort565Type:q_,UnsignedShortType:vc,VSMShadowMap:No,Vector2:Ee,Vector3:z,Vector4:Nt,VectorKeyframeTrack:Rc,Vertex:PD,VertexColors:CD,VideoTexture:yM,WebGL1Renderer:mM,WebGLCubeRenderTarget:Md,WebGLMultipleRenderTargets:W2,WebGLMultisampleRenderTarget:q0,WebGLRenderTarget:Bi,WebGLRenderTargetCube:e6,WebGLRenderer:Lt,WebGLUtils:pM,WireframeGeometry:og,WireframeHelper:QD,WrapAroundEnding:_c,XHRLoader:KD,ZeroCurvatureEnding:ea,ZeroFactor:y_,ZeroSlopeEnding:ta,ZeroStencilOp:$A,sRGBEncoding:Er},Symbol.toStringTag,{value:"Module"})),h6=()=>{const[s,e]=I.useState(!1),t=I.useRef(null),n=I.useRef(null),r=I.useRef(null);I.useEffect(()=>{const u=new IntersectionObserver(([d])=>{d.isIntersecting&&e(!0)},{threshold:.1,rootMargin:"-50px"});return r.current&&u.observe(r.current),()=>u.disconnect()},[]),I.useEffect(()=>(!n.current&&t.current&&(n.current=IA({el:t.current,THREE:u6,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,skyColor:2786998,cloudColor:9741752,cloudShadowColor:1586512,sunColor:16750873,sunGlareColor:16737843,sunlightColor:16750899,speed:.8})),()=>{n.current&&n.current.destroy()}),[]);const o=["Trusted by leading shipyards across India.","Skilled, certified workforce with marine expertise.","ISO-certified systems ensuring quality & safety.","End-to-end shipbuilding and repair capabilities.","On-time delivery with reliable project execution."],l=[{icon:m.jsx("svg",{className:"w-12 h-12 sm:w-14 sm:h-14",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),title:"Our Vision",description:"To deliver top-quality shipbuilding, repair, and marine engineering services with unmatched precision and reliability."},{icon:m.jsx("svg",{className:"w-12 h-12 sm:w-14 sm:h-14",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),title:"Our Mission",description:"To be the leading marine solutions provider in South India, driving quality and innovation in every project."}];return m.jsxs("section",{ref:r,id:"why-choose-us",className:"relative py-16 sm:py-24 lg:py-32 overflow-hidden min-h-screen flex items-center",children:[m.jsx("div",{ref:t,className:"absolute inset-0",style:{zIndex:0}}),m.jsx("div",{className:"absolute inset-0 bg-white/5",style:{zIndex:1}}),m.jsxs("div",{className:`container mx-auto px-4 sm:px-6 lg:px-8 relative transition-all duration-1000 w-full ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{zIndex:2},children:[m.jsxs("div",{className:"text-center mb-12 sm:mb-16 lg:mb-24",children:[m.jsxs("h2",{className:`text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-light text-white mb-3 tracking-wide transition-all duration-1000 delay-100 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{fontFamily:"Georgia, serif"},children:["Why Choose ",m.jsx("span",{className:"font-normal text-blue-200",children:"Us"}),m.jsx("span",{className:"text-blue-200",children:"?"})]}),m.jsx("div",{className:`w-16 sm:w-20 h-0.5 bg-blue-300 mx-auto mt-6 sm:mt-8 transition-all duration-1000 delay-200 ${s?"opacity-100 scale-x-100":"opacity-0 scale-x-0"}`})]}),m.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-12 sm:gap-16 lg:gap-20 items-start",children:[m.jsxs("div",{className:`space-y-5 sm:space-y-6 transition-all duration-1000 delay-300 ${s?"opacity-100 translate-x-0":"opacity-0 -translate-x-8"}`,children:[m.jsx("h3",{className:"text-2xl sm:text-3xl font-light text-blue-900 mb-8 sm:mb-12 tracking-wide",style:{fontFamily:"Georgia, serif"},children:"Our Strengths"}),o.map((u,d)=>m.jsxs("div",{className:`flex items-start gap-4 sm:gap-6 group transition-all duration-300 hover:translate-x-2 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{transitionDelay:`${400+d*100}ms`},children:[m.jsx("div",{className:"flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-blue-400/80 backdrop-blur-sm flex items-center justify-center text-white font-light text-lg sm:text-xl shadow-lg group-hover:bg-blue-500/90 transition-all",children:d+1}),m.jsx("p",{className:"text-slate-800 leading-relaxed pt-2 sm:pt-2.5 text-base sm:text-lg font-light tracking-wide",style:{fontFamily:"Georgia, serif"},children:u})]},d))]}),m.jsxs("div",{className:`space-y-8 sm:space-y-12 transition-all duration-1000 delay-400 ${s?"opacity-100 translate-x-0":"opacity-0 translate-x-8"}`,children:[m.jsx("h3",{className:"text-2xl sm:text-3xl font-light text-blue-900 mb-8 sm:mb-12 tracking-wide",style:{fontFamily:"Georgia, serif"},children:"Our Direction"}),l.map((u,d)=>m.jsx("div",{className:`group transition-all duration-500 transform hover:-translate-y-1 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{transitionDelay:`${500+d*150}ms`},children:m.jsxs("div",{className:"flex items-start gap-4 sm:gap-6 mb-4 sm:mb-6",children:[m.jsx("div",{className:"flex-shrink-0 text-blue-700 bg-white/10 backdrop-blur-sm rounded-full p-2.5 sm:p-3 group-hover:bg-white/20 transition-all",children:u.icon}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"text-2xl sm:text-3xl font-light text-slate-900 mb-3 sm:mb-5 tracking-wide group-hover:text-blue-900 transition-colors",style:{fontFamily:"Georgia, serif"},children:u.title}),m.jsx("p",{className:"text-slate-800 leading-relaxed text-base sm:text-lg font-light tracking-wide",style:{fontFamily:"Georgia, serif"},children:u.description})]})]})},d))]})]})]})]})},d6="/assets/finalcert-CKYU2y1k.webp",f6="/assets/iso-CBW-Q1Kj.png",p6="/assets/smission-BJq60gTd.png",m6="/assets/startup-BovGbyL_.png",g6="/assets/msme-HqRriqmX.png",x6=()=>{const[s,e]=I.useState(!1),t=I.useRef(null);I.useEffect(()=>{const r=new IntersectionObserver(([o])=>{o.isIntersecting&&e(!0)},{threshold:.1,rootMargin:"-50px"});return t.current&&r.observe(t.current),()=>r.disconnect()},[]);const n=[{image:f6,title:"ISO 9001:2015",subtitle:"Certified Company",description:"Quality Management System certification ensuring consistent delivery of high-quality marine services."},{image:p6,title:"Kerala Startup Mission",subtitle:"Recognized Startup",description:"Officially recognized by Kerala Startup Mission for innovation in marine engineering solutions."},{image:m6,title:"Startup India",subtitle:"Government Recognized",description:"Certified by the Government of India's Startup India initiative for entrepreneurial excellence."},{image:g6,title:"MSME",subtitle:"Ministry of MSME, Govt. of India",description:"Registered as a Micro, Small & Medium Enterprise, committed to supporting India's industrial growth."}];return m.jsxs("section",{ref:t,id:"accreditation",className:"relative overflow-hidden min-h-screen flex items-center py-16 sm:py-20 lg:py-24",children:[m.jsxs("div",{className:"absolute inset-0",children:[m.jsx("img",{src:d6,alt:"Certification background",className:"absolute inset-0 w-full h-full object-cover",loading:"lazy"}),m.jsx("div",{className:"absolute inset-0 bg-white/20"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-white/10 to-white/30"})]}),m.jsxs("div",{className:`container mx-auto px-4 sm:px-6 lg:px-8 relative z-10 transition-all duration-1000 ease-out ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[m.jsxs("div",{className:"text-center mb-10 sm:mb-12 lg:mb-16",children:[m.jsxs("h2",{className:`text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-light text-slate-800 mb-3 tracking-wide transition-all duration-1000 delay-100 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{fontFamily:"Georgia, serif"},children:[m.jsx("span",{className:"text-cyan-900",children:"ACCREDITATION &"})," ",m.jsx("span",{className:"text-cyan-700",children:"CERTIFICATION"})]}),m.jsx("div",{className:`w-20 sm:w-24 h-0.5 bg-blue-700 mx-auto mt-4 sm:mt-5 mb-4 sm:mb-5 transition-all duration-1000 delay-200 ${s?"scale-x-100 opacity-100":"scale-x-0 opacity-0"}`}),m.jsx("p",{className:`text-slate-700 text-base sm:text-lg mb-2 sm:mb-3 font-light transition-all duration-1000 delay-300 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{fontFamily:"Georgia, serif"},children:"Recognized and certified by leading institutions"}),m.jsx("p",{className:`text-blue-800 text-lg sm:text-xl font-light italic transition-all duration-1000 delay-400 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{fontFamily:"Georgia, serif"},children:m.jsx("span",{className:"text-cyan-900",children:"Where marine challenges meet reliable solutions."})})]}),m.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-5 lg:gap-6 mb-8 sm:mb-10 lg:mb-12",children:n.map((r,o)=>m.jsx("div",{className:`group relative bg-white/75 backdrop-blur-md rounded-xl sm:rounded-2xl border border-blue-300/40 hover:border-blue-500/70 transition-all duration-500 overflow-hidden hover:shadow-2xl hover:shadow-blue-300/50 transform hover:-translate-y-2 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${500+o*150}ms`},children:m.jsxs("div",{className:"relative p-4 sm:p-5 lg:p-6 flex flex-col items-center text-center h-full",children:[m.jsx("div",{className:"w-full h-32 sm:h-36 lg:h-40 mb-3 sm:mb-4 flex items-center justify-center bg-slate-50/80 rounded-lg sm:rounded-xl p-3 sm:p-4",children:m.jsx("img",{src:r.image,alt:r.title,className:"max-w-full max-h-full object-contain group-hover:scale-110 transition-transform duration-300",loading:"lazy"})}),m.jsxs("div",{className:"flex-1 flex flex-col",children:[m.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 mb-1.5 sm:mb-2 group-hover:text-blue-700 transition-colors",style:{fontFamily:"Georgia, serif"},children:r.title}),m.jsx("p",{className:"text-blue-600 text-xs sm:text-sm mb-2 sm:mb-3 font-light",children:r.subtitle}),m.jsx("p",{className:"text-slate-600 text-xs sm:text-sm leading-relaxed font-light",style:{fontFamily:"Georgia, serif"},children:r.description})]})]})},o))}),m.jsx("div",{className:`max-w-5xl mx-auto transition-all duration-1000 delay-700 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:m.jsx("div",{className:"bg-white/60 backdrop-blur-md rounded-xl sm:rounded-2xl border border-blue-300/40 p-4 sm:p-5 lg:p-6",children:m.jsx("p",{className:"text-slate-700 text-sm sm:text-base leading-relaxed font-light text-center",style:{fontFamily:"Georgia, serif"},children:"Our certifications demonstrate our commitment to quality, safety, and continuous improvement in all our marine services. We adhere to international standards and best practices, ensuring excellence and reliability."})})})]})]})},y6="/assets/certback-qDENjvw9.webp",v6=()=>{const[s,e]=I.useState(!1),t=I.useRef(null);I.useEffect(()=>{const r=new IntersectionObserver(([o])=>{o.isIntersecting&&e(!0)},{threshold:.1,rootMargin:"-50px"});return t.current&&r.observe(t.current),()=>r.disconnect()},[]);const n=[{title:"Rising Kerala Business Summit 2025",subtitle:"Kerala Marine Enterprise Excellence Award",icon:m.jsx("svg",{className:"w-10 h-10 sm:w-12 sm:h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})},{title:"Best of Kerala Business Summit 2025",subtitle:"Promising Startup Award",icon:m.jsx("svg",{className:"w-10 h-10 sm:w-12 sm:h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}];return m.jsxs("section",{ref:t,id:"awards",className:"relative min-h-screen flex items-center overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0",children:[m.jsx("img",{src:y6,alt:"Awards background",className:"absolute inset-0 w-full h-full object-cover",loading:"lazy"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900/80 via-slate-900/70 to-slate-900/60 sm:from-slate-900/70 sm:via-slate-900/50 sm:to-transparent"})]}),m.jsx("div",{className:"relative z-10 w-full px-4 sm:px-6 lg:px-8 py-16 sm:py-20",children:m.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-8 sm:gap-10 lg:gap-12 items-center",children:[m.jsx("div",{className:`transition-all duration-1000 ease-out ${s?"translate-x-0 opacity-100":"-translate-x-12 sm:-translate-x-20 opacity-0"}`,children:m.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[m.jsx("div",{className:"inline-block"}),m.jsxs("h2",{className:`text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight transition-all duration-1000 delay-100 ${s?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:["AWARDS &",m.jsx("br",{}),m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400",children:"ACHIEVEMENTS"})]}),m.jsx("div",{className:`w-20 sm:w-24 h-1 sm:h-1.5 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full transition-all duration-1000 delay-200 ${s?"scale-x-100 opacity-100":"scale-x-0 opacity-0"}`}),m.jsx("p",{className:`text-blue-200 text-base sm:text-lg leading-relaxed max-w-xl transition-all duration-1000 delay-300 ${s?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:"Recognition for excellence and innovation in marine services. Our commitment to quality and innovation has been acknowledged by leading institutions."}),m.jsx("div",{className:`inline-flex items-center gap-3 bg-slate-800/60 backdrop-blur-md px-4 sm:px-6 py-3 sm:py-4 rounded-2xl border border-cyan-500/30 shadow-lg shadow-cyan-500/10 transition-all duration-1000 delay-400 ${s?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`})]})}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"space-y-4 sm:space-y-6",children:n.map((r,o)=>m.jsx("div",{className:`transform transition-all duration-700 ease-out ${s?"translate-x-0 opacity-100":"translate-x-12 sm:translate-x-20 opacity-0"}`,style:{transitionDelay:`${(o+1)*200}ms`},children:m.jsxs("div",{className:"group relative bg-gradient-to-br from-slate-800/90 to-blue-950/70 sm:from-slate-800/80 sm:to-blue-950/60 backdrop-blur-xl p-5 sm:p-6 lg:p-8 rounded-xl sm:rounded-2xl border border-blue-500/30 hover:border-cyan-400/60 transition-all duration-500 hover:shadow-2xl hover:shadow-cyan-500/30 transform hover:-translate-y-2 hover:scale-[1.02]",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/0 via-cyan-500/5 to-blue-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-xl sm:rounded-2xl"}),m.jsxs("div",{className:"relative flex items-start gap-4 sm:gap-5 lg:gap-6",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:"p-3 sm:p-4 rounded-xl sm:rounded-2xl bg-gradient-to-br from-cyan-500/20 to-blue-500/20 text-cyan-400 group-hover:scale-110 group-hover:rotate-6 transition-all duration-500 shadow-lg shadow-cyan-500/20",children:r.icon})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white mb-1 sm:mb-2 group-hover:text-cyan-400 transition-colors duration-300",children:r.title}),m.jsx("p",{className:"text-blue-200 text-sm sm:text-base leading-relaxed",children:r.subtitle}),m.jsx("div",{className:"mt-3 sm:mt-4 h-0.5 w-0 bg-gradient-to-r from-cyan-400 to-blue-400 group-hover:w-full transition-all duration-500 rounded-full"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-cyan-400/10 to-transparent rounded-bl-full opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})},o))}),m.jsx("div",{className:"hidden lg:block absolute -right-10 top-1/2 -translate-y-1/2 w-40 h-40 bg-cyan-500/5 rounded-full blur-3xl"})]})]})}),m.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 sm:w-60 sm:h-60 lg:w-72 lg:h-72 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute top-10 sm:top-20 right-10 sm:right-20 w-60 h-60 sm:w-80 sm:h-80 lg:w-96 lg:h-96 bg-cyan-500/5 rounded-full blur-3xl"})]})},b6="/assets/LT-Shipbuilding-P4lwDy5h.png",w6="/assets/indiancoastguard-BGP0q1zH.avif",_6="/assets/johnsoncontrols-ovB6p8v3.png",M6="/assets/grse-C06TFaHu.jpg",S6="/assets/Ocean-Sparkle-Limited-XdYlaXeZ.jpg",E6="/assets/kongsberg-digital-hJUp1UHa.png",T6="/assets/chowglue-DXBalZMf.jpeg",A6="/assets/indiannavyusnavy-CYMu6uMn.png",C6="/assets/solas-DzTUr5qD.jpg",R6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAABI1BMVEX////+uRMAAAAODhAhHyD///r/uAn5z2nzwkP7+/tBQUL/vxGfn5/0243+tgCJaiAAAA5ra2ulpaXo6Ojx8fHiqibNzc3a2tqxsbEdHR0AABQAABovLy9dXV00NDSFhYXf398bGyBzc3MNEyCOjo5LS0snJie9vb2VcyfT09MWGCCZmZl8fHxWVlb/wCUACx7PnSoWFhbDkyKcdyOCZij/yC1RPhnx4J6Uf0o5PEGIaBnxtibirTGxhiYACBchHBdfTCFGNxhuVSHBljLoriDCmkMyJRPVpDJwVR/aoyHUpz+ogCZBMxs0KRtsWz0pIx9TRi+OczV8ZTNHTFVdQwA/JgB4WQVpUycQHC0uHwBGPjEjFgCwijJVOgCffzsAAB+pmG8S7q9BAAAJ1ElEQVR4nO2aCXfiyBGARUOyEU3CgMQhLksIW4CxONebWTDGxuuxY3sn2Wwym2s3//9XpKpaEsLje6w4ea++92wJSS31p+6uaiQ0jWEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhnlFfvU/QLKG3/zm7fn9++xTaRWfbfjb3/36rZHfiqeTe4Fh6q2R+Xfpp8KGbMiGbMiGbPhGhlLOF6PRYi5l0oaU0j9zioD1JAzl/OhwXFvWasertZ+ooRAHndz+YCziYun0XoQl2uPXN/TXx8N+hujXT0qJNKMyFC1D1aiKisKjdU+ITVWLBW/w6ob+rO5kIvrHZwka6pEJ9kela8QNc4Wdzmsb+qdLMnOXLjVk/zCJjkqGYoC1UZZoGFRvHG9DUXjtcSi7Q9Byhqvp+kq51ieJGVZRUBxgnbJCFGBhwl9B2LaN20zb6IhXjzSLGgqOJ74EJmlsxNMERuLG0BBWYIhfA/c1HJRCbSurMPu6hv4hjsHjILzIq7rrurUEumnccC8w7MECzWxotpYyTCAfXtZBsLYOW+2sO51Ou/8lQxiQpsBumqShzLvQLT+hoNxAH4J/tOeORVAgddeHRw11HQyz5FSG/02RoCF20uEI1ubdiPzl5Wg0SvmT7vRSSn8ynY586Y/CRXeEbSxL09VqlVfr/mR2eHh69EDbxw3T4/R4nBY78GFf4EAsJmg4h9DiHGPNSjgCFbXvavVh/btz2FLPf6DFbHGNi4vFCS5WPiTRmtt3+rDJT8kRHOM4/eF56WmGygPzva5j7qgkaFiCSOpQ7LwcRkl/+QfMGg5NA/r9+MJRG+tX/mqZsVzXwXW5rjmQTiGZ9q/vbcUtQzVZwxFovMesrydoeAmG/TyOuUndCmY21vlkSVL0yXGDhUX7yLQ/y8P9cLpX107GOVmA4HJ1dOE+lErjhpky0MhoOGGb0kDcTc5wBIYuGR4d39zcqHnbpysMP6czSo4n+WMUvOleo9s4v4KF8306Y9U+SLmoue7HP0ILzmCEwpCmUz1qSLG0Bfl+R5RkCdPifnKGmO+DDO/7X/+J2svtzvqZ/oUvT/sZ59qXR9Be1pkcQcMu1xJHbuYjlLqAUn4+n/8B2no5B4epqzY+zbBR1f7841zC95q/tEEtuUjzDmp/PFeVKI2pDYdraKflkZQoOpNo6Bz6cgSi4zmVoMG6DlLMBHZD6IHpn4uHP8EwQ4becKpGrf/X92Zyhj72veUVVXZ+rQbi8sMx/kv5J9DtrqTMB6JLalGcIuCQrNNXEDCEjKr6+SfHco8eNzTFGOskxCRKrFc/7SWb8TPpNaS90U3wHTGNXXd5lvKhSYcTKVf9jDuV1EQrmRoFMZc65tFsNoP74nahsnMoVVvcfyE0xOSneTb8a/7tbHMz5CjBjF+qYYPUJpc3S0tV3Tn/ACMOcmQJFsNSSt442CVxVLrQlBCFrL9DIw8h0MzHkBy/d6gT+9inV49ki1ZQIfOnH325VY1/7CdkCFfGNhlOJr9QGMW/1Rr644lPGfIdDDxoyvqlxP6MfXaGow3CpnUznYK7ezGBbuue/vPT8qEmDL8BdzTVVlN/uztL/1+FhAxT/mqYsZaLCSa42s849PLQTP0fVIQ591MLqHodRC2c3kmc5rlXR/WMRQnfvZ7715jrIeE7tXtH4eY5TbNsGDnx81npNotV1qgmYpjyu8thbT75xR1+XH99Xq/Xr2bwrwutBYtDCTOWeh2+T53h4jLlH8NiLbvBnO10Dj3sZtjHOdvN6IGpd/isTT16Eu/uIHoG9+rPaeT86Ft5OeuuoefgvfXxH8QRXEDAnKtFCm90tJCl7upw1f1A484/ujg8nK39R79bvN3zUvVV6eFjPivi+76MfXik/Js/EU4cNmRDNmRDNvw/MHzznwwl/Iuhb756e/5deDresw0ZhmEY5gno6h1PtKIrwpXwMLNnh0dF/2Mr4aGflQxXjE35rfPqlZ4Z26x2mL2KHjs6XvD5gjmcKODT2LKaMZSDuYOnNdRzE3oEVraCwwxBby9F8CuQFh0JHAj17l2IBu0FGjj9MNRreLoKHmAGpx8E962JH7KGthtNWjSth2cVbdjdU5uyPfVCH6k827CIxfCXDx1Vh41hNljr0Es8eu/VwxrvbgzNsCr4qhbdNLoB1kbDoM3FoHz5tmFGfdqLGxrBym5kiG/bvtAQ3xZkI8OmXalUTNzg2QO8vFYQYgfboX3L0MMyVmiIPy8IDT27SBVThi28YzvohYZ4evWDILhYQ9fB3S57Huxveh4d16bjKmi4a5fT2HvAcIAFn99NoSIWVkWnu0yGbbUni9cwyQX+GZqNtd82bIsxyNuhYXtjaNBt8ZShTrIVLGqK+K+cPCpTEPSi0BP0chtvRwXfrkFlwPCAelcHDfefLRcaUlWw7e42TFMNdc3c6eRuGULZohp/TZFu4UExwyLWSbXhHlXehDixbYhDwoYYgrEGHdBQ3Q4sPdgYFr/MsIin7ojxfmC4W61Wi2RY1jt4IYMMCVhtwW5VT2iVYoUqgW1YxeIxQ6qxMtzHYWVjeTTE05vqdNjyYcVjhnrQvGRojPF0sLcABasvMvTwRXJWNKvxSKOHkaZNWntaZBjFPByZvaA5wdDEN+7bhoPAkEItvZgII00QMCiUjHsPGNIB3iaWvsiwuk/VKxYDw71Cs3kQGqYH5i1DC3arS+1iXXZpFMEWHYZO5R5DVcFdZYint4PzmQUVuB80zCrDVhN4mSFYgaRd/GwcenYbUwlUc7wxxHGYRkOo7V65XKDGwTaEUDRI32Oo6W1qRfOzZqBUa95ruGuUqcm/aBxWVYrGTndXpMlQteCiVsPaijRe2GGzyhCjYMwwh0YqltL46WAv3jasVKsQaCw15bg30uwE2aLzBYY4iWjeaahhLFXZQg/ScWSIubLRaFGNmlFWjgwP8HRkqLRiqyEdeu6ys2UYZIvBJlsUvziWVvEacJJcPOMbccMC3tAi3oW4YVDZJo6jZpBTQ8OyndtkfNxextM3ydCIMn6VDm+ofBga7uDAiDJ+zHCgZiIvMvTofLl4LO1EhgJ/A6koxw1trLE6Q1sZ4p2Iz9py4aytHWzoRbFURYzwU1aLGYYbD7SNYSeKpc9PF7mgLwnKWrmYYYMMKRkFk+Hi1sw7Fzzaw0krdklTZfBWOPPGCBjOvClitsraLUOtRzdjoAeGarZaoSiO6z26nx426ssNn4qpfoz8UnTbvrt/Gbbx6hdjGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZ5Nf4DwnNTGy+mJ10AAAAASUVORK5CYII=",N6="/assets/cochin-shipyard-DtOgZ61y.jpg",L6="/assets/msc-D96i-E_2.jpg",D6="/assets/wspl-OlVN6b6A.png",z6="/assets/naval-ship-karwar-BXMUEr1p.png",O6="/assets/udupi-Dzl9S5pa.jpeg",B6="/assets/LTdefence-XeFqequu.jpg",U6="/assets/hsl-CHoau31D.jpg",P6="data:image/webp;base64,UklGRtIMAABXRUJQVlA4IMYMAACwSgCdASqQAZYAPlEijUQjoiEXT+wAOAUEsrdwuZ3+UNL+g83ytv2/Y0au8lnlH/JfdD76P8v7Ivyd7An6s9Ib+begT+df3z9xvd0/1Hqb/zfqAf0D/AdY36DXlx/tn8K37yelHqsvkL+1fxbuW/ufR7+svcP1ta9nU1+P/bb99/bvRXv7+I2oX+R/zH/G8BzZr0DvYn7D34+tyqqHWP7rzafnn+19HwcKmN6aQb00g3ppBvTSDf1fG5PUiGvjcnqRDXxN1SIa+NyekKRtI8jnqQwYym4NDC3cF772zd8pRuJIeTVZ3iCJIaDMTMfo6eYxsCn8/1pR7jiOafeZmUKp+JHS/uE1gIP+SRE5q51B+9Ix5sTKLKe87kx1G14PnNrjxWkfzNEDryjwkZOlSGYEKRFMJJ57C0FusaxK0aAucR62jyXKnhH4s0V4NzH7jmeTwKVazLjwHp4QBzMe/actC5kXOsKT358qIVf3mK9APQ8LBdpIr+mYPbh4Ii2o9ONlKCGRNxJM6T4N8RjnDU6TcJWpIHwAo1RN/FSJC0E24fXp71eSG57lmbY+Cc3ucr3mlaBH6cxMCyo6H7sacmQD/B0gUsW0TIFni7sqQIzh/jc6ZvTgoT/xVg9WK1PDIo1sWEbrFj8rKHiYlc37AyCeQpwoijDanJH/AgmY24GWXgHAYxvFUkTDtepB7PUNxgz7KhMbBBaINkw2r5rzZezaos8ocaEpJeasnjNar/scq4xI1o0c9TSHbHCWVVFyxLfWcdDXxuT1Ihr43J6kQ155kNiGvjcnqRDXxuT1EAAA/v+WRAAAHcWnil3IYTMdK+ZnPTACD/m8oew4LcOdlwIq2YBYJ5+CbY7ppx9pMbGYOZR83LrQBv5WsYzpyMY8P8cMYiwZm9Sh1CXi1IKfZWqGLW+cNdt9lfJxPALV82KtKHq9bJYSxlVVy74dKSoNYiJ9j8oWq/urSCaFJUXLPSNy0T4k7g5ATWJXnI0NGkJatoFtELZsGvVwJny6QQpMis6Du1TVIzPj2UHmQvE52HBbhzstiDc2kcKHDeRr0sbdpmN+S6x6Kuu3NKrZYnWoeem40rJ95kYHQrQQzxRtn3Drz104dYrsO03t2qX//EvccXViR37i8AvVa2+xLaEAN8eU5e5Ymxs5n2UOR3oggAtG5QzEpTCeqAKGC+zywr4yqnMkF39YnSt/lwzyOmMhD8Wk+krHbkgVSsPVsZDjd6l9BjTH0YDBPPbNuDLCh0sqVhk8MFBfUDZRDaf8USVr2xQPEpW9oP0i35UsECIItTGTvnoYVSjx/tUkz36BTA9AP5To8s6x9KpHzpq0+Vfa2GLSIBozGOvpX1Bi5UxY/kNUEqqOXFXZG/92Wt8CmgSY4rsDp4w2/rXoD8Z/PDw1TbX4jR+84VWqfO6hUxy6N9sTVhcM/e+rBEvCsfQDleTKBbHdY5fc8qF7VOJg8ochl14TjVwi3BQPZ5RYC2YQPijy/PRfE4pyMnrSdwkhITzDF4CXoQzz9X/UEPNpZ9oIGUTwBThNgaK2xTk2jIFZ09q7udIMfvl6aAdHpuHaedfk2ydep8/y5LVMUYMvD77JlG8zCHwNr/6e4gqjLTcW7LpLCmCuJ56o00Zf7DbL5UAk4p7djE5imK/Emr9jaFpdL32mbwa70rL3ZDbOLfNHUvQhuu83ekGsQ5OisGaaGalYWDBjckE6j1HXuM7an8xLkSe48erQYSxRBrWf90VF7Dy/EJos/2eBey7mOid230Sn/9QwuDVrqwy8ebUbqQ+PX2GsN407HkRN4vp6qoQIctPN0JVdBuheJLjaHEnZwvWCGyoasfTgYqUmcZxItuR4USOcrxaHFFEUc9vWmaPnYVbce88t63W8gXVk7v4OY8Fa0bdsvYZM5s/31HdDsKe1ygUlo8NXJZKGgUYToGzXmhiYkxJohn09f5IF2wSK410gw4a23N8UqCxmKdd/0XjmRoHhP7TWRD7l6meUNItGHLWnk/s6XiZLu+Cnh9+S6Oe4ppbbzJXrS17KFe2otkLxRjIwfjJaHp9iMH/jjs4MZ5Qh2Z8QlylySvW5ETyrkxl4SPNUNh4Z2L6uzr5Oz+Sf8zkdRX1FPaAz1Oqxuv/CxBXsHFVWD6LQG4XNIDd0CRYZo+wt0K+znsHrYSTMRbviC5jEt8QetT99NOawD9iDhccM4+DQqKktnCvl71Kx88QNL9OPRk9O4uIIqtT3ofSIvw/PhHKOJ5R6YULPRJMnH4gnA2x5oSFNWQ7GPEjgQT3fFY0uSqtpf9V5COGR3urjPbP/RWBQRYQGXviVwUkaXtpqt+MYHwwi6jSAMg3/SclE8KofEwjt1LX+U2xNkhaWhPTVxOViGljtiZrq2uhkRxc1VMUskTe5vAJnkXv3jx9FHCXSbQ8YIRzsuSvGvZUY5MsFCg1v+CiTA1hM3vWF0+BO2Bsw5FYxQ1yyttpeAHAxX1hv2pm34HGgmourhEUNxhKa1zYu5vW/DCma9jrpLf78QvnbJ+herAZQykszZFTNl3zIodX/6l/h3iZ+tEEdUjYndVIaivyciA13CBtFBQMeSQ/QGuk/HLUxvBH3g2CCxNg4xO1xT7p1N7onznkOMmG0qeZe2/mmPrxz5grsJU2Oea3qtukbukVx48q/TN2HLDK2OKZ67z+mIlGCSxQAPTHzzx/TcK+Yc7IWgYcrmFX6VrSJwMwXSzhV3SOK9WTPaFBa7rh5iy6Hfk4iHmQqLp05uzxWqbwjQx1B0f6jdzEgubSSNFVTc2tD3w0bxOKK9uv+H03SnW27S8mavso0hEeIgOMP0idDjFB/ss4YWjk9HqvVQ2heNfxEyJKgHiRryg09klw4DeZyM0SUcEB1h/BBNlro7K2ksEsiSyhuds4pqClNJxKZrB2BttZu69Ft2Xj9jxBvU9Sr2CCaLn+zPDew6sv6Jlx0ZcoqDu7jgkYvb20IjkmHlf9wsRs5JBv/L8/x5SZq0KVkk6nUWgk0jVp04wDS3u/wRyltrVX3+I4J+xSB5ldwWgDT0Y8jLf+Pjkj5XjMV2T2V373RgNxNj0cTRG2Ih/SPnxCgmrVQ1jevBY2FU8RFPmqv6B3zJggT+oq3jBWhN2BweO2V5wtEBHqVVYnSL5N+6WPskHn5y/KPgtJXhgSoYdrdq5fNKOGKJgwQLo65q+j6CB3UqwT/aWvoD/KXMfcGA/7cFzg28LhSqUV2xdNuCgGwREnKlSzM30iLm8SWXH6n5X6VYJ1rvxBv/NFOibP4seuufxUpkBRqjDBTh9rOFkudX4BrlFQhSWsfSlZTTnhT3PmUXjs83ORApEvs6AJA9SsiYSh5J/bPsDmS59stWDW1UxDF30oM6JSoXCXtD06IR90SZSfHU9dZcEXDfNgA8Xx4EthcfdXk0wn6E68eB2R2Jb1/otXouECEI229y/EZrcVZ+/MH4RJaH9R8Fzy+mp9vFJ5+eyRIF/7+5Eyy5vJZt8XvI/+9NheVWBI/AaA+QuDOJB3NqGVjZlOeamyZbWNYpm+gIsEPGMZlovPDpUheaLJWa1soBTf15KX/98XJrpv/xhXEvz+Y65+4Wj/K01VV2HfRzPRhjfAZKgSwpx/S3l+7AyCg/uix2Iq6kuCp6Q6+nf/PNlTVMEcE20UDZQNsYuIEpE615uFSzWL73yufR0AQg1aZMonnMKiOIiDcQBwRhNXS4VRWtMm6p6IIkBuPyg18wtP99EhFf9vkecEvZMv7eyjhix0fgU0B7UiFPus1aWNSqShCXbhe+L1VxzFKPH0SwV2ozkCpARjcbddeJouFbrPY1iC/aSyFsWCTDa4x+S1Bd4u39QC1fX3eRBKgh/QWUCEDY4v/yONHzpoeZ7D3Y04z7/+ylTk1wM3VsQ3ppZLkmRPTUP71S3XDH/iFPYnUyz6A4uUnFRXI0+FMb7W2eJBZlwKJIOxfhB+ENhIgPBxibPFLWNOvIh+IuUqPf5K3pqFy5Wj51nPDJt8faGMFuyRftMB0/n3PcOX1iDKR6+2Z0H9WQpOuRd2Ejzil/N5FB/ycY6K/BBwKO/Fe2CHlIwJgJaG93EjX5awqAMUaZUiKY/nky/PUoPptkQa82tbP1be0kBnnmabuQDHwkSq1XhtIIjAGXGlnlaaORf7TOTpsPN8/NlrclYheH9tZXZ2wh0Ku58WCd3Y4Bq/1BXzk4fEa87480kVWDeRgqKiq/1Yy92Xe3o+Xqe6ReXkSrC6HF/6YFbfQfYLBYgjunVCtEgbFPbxWtgKLk4+TP6FhSEDMCxj/RtRX2vZUduwieR0QgXiEEKybz4/6OENp+wX4LWUepMxDXzFfs195+6781pazxAAAAAAAAAA=",k6="/assets/USS_Salvor-C_uXmZzr.jpg",j6=()=>{I.useRef(null),I.useRef(null);const s=[{name:"L&T Shipbuilding",logo:b6},{name:"Indian Coast Guard",logo:w6},{name:"Johnson Controls",logo:_6},{name:"Garden Reach Shipbuilders",logo:M6},{name:"Ocean Sparkle Limited",logo:S6},{name:"Kongsberg",logo:E6},{name:"Chowgule SBD",logo:T6},{name:"Indian Navy",logo:A6},{name:"Solas Marine",logo:C6},{name:"Gmmco CAT",logo:R6}],e=[{name:"Cochin Shipyard",logo:N6},{name:"MSC Kreuzfahrten",logo:L6},{name:"WSPL",logo:D6},{name:"Mazagon Dock",logo:z6},{name:"UDUPI",logo:O6},{name:"L&T Defence",logo:B6},{name:"Hindustan Shipyard",logo:U6},{name:"Adani Ports",logo:P6},{name:"USS Salvor",logo:k6}];return m.jsxs("section",{className:"relative py-24 bg-gradient-to-b from-slate-50 to-blue-50 overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 opacity-5",children:[m.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-blue-400 rounded-full blur-3xl"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-cyan-400 rounded-full blur-3xl"})]}),m.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[m.jsxs("div",{className:"text-center mb-20",children:[m.jsxs("h2",{className:"text-5xl md:text-6xl font-light text-slate-800 mb-4 tracking-wide",style:{fontFamily:"Georgia, serif"},children:["Our ",m.jsx("span",{className:"text-blue-700",children:"Clients"})]}),m.jsx("div",{className:"w-20 h-0.5 bg-blue-600 mx-auto mt-6"}),m.jsx("p",{className:"text-slate-600 text-lg max-w-2xl mx-auto mt-8 font-light",style:{fontFamily:"Georgia, serif"},children:"Trusted partnerships with leading organizations"})]}),m.jsx("div",{className:"relative mb-12 overflow-hidden",children:m.jsx("div",{className:"flex gap-12 animate-scroll-left",children:[...s,...s].map((t,n)=>m.jsx("div",{className:"flex-shrink-0 w-48 h-32 bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 p-6 flex items-center justify-center group hover:scale-110 border border-slate-200",children:m.jsx("img",{src:t.logo,alt:t.name,className:"max-w-full max-h-full object-contain filter grayscale group-hover:grayscale-0 transition-all duration-500 opacity-70 group-hover:opacity-100"})},n))})}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsx("div",{className:"flex gap-12 animate-scroll-right",children:[...e,...e].map((t,n)=>m.jsx("div",{className:"flex-shrink-0 w-48 h-32 bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 p-6 flex items-center justify-center group hover:scale-110 border border-slate-200",children:m.jsx("img",{src:t.logo,alt:t.name,className:"max-w-full max-h-full object-contain filter grayscale group-hover:grayscale-0 transition-all duration-500 opacity-70 group-hover:opacity-100"})},n))})}),m.jsxs("div",{className:"mt-24 grid grid-cols-2 md:grid-cols-4 gap-8 max-w-5xl mx-auto",children:[m.jsxs("div",{className:"text-center group",children:[m.jsxs("div",{className:"text-5xl font-light text-blue-700 mb-3 group-hover:scale-110 transition-transform",style:{fontFamily:"Georgia, serif"},children:["50",m.jsx("span",{className:"text-blue-500",children:"+"})]}),m.jsx("div",{className:"text-slate-600 text-sm uppercase tracking-widest font-light",children:"Active Clients"})]}),m.jsxs("div",{className:"text-center group",children:[m.jsxs("div",{className:"text-5xl font-light text-blue-700 mb-3 group-hover:scale-110 transition-transform",style:{fontFamily:"Georgia, serif"},children:["500",m.jsx("span",{className:"text-blue-500",children:"+"})]}),m.jsx("div",{className:"text-slate-600 text-sm uppercase tracking-widest font-light",children:"Projects Delivered"})]}),m.jsxs("div",{className:"text-center group",children:[m.jsxs("div",{className:"text-5xl font-light text-blue-700 mb-3 group-hover:scale-110 transition-transform",style:{fontFamily:"Georgia, serif"},children:["15",m.jsx("span",{className:"text-blue-500",children:"+"})]}),m.jsx("div",{className:"text-slate-600 text-sm uppercase tracking-widest font-light",children:"Years Experience"})]}),m.jsxs("div",{className:"text-center group",children:[m.jsxs("div",{className:"text-5xl font-light text-blue-700 mb-3 group-hover:scale-110 transition-transform",style:{fontFamily:"Georgia, serif"},children:["100",m.jsx("span",{className:"text-blue-500",children:"%"})]}),m.jsx("div",{className:"text-slate-600 text-sm uppercase tracking-widest font-light",children:"Client Satisfaction"})]})]})]}),m.jsx("style",{jsx:!0,children:`
        @keyframes scroll-left {
          0% {
            transform: translateX(0);
          }
          100% {
            transform: translateX(-50%);
          }
        }

        @keyframes scroll-right {
          0% {
            transform: translateX(-50%);
          }
          100% {
            transform: translateX(0);
          }
        }

        .animate-scroll-left {
          animation: scroll-left 40s linear infinite;
        }

        .animate-scroll-right {
          animation: scroll-right 40s linear infinite;
        }

        .animate-scroll-left:hover,
        .animate-scroll-right:hover {
          animation-play-state: paused;
        }
      `})]})},F6="/assets/location-D1AMXQuO.png",I6=()=>{const[s,e]=I.useState(null),[t,n]=I.useState(!1),[r,o]=I.useState(!1),l=I.useRef(null);I.useEffect(()=>{const d=()=>{o(window.innerWidth<1024)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),I.useEffect(()=>{const d=new IntersectionObserver(([f])=>{f.isIntersecting&&n(!0)},{threshold:.1,rootMargin:"-50px"});return l.current&&d.observe(l.current),()=>d.disconnect()},[]);const u=[{name:"KOCHI OFFICE",address:"FIDA TOWER, KK PADMANABHAN ROAD, ERNAKULAM NORTH, 682018",mapUrl:"https://www.google.com/maps/search/?api=1&query=FIDA+TOWER+KK+PADMANABHAN+ROAD+ERNAKULAM+NORTH+682018",position:{top:"280px",left:"170px"},color:"from-cyan-500 to-blue-500"},{name:"CHENNAI OFFICE",address:"71, L&T SHIPBUILDING, KATTUPALLI, TAMIL NADU 600120",mapUrl:"https://www.google.com/maps/search/?api=1&query=71+L%26T+SHIPBUILDING+KATTUPALLI+TAMIL+NADU+600120",position:{top:"380px",left:"-25px"},color:"from-blue-500 to-indigo-500"},{name:"MANGLORE BRANCH",address:"CSBD, KASBA BENGRE, MANGALURU, KARNATAKA 575001",mapUrl:"https://www.google.com/maps/search/?api=1&query=CSBD+KASBA+BENGRE+MANGALURU+KARNATAKA+575001",position:{top:"220px",left:"485px"},color:"from-indigo-500 to-purple-500"},{name:"VIZAG BRANCH",address:"SITE OFFICE, HINDUSTAN SHIPYARD, VISAKHAPATNAM, ANDHRA PRADESH 530005",mapUrl:"https://www.google.com/maps/search/?api=1&query=HINDUSTAN+SHIPYARD+VISAKHAPATNAM+ANDHRA+PRADESH+530005",position:{top:"380px",left:"1050px"},color:"from-purple-500 to-pink-500"},{name:"OVERSEAS BRANCH",address:"6A, LUMBARE AVE, KAMPALA, UGANDA",mapUrl:"https://www.google.com/maps/search/?api=1&query=6A+LUMBARE+AVE+KAMPALA+UGANDA",position:{top:"250px",left:"850px"},color:"from-pink-500 to-rose-500"}];return m.jsxs("section",{ref:l,className:"relative min-h-screen flex items-center overflow-hidden bg-slate-900",children:[m.jsxs("div",{className:"absolute inset-0",children:[m.jsx("img",{src:F6,alt:"Locations map background",className:"absolute inset-0 w-full h-full object-cover",loading:"lazy"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900/40 via-slate-900/20 to-slate-900/40"})]}),m.jsxs("div",{className:"relative z-10 w-full px-4 sm:px-6 lg:px-8 py-16 sm:py-20",children:[m.jsxs("div",{className:`text-center mb-12 sm:mb-16 transition-all duration-1000 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[m.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4 tracking-tight",children:["OUR ",m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400",children:"LOCATIONS"})]}),m.jsx("div",{className:`w-20 sm:w-24 h-1 sm:h-1.5 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full mx-auto mb-4 sm:mb-6 transition-all duration-1000 delay-200 ${t?"scale-x-100 opacity-100":"scale-x-0 opacity-0"}`}),m.jsx("p",{className:"text-blue-200 text-base sm:text-lg lg:text-xl px-4",children:"Serving clients across India and internationally"})]}),!r&&m.jsx("div",{className:"max-w-6xl mx-auto relative",style:{minHeight:"500px"},children:u.map((d,f)=>m.jsx("div",{className:`absolute transform -translate-x-1/2 -translate-y-full transition-all duration-700 ${t?"opacity-100 scale-100":"opacity-0 scale-0"}`,style:{top:d.position.top,left:d.position.left,transitionDelay:`${300+f*150}ms`},onMouseEnter:()=>e(f),onMouseLeave:()=>e(null),children:m.jsxs("a",{href:d.mapUrl,target:"_blank",rel:"noopener noreferrer",className:"relative block cursor-pointer group",children:[m.jsx("div",{className:`absolute -top-2 -left-2 w-16 h-16 rounded-full bg-gradient-to-r ${d.color} opacity-0 group-hover:opacity-30 animate-ping`}),m.jsx("div",{className:`relative w-12 h-12 transition-all duration-300 ${s===f?"scale-125":"scale-100"}`,children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:"w-full h-full drop-shadow-2xl",children:[m.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z",className:`fill-current transition-all duration-300 ${s===f?"text-cyan-400":"text-blue-500"}`,stroke:"white",strokeWidth:"1"}),m.jsx("circle",{cx:"12",cy:"9",r:"2.5",fill:"white"})]})}),m.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 top-full mt-2 w-72 transition-all duration-300 ${s===f?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-4 pointer-events-none"}`,children:m.jsxs("div",{className:"bg-gradient-to-br from-slate-800/95 to-slate-900/95 backdrop-blur-xl p-6 rounded-2xl border-2 border-cyan-400/50 shadow-2xl shadow-cyan-500/30",children:[m.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-slate-800 border-t-2 border-l-2 border-cyan-400/50 transform rotate-45"}),m.jsx("h3",{className:"text-xl font-bold text-white mb-3 text-center",children:d.name}),m.jsx("p",{className:"text-blue-200 text-sm text-center leading-relaxed mb-4",children:d.address}),m.jsxs("div",{className:"flex items-center justify-center gap-2 text-cyan-400 font-semibold text-sm",children:[m.jsx("span",{children:"View on Google Maps"}),m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})})]})},f))}),r&&m.jsx("div",{className:"max-w-2xl mx-auto space-y-4",children:u.map((d,f)=>m.jsx("a",{href:d.mapUrl,target:"_blank",rel:"noopener noreferrer",className:`block bg-gradient-to-br from-slate-800/95 to-slate-900/95 backdrop-blur-xl p-5 sm:p-6 rounded-xl sm:rounded-2xl border-2 border-cyan-400/30 hover:border-cyan-400/60 shadow-xl shadow-cyan-500/20 transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl hover:shadow-cyan-500/30 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${300+f*150}ms`},children:m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:"w-full h-full drop-shadow-lg",children:[m.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z",className:`fill-current bg-gradient-to-r ${d.color} text-cyan-400`,stroke:"white",strokeWidth:"1"}),m.jsx("circle",{cx:"12",cy:"9",r:"2.5",fill:"white"})]})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-2",children:d.name}),m.jsx("p",{className:"text-blue-200 text-sm sm:text-base leading-relaxed mb-3",children:d.address}),m.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 font-semibold text-sm",children:[m.jsx("span",{children:"View on Google Maps"}),m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})},f))}),m.jsx("div",{className:`mt-12 sm:mt-16 text-center transition-all duration-1000 delay-700 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:m.jsxs("div",{className:"inline-flex flex-col sm:flex-row items-center gap-2 sm:gap-3 bg-slate-800/80 backdrop-blur-xl px-6 sm:px-8 py-4 sm:py-5 rounded-full border border-cyan-500/40 shadow-xl shadow-cyan-500/20",children:[m.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("p",{className:"text-cyan-400 font-bold text-base sm:text-lg text-center",children:"5 Strategic Locations | Pan-India & International Presence"})]})})]})]})},H6="/assets/services-C0liLUqJ.jpg",G6=()=>{const[s,e]=I.useState(null),t=s_();I.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[s]);const n=()=>{t("/contact",{state:{scrollToForm:!0}})},r=[{id:1,title:"Diving Services",image:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=800",items:["Onshore Diving","Offshore Diving","Diving Training","Subsea Engineering & ROV Support"],description:"We provide expert commercial diving solutions for both onshore and offshore operations, backed by a team trained to work in high-risk environments. Our services include inspection, maintenance, and repair work below waterline, supported by modern ROV technology and certified training programs."},{id:2,title:"Marine & Civil Construction",image:"https://images.unsplash.com/photo-1581094271901-8022df4466f9?w=800",items:["Shipping, Marine & Civil Construction","Aluminium & Steel Shipbuilding","Outfit Installations"],description:"With experience across complex maritime and infrastructure projects, we execute end-to-end marine and civil construction, ensuring timely delivery with high engineering standards. Our shipbuilding capability covers both aluminium and steel vessels, outfit integrations, and retrofitting."},{id:3,title:"Marine Engineering & Propulsion",image:"https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?w=800",items:["Propulsion Services","Marine Engine & Associated System Installation and Repair","Mechanical Repairs","Electrical & Automation"],description:"From propulsion to power management, we offer turnkey marine engineering services. Our expertise includes engine installations, system overhauls, mechanical maintenance, and electrical automation tailored to the maritime industry."},{id:4,title:"Fabrication & Maintenance",image:"https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?w=800",items:["Welding & Fabrication (Hull & Outfit)","Pipe Fabrication & Installation","Hull Treatment & Tank Cleaning","Machining Services"],description:"We support vessel lifecycle needs with advanced fabrication capabilities. Our services include precision machining, structural welding, pipe installations, and hull/tank treatment for improved longevity and performance."},{id:5,title:"Support Services",image:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=800",items:["Manpower Supply","Diving Equipment Rental"],description:"To ensure seamless project execution, we offer skilled manpower solutions and reliable diving equipment rentals. Every resource provided adheres to industry safety and operational standards."}];return m.jsxs("div",{className:"relative bg-slate-900",children:[m.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`url(${H6})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"scroll"},children:m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-500/50 via-blue-750/85 to-slate-600/90"})}),m.jsx("div",{className:"relative z-10 pt-20 sm:pt-24 lg:pt-28 pb-12 sm:pb-16 lg:pb-20",children:m.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-10 sm:mb-12 lg:mb-16 animate-fade-in",children:[m.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-3 sm:mb-4 tracking-tight",children:["Our ",m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400",children:"Services"})]}),m.jsx("p",{className:"text-blue-200 text-sm sm:text-base lg:text-lg max-w-2xl mx-auto px-4",children:"Comprehensive marine solutions tailored to meet your specific needs"})]}),s?m.jsxs("div",{className:"max-w-5xl mx-auto animate-fade-in",children:[m.jsxs("button",{onClick:()=>e(null),className:"flex items-center text-cyan-400 hover:text-cyan-300 transition-colors duration-300 mb-5 sm:mb-6 lg:mb-8 group bg-slate-800/50 backdrop-blur-sm px-4 sm:px-5 lg:px-6 py-2 sm:py-2.5 lg:py-3 rounded-full border border-cyan-500/30 hover:border-cyan-500/50 text-sm sm:text-base",children:[m.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 mr-2 transform group-hover:-translate-x-2 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Services"]}),m.jsx("div",{className:"bg-slate-800/70 backdrop-blur-lg rounded-xl sm:rounded-2xl overflow-hidden border border-blue-500/20 shadow-2xl",children:m.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[m.jsxs("div",{className:"relative h-56 sm:h-64 md:h-auto",children:[m.jsx("img",{src:s.image,alt:s.title,className:"w-full h-full object-cover",loading:"lazy"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900/50 to-transparent"}),m.jsx("div",{className:"absolute top-4 sm:top-5 lg:top-6 left-4 sm:left-5 lg:left-6 w-10 h-10 sm:w-12 sm:h-12 lg:w-16 lg:h-16 bg-cyan-500/90 backdrop-blur-sm rounded-full flex items-center justify-center text-white text-lg sm:text-xl lg:text-2xl font-bold shadow-xl",children:s.id})]}),m.jsxs("div",{className:"p-5 sm:p-6 lg:p-8",children:[m.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl xl:text-4xl font-bold text-white mb-3 sm:mb-4 lg:mb-6",children:s.title}),m.jsxs("div",{className:"mb-4 sm:mb-5 lg:mb-6",children:[m.jsxs("h3",{className:"text-base sm:text-lg lg:text-xl font-semibold text-cyan-400 mb-2 sm:mb-3 lg:mb-4 flex items-center gap-2",children:[m.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"What We Offer"]}),m.jsx("ul",{className:"space-y-1.5 sm:space-y-2 lg:space-y-3",children:s.items.map((o,l)=>m.jsxs("li",{className:"text-blue-100 flex items-start group/item hover:translate-x-2 transition-transform duration-300 text-xs sm:text-sm lg:text-base",children:[m.jsx("span",{className:"text-cyan-400 mr-2 sm:mr-2.5 lg:mr-3 text-base sm:text-lg lg:text-xl flex-shrink-0",children:""}),m.jsx("span",{className:"leading-relaxed group-hover/item:text-white transition-colors",children:o})]},l))})]}),m.jsxs("div",{className:"pt-3 sm:pt-4 lg:pt-6 border-t border-blue-500/30",children:[m.jsxs("h3",{className:"text-base sm:text-lg lg:text-xl font-semibold text-cyan-400 mb-2 sm:mb-2.5 lg:mb-3 flex items-center gap-2",children:[m.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Overview"]}),m.jsx("p",{className:"text-blue-100 leading-relaxed text-xs sm:text-sm lg:text-base",children:s.description})]}),m.jsx("div",{className:"mt-5 sm:mt-6 lg:mt-8",children:m.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-600 text-white px-5 sm:px-6 lg:px-8 py-2 sm:py-2.5 lg:py-3 rounded-full font-semibold hover:shadow-lg hover:shadow-cyan-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm lg:text-base",children:[m.jsx("span",{children:"Get a Quote"}),m.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 lg:w-5 lg:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})]})})]}):m.jsx("div",{className:"flex justify-center",children:m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8 max-w-7xl w-full",children:r.map(o=>m.jsxs("div",{onClick:()=>e(o),className:"group relative bg-slate-800/60 backdrop-blur-md rounded-xl sm:rounded-2xl overflow-hidden border border-blue-500/20 cursor-pointer transform transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-cyan-500/30",children:[m.jsxs("div",{className:"relative h-48 sm:h-56 md:h-64 overflow-hidden",children:[m.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/50 to-transparent"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-cyan-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),m.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 sm:p-5 lg:p-6",children:[m.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white group-hover:text-cyan-400 transition-colors duration-300",children:o.title}),m.jsxs("p",{className:"text-blue-300 text-xs sm:text-sm mt-1.5 sm:mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center gap-2",children:["Click to learn more",m.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 transform group-hover:translate-x-2 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),m.jsxs("div",{className:"absolute top-3 sm:top-4 right-3 sm:right-4 bg-cyan-500/80 backdrop-blur-sm text-white text-xs font-bold px-2 sm:px-2.5 lg:px-3 py-1 rounded-full shadow-lg",children:[o.items.length," Services"]})]},o.id))})}),!s&&m.jsxs("div",{className:"mt-12 sm:mt-16 lg:mt-20 max-w-6xl mx-auto",children:[m.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center mb-8 sm:mb-10 lg:mb-12",children:["Why Choose"," ",m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400",children:"Our Services"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-5 lg:gap-6",children:[{title:"Expert Team",description:"Highly skilled professionals with years of maritime industry experience",icon:m.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})},{title:"Quality Standards",description:"All work adheres to international maritime safety and quality standards",icon:m.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},{title:"On-Time Delivery",description:"Committed to meeting project deadlines without compromising quality",icon:m.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}].map((o,l)=>m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-md border border-cyan-500/20 rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 hover:border-cyan-500/50 hover:scale-105 transition-all duration-300 group",children:[m.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 bg-gradient-to-br from-cyan-500/20 to-blue-600/20 rounded-full flex items-center justify-center text-cyan-400 mb-3 sm:mb-4 lg:mb-6 group-hover:scale-110 transition-transform",children:o.icon}),m.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white mb-2 sm:mb-3 lg:mb-4",children:o.title}),m.jsx("p",{className:"text-blue-200 leading-relaxed text-xs sm:text-sm lg:text-base",children:o.description})]},l))})]})]})}),m.jsx("style",{jsx:!0,children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .animate-fade-in {
          animation: fade-in 0.6s ease-out;
        }
      `})]})},V6="/assets/ceo-DrIYQyA_.jpeg";function fc(s){let e=s[0],t=s[1],n=s[2];return Math.sqrt(e*e+t*t+n*n)}function M0(s,e){return s[0]=e[0],s[1]=e[1],s[2]=e[2],s}function W6(s,e,t,n){return s[0]=e,s[1]=t,s[2]=n,s}function hw(s,e,t){return s[0]=e[0]+t[0],s[1]=e[1]+t[1],s[2]=e[2]+t[2],s}function dw(s,e,t){return s[0]=e[0]-t[0],s[1]=e[1]-t[1],s[2]=e[2]-t[2],s}function q6(s,e,t){return s[0]=e[0]*t[0],s[1]=e[1]*t[1],s[2]=e[2]*t[2],s}function Y6(s,e,t){return s[0]=e[0]/t[0],s[1]=e[1]/t[1],s[2]=e[2]/t[2],s}function Wm(s,e,t){return s[0]=e[0]*t,s[1]=e[1]*t,s[2]=e[2]*t,s}function X6(s,e){let t=e[0]-s[0],n=e[1]-s[1],r=e[2]-s[2];return Math.sqrt(t*t+n*n+r*r)}function Z6(s,e){let t=e[0]-s[0],n=e[1]-s[1],r=e[2]-s[2];return t*t+n*n+r*r}function fw(s){let e=s[0],t=s[1],n=s[2];return e*e+t*t+n*n}function J6(s,e){return s[0]=-e[0],s[1]=-e[1],s[2]=-e[2],s}function Q6(s,e){return s[0]=1/e[0],s[1]=1/e[1],s[2]=1/e[2],s}function S0(s,e){let t=e[0],n=e[1],r=e[2],o=t*t+n*n+r*r;return o>0&&(o=1/Math.sqrt(o)),s[0]=e[0]*o,s[1]=e[1]*o,s[2]=e[2]*o,s}function nS(s,e){return s[0]*e[0]+s[1]*e[1]+s[2]*e[2]}function pw(s,e,t){let n=e[0],r=e[1],o=e[2],l=t[0],u=t[1],d=t[2];return s[0]=r*d-o*u,s[1]=o*l-n*d,s[2]=n*u-r*l,s}function K6(s,e,t,n){let r=e[0],o=e[1],l=e[2];return s[0]=r+n*(t[0]-r),s[1]=o+n*(t[1]-o),s[2]=l+n*(t[2]-l),s}function $6(s,e,t,n,r){const o=Math.exp(-n*r);let l=e[0],u=e[1],d=e[2];return s[0]=t[0]+(l-t[0])*o,s[1]=t[1]+(u-t[1])*o,s[2]=t[2]+(d-t[2])*o,s}function ez(s,e,t){let n=e[0],r=e[1],o=e[2],l=t[3]*n+t[7]*r+t[11]*o+t[15];return l=l||1,s[0]=(t[0]*n+t[4]*r+t[8]*o+t[12])/l,s[1]=(t[1]*n+t[5]*r+t[9]*o+t[13])/l,s[2]=(t[2]*n+t[6]*r+t[10]*o+t[14])/l,s}function tz(s,e,t){let n=e[0],r=e[1],o=e[2],l=t[3]*n+t[7]*r+t[11]*o+t[15];return l=l||1,s[0]=(t[0]*n+t[4]*r+t[8]*o)/l,s[1]=(t[1]*n+t[5]*r+t[9]*o)/l,s[2]=(t[2]*n+t[6]*r+t[10]*o)/l,s}function nz(s,e,t){let n=e[0],r=e[1],o=e[2];return s[0]=n*t[0]+r*t[3]+o*t[6],s[1]=n*t[1]+r*t[4]+o*t[7],s[2]=n*t[2]+r*t[5]+o*t[8],s}function iz(s,e,t){let n=e[0],r=e[1],o=e[2],l=t[0],u=t[1],d=t[2],f=t[3],p=u*o-d*r,g=d*n-l*o,y=l*r-u*n,b=u*y-d*g,v=d*p-l*y,_=l*g-u*p,E=f*2;return p*=E,g*=E,y*=E,b*=2,v*=2,_*=2,s[0]=n+p+b,s[1]=r+g+v,s[2]=o+y+_,s}const sz=(function(){const s=[0,0,0],e=[0,0,0];return function(t,n){M0(s,t),M0(e,n),S0(s,s),S0(e,e);let r=nS(s,e);return r>1?0:r<-1?Math.PI:Math.acos(r)}})();function rz(s,e){return s[0]===e[0]&&s[1]===e[1]&&s[2]===e[2]}class on extends Array{constructor(e=0,t=e,n=e){return super(e,t,n),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,t=e,n=e){return e.length?this.copy(e):(W6(this,e,t,n),this)}copy(e){return M0(this,e),this}add(e,t){return t?hw(this,e,t):hw(this,this,e),this}sub(e,t){return t?dw(this,e,t):dw(this,this,e),this}multiply(e){return e.length?q6(this,this,e):Wm(this,this,e),this}divide(e){return e.length?Y6(this,this,e):Wm(this,this,1/e),this}inverse(e=this){return Q6(this,e),this}len(){return fc(this)}distance(e){return e?X6(this,e):fc(this)}squaredLen(){return fw(this)}squaredDistance(e){return e?Z6(this,e):fw(this)}negate(e=this){return J6(this,e),this}cross(e,t){return t?pw(this,e,t):pw(this,this,e),this}scale(e){return Wm(this,this,e),this}normalize(){return S0(this,this),this}dot(e){return nS(this,e)}equals(e){return rz(this,e)}applyMatrix3(e){return nz(this,this,e),this}applyMatrix4(e){return ez(this,this,e),this}scaleRotateMatrix4(e){return tz(this,this,e),this}applyQuaternion(e){return iz(this,this,e),this}angle(e){return sz(this,e)}lerp(e,t){return K6(this,this,e,t),this}smoothLerp(e,t,n){return $6(this,this,e,t,n),this}clone(){return new on(this[0],this[1],this[2])}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}transformDirection(e){const t=this[0],n=this[1],r=this[2];return this[0]=e[0]*t+e[4]*n+e[8]*r,this[1]=e[1]*t+e[5]*n+e[9]*r,this[2]=e[2]*t+e[6]*n+e[10]*r,this.normalize()}}const mw=new on;let az=1,oz=1,gw=!1;class lz{constructor(e,t={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=t,this.id=az++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let n in t)this.addAttribute(n,t[n])}addAttribute(e,t){if(this.attributes[e]=t,t.id=oz++,t.size=t.size||1,t.type=t.type||(t.data.constructor===Float32Array?this.gl.FLOAT:t.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),t.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,t.normalized=t.normalized||!1,t.stride=t.stride||0,t.offset=t.offset||0,t.count=t.count||(t.stride?t.data.byteLength/t.stride:t.data.length/t.size),t.divisor=t.instanced||0,t.needsUpdate=!1,t.usage=t.usage||this.gl.STATIC_DRAW,t.buffer||this.updateAttribute(t),t.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==t.count*t.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,t.count*t.divisor);this.instancedCount=t.count*t.divisor}else e==="index"?this.drawRange.count=t.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,t.count))}updateAttribute(e){const t=!e.buffer;t&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),t?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((t,{name:n,type:r})=>{if(!this.attributes[n]){console.warn(`active attribute ${n} not being supplied`);return}const o=this.attributes[n];this.gl.bindBuffer(o.target,o.buffer),this.glState.boundBuffer=o.buffer;let l=1;r===35674&&(l=2),r===35675&&(l=3),r===35676&&(l=4);const u=o.size/l,d=l===1?0:l*l*4,f=l===1?0:l*4;for(let p=0;p<l;p++)this.gl.vertexAttribPointer(t+p,u,o.type,o.normalized,o.stride+d,o.offset+p*f),this.gl.enableVertexAttribArray(t+p),this.gl.renderer.vertexAttribDivisor(t+p,o.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:t=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((r,{name:o})=>{const l=this.attributes[o];l.needsUpdate&&this.updateAttribute(l)});let n=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(n=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*n,this.instancedCount):this.gl.renderer.drawArraysInstanced(t,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*n):this.gl.drawArrays(t,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!gw)return console.warn("No position buffer data found to compute bounds"),gw=!0}computeBoundingBox(e){e||(e=this.getPosition());const t=e.data,n=e.size;this.bounds||(this.bounds={min:new on,max:new on,center:new on,scale:new on,radius:1/0});const r=this.bounds.min,o=this.bounds.max,l=this.bounds.center,u=this.bounds.scale;r.set(1/0),o.set(-1/0);for(let d=0,f=t.length;d<f;d+=n){const p=t[d],g=t[d+1],y=t[d+2];r.x=Math.min(p,r.x),r.y=Math.min(g,r.y),r.z=Math.min(y,r.z),o.x=Math.max(p,o.x),o.y=Math.max(g,o.y),o.z=Math.max(y,o.z)}u.sub(o,r),l.add(r,o).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const t=e.data,n=e.size;this.bounds||this.computeBoundingBox(e);let r=0;for(let o=0,l=t.length;o<l;o+=n)mw.fromArray(t,o),r=Math.max(r,this.bounds.center.squaredDistance(mw));this.bounds.radius=Math.sqrt(r)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let cz=1;const xw={};class iS{constructor(e,{vertex:t,fragment:n,uniforms:r={},transparent:o=!1,cullFace:l=e.BACK,frontFace:u=e.CCW,depthTest:d=!0,depthWrite:f=!0,depthFunc:p=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=r,this.id=cz++,t||console.warn("vertex shader not supplied"),n||console.warn("fragment shader not supplied"),this.transparent=o,this.cullFace=l,this.frontFace=u,this.depthTest=d,this.depthWrite=f,this.depthFunc=p,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:t,fragment:n})}setShaders({vertex:e,fragment:t}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${yw(e)}`)),t&&(this.gl.shaderSource(this.fragmentShader,t),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${yw(t)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let n=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let l=0;l<n;l++){let u=this.gl.getActiveUniform(this.program,l);this.uniformLocations.set(u,this.gl.getUniformLocation(this.program,u.name));const d=u.name.match(/(\w+)/g);u.uniformName=d[0],u.nameComponents=d.slice(1)}this.attributeLocations=new Map;const r=[],o=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let l=0;l<o;l++){const u=this.gl.getActiveAttrib(this.program,l),d=this.gl.getAttribLocation(this.program,u.name);d!==-1&&(r[d]=u.name,this.attributeLocations.set(u,d))}this.attributeOrder=r.join("")}setBlendFunc(e,t,n,r){this.blendFunc.src=e,this.blendFunc.dst=t,this.blendFunc.srcAlpha=n,this.blendFunc.dstAlpha=r,e&&(this.transparent=!0)}setBlendEquation(e,t){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=t}setStencilFunc(e,t,n){this.stencilRef=t,this.stencilFunc.func=e,this.stencilFunc.ref=t,this.stencilFunc.mask=n}setStencilOp(e,t,n){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=t,this.stencilOp.depthPass=n}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let t=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((r,o)=>{let l=this.uniforms[o.uniformName];for(const u of o.nameComponents){if(!l)break;if(u in l)l=l[u];else{if(Array.isArray(l.value))break;l=void 0;break}}if(!l)return vw(`Active uniform ${o.name} has not been supplied`);if(l&&l.value===void 0)return vw(`${o.name} uniform is missing a value parameter`);if(l.value.texture)return t=t+1,l.value.update(t),qm(this.gl,o.type,r,t);if(l.value.length&&l.value[0].texture){const u=[];return l.value.forEach(d=>{t=t+1,d.update(t),u.push(t)}),qm(this.gl,o.type,r,u)}qm(this.gl,o.type,r,l.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function qm(s,e,t,n){n=n.length?uz(n):n;const r=s.renderer.state.uniformLocations.get(t);if(n.length)if(r===void 0||r.length!==n.length)s.renderer.state.uniformLocations.set(t,n.slice(0));else{if(hz(r,n))return;r.set?r.set(n):dz(r,n),s.renderer.state.uniformLocations.set(t,r)}else{if(r===n)return;s.renderer.state.uniformLocations.set(t,n)}switch(e){case 5126:return n.length?s.uniform1fv(t,n):s.uniform1f(t,n);case 35664:return s.uniform2fv(t,n);case 35665:return s.uniform3fv(t,n);case 35666:return s.uniform4fv(t,n);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return n.length?s.uniform1iv(t,n):s.uniform1i(t,n);case 35671:case 35667:return s.uniform2iv(t,n);case 35672:case 35668:return s.uniform3iv(t,n);case 35673:case 35669:return s.uniform4iv(t,n);case 35674:return s.uniformMatrix2fv(t,!1,n);case 35675:return s.uniformMatrix3fv(t,!1,n);case 35676:return s.uniformMatrix4fv(t,!1,n)}}function yw(s){let e=s.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function uz(s){const e=s.length,t=s[0].length;if(t===void 0)return s;const n=e*t;let r=xw[n];r||(xw[n]=r=new Float32Array(n));for(let o=0;o<e;o++)r.set(s[o],o*t);return r}function hz(s,e){if(s.length!==e.length)return!1;for(let t=0,n=s.length;t<n;t++)if(s[t]!==e[t])return!1;return!0}function dz(s,e){for(let t=0,n=s.length;t<n;t++)s[t]=e[t]}let Ym=0;function vw(s){Ym>100||(console.warn(s),Ym++,Ym>100&&console.warn("More than 100 program warnings - stopping logs."))}const Xm=new on;let fz=1;class pz{constructor({canvas:e=document.createElement("canvas"),width:t=300,height:n=150,dpr:r=1,alpha:o=!1,depth:l=!0,stencil:u=!1,antialias:d=!1,premultipliedAlpha:f=!1,preserveDrawingBuffer:p=!1,powerPreference:g="default",autoClear:y=!0,webgl:b=2}={}){const v={alpha:o,depth:l,stencil:u,antialias:d,premultipliedAlpha:f,preserveDrawingBuffer:p,powerPreference:g};this.dpr=r,this.alpha=o,this.color=!0,this.depth=l,this.stencil=u,this.premultipliedAlpha=f,this.autoClear=y,this.id=fz++,b===2&&(this.gl=e.getContext("webgl2",v)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",v)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(t,n),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,t){this.width=e,this.height=t,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=t*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:t+"px"})}setViewport(e,t,n=0,r=0){this.state.viewport.width===e&&this.state.viewport.height===t||(this.state.viewport.width=e,this.state.viewport.height=t,this.state.viewport.x=n,this.state.viewport.y=r,this.gl.viewport(n,r,e,t))}setScissor(e,t,n=0,r=0){this.gl.scissor(n,r,e,t)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,t,n,r){this.state.blendFunc.src===e&&this.state.blendFunc.dst===t&&this.state.blendFunc.srcAlpha===n&&this.state.blendFunc.dstAlpha===r||(this.state.blendFunc.src=e,this.state.blendFunc.dst=t,this.state.blendFunc.srcAlpha=n,this.state.blendFunc.dstAlpha=r,n!==void 0?this.gl.blendFuncSeparate(e,t,n,r):this.gl.blendFunc(e,t))}setBlendEquation(e,t){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===t)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=t,t!==void 0?this.gl.blendEquationSeparate(e,t):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,t,n){this.state.stencilFunc===e&&this.state.stencilRef===t&&this.state.stencilFuncMask===n||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=t||0,this.state.stencilFuncMask=n||0,this.gl.stencilFunc(e||this.gl.ALWAYS,t||0,n||0))}setStencilOp(e,t,n){this.state.stencilFail===e&&this.state.stencilDepthFail===t&&this.state.stencilDepthPass===n||(this.state.stencilFail=e,this.state.stencilDepthFail=t,this.state.stencilDepthPass=n,this.gl.stencilOp(e,t,n))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:t=null}={}){this.state.framebuffer!==t&&(this.state.framebuffer=t,this.gl.bindFramebuffer(e,t))}getExtension(e,t,n){return t&&this.gl[t]?this.gl[t].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),t?this.extensions[e]?this.extensions[e][n].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:e.zDepth!==t.zDepth?e.zDepth-t.zDepth:t.id-e.id}sortTransparent(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.zDepth!==t.zDepth?t.zDepth-e.zDepth:t.id-e.id}sortUI(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:t.id-e.id}getRenderList({scene:e,camera:t,frustumCull:n,sort:r}){let o=[];if(t&&n&&t.updateFrustum(),e.traverse(l=>{if(!l.visible)return!0;l.draw&&(n&&l.frustumCulled&&t&&!t.frustumIntersectsMesh(l)||o.push(l))}),r){const l=[],u=[],d=[];o.forEach(f=>{f.program.transparent?f.program.depthTest?u.push(f):d.push(f):l.push(f),f.zDepth=0,!(f.renderOrder!==0||!f.program.depthTest||!t)&&(f.worldMatrix.getTranslation(Xm),Xm.applyMatrix4(t.projectionViewMatrix),f.zDepth=Xm.z)}),l.sort(this.sortOpaque),u.sort(this.sortTransparent),d.sort(this.sortUI),o=l.concat(u,d)}return o}render({scene:e,camera:t,target:n=null,update:r=!0,sort:o=!0,frustumCull:l=!0,clear:u}){n===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(n),this.setViewport(n.width,n.height)),(u||this.autoClear&&u!==!1)&&(this.depth&&(!n||n.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!n||n.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),r&&e.updateMatrixWorld(),t&&t.updateMatrixWorld(),this.getRenderList({scene:e,camera:t,frustumCull:l,sort:o}).forEach(f=>{f.draw({camera:t})})}}function mz(s,e){return s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=e[3],s}function gz(s,e,t,n,r){return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s}function xz(s,e){let t=e[0],n=e[1],r=e[2],o=e[3],l=t*t+n*n+r*r+o*o;return l>0&&(l=1/Math.sqrt(l)),s[0]=t*l,s[1]=n*l,s[2]=r*l,s[3]=o*l,s}function yz(s,e){return s[0]*e[0]+s[1]*e[1]+s[2]*e[2]+s[3]*e[3]}function vz(s){return s[0]=0,s[1]=0,s[2]=0,s[3]=1,s}function bz(s,e,t){t=t*.5;let n=Math.sin(t);return s[0]=n*e[0],s[1]=n*e[1],s[2]=n*e[2],s[3]=Math.cos(t),s}function bw(s,e,t){let n=e[0],r=e[1],o=e[2],l=e[3],u=t[0],d=t[1],f=t[2],p=t[3];return s[0]=n*p+l*u+r*f-o*d,s[1]=r*p+l*d+o*u-n*f,s[2]=o*p+l*f+n*d-r*u,s[3]=l*p-n*u-r*d-o*f,s}function wz(s,e,t){t*=.5;let n=e[0],r=e[1],o=e[2],l=e[3],u=Math.sin(t),d=Math.cos(t);return s[0]=n*d+l*u,s[1]=r*d+o*u,s[2]=o*d-r*u,s[3]=l*d-n*u,s}function _z(s,e,t){t*=.5;let n=e[0],r=e[1],o=e[2],l=e[3],u=Math.sin(t),d=Math.cos(t);return s[0]=n*d-o*u,s[1]=r*d+l*u,s[2]=o*d+n*u,s[3]=l*d-r*u,s}function Mz(s,e,t){t*=.5;let n=e[0],r=e[1],o=e[2],l=e[3],u=Math.sin(t),d=Math.cos(t);return s[0]=n*d+r*u,s[1]=r*d-n*u,s[2]=o*d+l*u,s[3]=l*d-o*u,s}function Sz(s,e,t,n){let r=e[0],o=e[1],l=e[2],u=e[3],d=t[0],f=t[1],p=t[2],g=t[3],y,b,v,_,E;return b=r*d+o*f+l*p+u*g,b<0&&(b=-b,d=-d,f=-f,p=-p,g=-g),1-b>1e-6?(y=Math.acos(b),v=Math.sin(y),_=Math.sin((1-n)*y)/v,E=Math.sin(n*y)/v):(_=1-n,E=n),s[0]=_*r+E*d,s[1]=_*o+E*f,s[2]=_*l+E*p,s[3]=_*u+E*g,s}function Ez(s,e){let t=e[0],n=e[1],r=e[2],o=e[3],l=t*t+n*n+r*r+o*o,u=l?1/l:0;return s[0]=-t*u,s[1]=-n*u,s[2]=-r*u,s[3]=o*u,s}function Tz(s,e){return s[0]=-e[0],s[1]=-e[1],s[2]=-e[2],s[3]=e[3],s}function Az(s,e){let t=e[0]+e[4]+e[8],n;if(t>0)n=Math.sqrt(t+1),s[3]=.5*n,n=.5/n,s[0]=(e[5]-e[7])*n,s[1]=(e[6]-e[2])*n,s[2]=(e[1]-e[3])*n;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[r*3+r]&&(r=2);let o=(r+1)%3,l=(r+2)%3;n=Math.sqrt(e[r*3+r]-e[o*3+o]-e[l*3+l]+1),s[r]=.5*n,n=.5/n,s[3]=(e[o*3+l]-e[l*3+o])*n,s[o]=(e[o*3+r]+e[r*3+o])*n,s[l]=(e[l*3+r]+e[r*3+l])*n}return s}function Cz(s,e,t="YXZ"){let n=Math.sin(e[0]*.5),r=Math.cos(e[0]*.5),o=Math.sin(e[1]*.5),l=Math.cos(e[1]*.5),u=Math.sin(e[2]*.5),d=Math.cos(e[2]*.5);return t==="XYZ"?(s[0]=n*l*d+r*o*u,s[1]=r*o*d-n*l*u,s[2]=r*l*u+n*o*d,s[3]=r*l*d-n*o*u):t==="YXZ"?(s[0]=n*l*d+r*o*u,s[1]=r*o*d-n*l*u,s[2]=r*l*u-n*o*d,s[3]=r*l*d+n*o*u):t==="ZXY"?(s[0]=n*l*d-r*o*u,s[1]=r*o*d+n*l*u,s[2]=r*l*u+n*o*d,s[3]=r*l*d-n*o*u):t==="ZYX"?(s[0]=n*l*d-r*o*u,s[1]=r*o*d+n*l*u,s[2]=r*l*u-n*o*d,s[3]=r*l*d+n*o*u):t==="YZX"?(s[0]=n*l*d+r*o*u,s[1]=r*o*d+n*l*u,s[2]=r*l*u-n*o*d,s[3]=r*l*d-n*o*u):t==="XZY"&&(s[0]=n*l*d-r*o*u,s[1]=r*o*d-n*l*u,s[2]=r*l*u+n*o*d,s[3]=r*l*d+n*o*u),s}const Rz=mz,Nz=gz,Lz=yz,Dz=xz;class zz extends Array{constructor(e=0,t=0,n=0,r=1){super(e,t,n,r),this.onChange=()=>{},this._target=this;const o=["0","1","2","3"];return new Proxy(this,{set(l,u){const d=Reflect.set(...arguments);return d&&o.includes(u)&&l.onChange(),d}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return vz(this._target),this.onChange(),this}set(e,t,n,r){return e.length?this.copy(e):(Nz(this._target,e,t,n,r),this.onChange(),this)}rotateX(e){return wz(this._target,this._target,e),this.onChange(),this}rotateY(e){return _z(this._target,this._target,e),this.onChange(),this}rotateZ(e){return Mz(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return Ez(this._target,e),this.onChange(),this}conjugate(e=this._target){return Tz(this._target,e),this.onChange(),this}copy(e){return Rz(this._target,e),this.onChange(),this}normalize(e=this._target){return Dz(this._target,e),this.onChange(),this}multiply(e,t){return t?bw(this._target,e,t):bw(this._target,this._target,e),this.onChange(),this}dot(e){return Lz(this._target,e)}fromMatrix3(e){return Az(this._target,e),this.onChange(),this}fromEuler(e,t){return Cz(this._target,e,e.order),t||this.onChange(),this}fromAxisAngle(e,t){return bz(this._target,e,t),this.onChange(),this}slerp(e,t){return Sz(this._target,this._target,e,t),this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this._target[3]=e[t+3],this.onChange(),this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}}const Oz=1e-6;function Bz(s,e){return s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=e[3],s[4]=e[4],s[5]=e[5],s[6]=e[6],s[7]=e[7],s[8]=e[8],s[9]=e[9],s[10]=e[10],s[11]=e[11],s[12]=e[12],s[13]=e[13],s[14]=e[14],s[15]=e[15],s}function Uz(s,e,t,n,r,o,l,u,d,f,p,g,y,b,v,_,E){return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s[4]=o,s[5]=l,s[6]=u,s[7]=d,s[8]=f,s[9]=p,s[10]=g,s[11]=y,s[12]=b,s[13]=v,s[14]=_,s[15]=E,s}function Pz(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function kz(s,e){let t=e[0],n=e[1],r=e[2],o=e[3],l=e[4],u=e[5],d=e[6],f=e[7],p=e[8],g=e[9],y=e[10],b=e[11],v=e[12],_=e[13],E=e[14],M=e[15],S=t*u-n*l,C=t*d-r*l,A=t*f-o*l,N=n*d-r*u,D=n*f-o*u,R=r*f-o*d,P=p*_-g*v,q=p*E-y*v,G=p*M-b*v,j=g*E-y*_,oe=g*M-b*_,Q=y*M-b*E,W=S*Q-C*oe+A*j+N*G-D*q+R*P;return W?(W=1/W,s[0]=(u*Q-d*oe+f*j)*W,s[1]=(r*oe-n*Q-o*j)*W,s[2]=(_*R-E*D+M*N)*W,s[3]=(y*D-g*R-b*N)*W,s[4]=(d*G-l*Q-f*q)*W,s[5]=(t*Q-r*G+o*q)*W,s[6]=(E*A-v*R-M*C)*W,s[7]=(p*R-y*A+b*C)*W,s[8]=(l*oe-u*G+f*P)*W,s[9]=(n*G-t*oe-o*P)*W,s[10]=(v*D-_*A+M*S)*W,s[11]=(g*A-p*D-b*S)*W,s[12]=(u*q-l*j-d*P)*W,s[13]=(t*j-n*q+r*P)*W,s[14]=(_*C-v*N-E*S)*W,s[15]=(p*N-g*C+y*S)*W,s):null}function sS(s){let e=s[0],t=s[1],n=s[2],r=s[3],o=s[4],l=s[5],u=s[6],d=s[7],f=s[8],p=s[9],g=s[10],y=s[11],b=s[12],v=s[13],_=s[14],E=s[15],M=e*l-t*o,S=e*u-n*o,C=e*d-r*o,A=t*u-n*l,N=t*d-r*l,D=n*d-r*u,R=f*v-p*b,P=f*_-g*b,q=f*E-y*b,G=p*_-g*v,j=p*E-y*v,oe=g*E-y*_;return M*oe-S*j+C*G+A*q-N*P+D*R}function ww(s,e,t){let n=e[0],r=e[1],o=e[2],l=e[3],u=e[4],d=e[5],f=e[6],p=e[7],g=e[8],y=e[9],b=e[10],v=e[11],_=e[12],E=e[13],M=e[14],S=e[15],C=t[0],A=t[1],N=t[2],D=t[3];return s[0]=C*n+A*u+N*g+D*_,s[1]=C*r+A*d+N*y+D*E,s[2]=C*o+A*f+N*b+D*M,s[3]=C*l+A*p+N*v+D*S,C=t[4],A=t[5],N=t[6],D=t[7],s[4]=C*n+A*u+N*g+D*_,s[5]=C*r+A*d+N*y+D*E,s[6]=C*o+A*f+N*b+D*M,s[7]=C*l+A*p+N*v+D*S,C=t[8],A=t[9],N=t[10],D=t[11],s[8]=C*n+A*u+N*g+D*_,s[9]=C*r+A*d+N*y+D*E,s[10]=C*o+A*f+N*b+D*M,s[11]=C*l+A*p+N*v+D*S,C=t[12],A=t[13],N=t[14],D=t[15],s[12]=C*n+A*u+N*g+D*_,s[13]=C*r+A*d+N*y+D*E,s[14]=C*o+A*f+N*b+D*M,s[15]=C*l+A*p+N*v+D*S,s}function jz(s,e,t){let n=t[0],r=t[1],o=t[2],l,u,d,f,p,g,y,b,v,_,E,M;return e===s?(s[12]=e[0]*n+e[4]*r+e[8]*o+e[12],s[13]=e[1]*n+e[5]*r+e[9]*o+e[13],s[14]=e[2]*n+e[6]*r+e[10]*o+e[14],s[15]=e[3]*n+e[7]*r+e[11]*o+e[15]):(l=e[0],u=e[1],d=e[2],f=e[3],p=e[4],g=e[5],y=e[6],b=e[7],v=e[8],_=e[9],E=e[10],M=e[11],s[0]=l,s[1]=u,s[2]=d,s[3]=f,s[4]=p,s[5]=g,s[6]=y,s[7]=b,s[8]=v,s[9]=_,s[10]=E,s[11]=M,s[12]=l*n+p*r+v*o+e[12],s[13]=u*n+g*r+_*o+e[13],s[14]=d*n+y*r+E*o+e[14],s[15]=f*n+b*r+M*o+e[15]),s}function Fz(s,e,t){let n=t[0],r=t[1],o=t[2];return s[0]=e[0]*n,s[1]=e[1]*n,s[2]=e[2]*n,s[3]=e[3]*n,s[4]=e[4]*r,s[5]=e[5]*r,s[6]=e[6]*r,s[7]=e[7]*r,s[8]=e[8]*o,s[9]=e[9]*o,s[10]=e[10]*o,s[11]=e[11]*o,s[12]=e[12],s[13]=e[13],s[14]=e[14],s[15]=e[15],s}function Iz(s,e,t,n){let r=n[0],o=n[1],l=n[2],u=Math.hypot(r,o,l),d,f,p,g,y,b,v,_,E,M,S,C,A,N,D,R,P,q,G,j,oe,Q,W,re;return Math.abs(u)<Oz?null:(u=1/u,r*=u,o*=u,l*=u,d=Math.sin(t),f=Math.cos(t),p=1-f,g=e[0],y=e[1],b=e[2],v=e[3],_=e[4],E=e[5],M=e[6],S=e[7],C=e[8],A=e[9],N=e[10],D=e[11],R=r*r*p+f,P=o*r*p+l*d,q=l*r*p-o*d,G=r*o*p-l*d,j=o*o*p+f,oe=l*o*p+r*d,Q=r*l*p+o*d,W=o*l*p-r*d,re=l*l*p+f,s[0]=g*R+_*P+C*q,s[1]=y*R+E*P+A*q,s[2]=b*R+M*P+N*q,s[3]=v*R+S*P+D*q,s[4]=g*G+_*j+C*oe,s[5]=y*G+E*j+A*oe,s[6]=b*G+M*j+N*oe,s[7]=v*G+S*j+D*oe,s[8]=g*Q+_*W+C*re,s[9]=y*Q+E*W+A*re,s[10]=b*Q+M*W+N*re,s[11]=v*Q+S*W+D*re,e!==s&&(s[12]=e[12],s[13]=e[13],s[14]=e[14],s[15]=e[15]),s)}function Hz(s,e){return s[0]=e[12],s[1]=e[13],s[2]=e[14],s}function rS(s,e){let t=e[0],n=e[1],r=e[2],o=e[4],l=e[5],u=e[6],d=e[8],f=e[9],p=e[10];return s[0]=Math.hypot(t,n,r),s[1]=Math.hypot(o,l,u),s[2]=Math.hypot(d,f,p),s}function Gz(s){let e=s[0],t=s[1],n=s[2],r=s[4],o=s[5],l=s[6],u=s[8],d=s[9],f=s[10];const p=e*e+t*t+n*n,g=r*r+o*o+l*l,y=u*u+d*d+f*f;return Math.sqrt(Math.max(p,g,y))}const aS=(function(){const s=[1,1,1];return function(e,t){let n=s;rS(n,t);let r=1/n[0],o=1/n[1],l=1/n[2],u=t[0]*r,d=t[1]*o,f=t[2]*l,p=t[4]*r,g=t[5]*o,y=t[6]*l,b=t[8]*r,v=t[9]*o,_=t[10]*l,E=u+g+_,M=0;return E>0?(M=Math.sqrt(E+1)*2,e[3]=.25*M,e[0]=(y-v)/M,e[1]=(b-f)/M,e[2]=(d-p)/M):u>g&&u>_?(M=Math.sqrt(1+u-g-_)*2,e[3]=(y-v)/M,e[0]=.25*M,e[1]=(d+p)/M,e[2]=(b+f)/M):g>_?(M=Math.sqrt(1+g-u-_)*2,e[3]=(b-f)/M,e[0]=(d+p)/M,e[1]=.25*M,e[2]=(y+v)/M):(M=Math.sqrt(1+_-u-g)*2,e[3]=(d-p)/M,e[0]=(b+f)/M,e[1]=(y+v)/M,e[2]=.25*M),e}})();function Vz(s,e,t,n){let r=fc([s[0],s[1],s[2]]);const o=fc([s[4],s[5],s[6]]),l=fc([s[8],s[9],s[10]]);sS(s)<0&&(r=-r),t[0]=s[12],t[1]=s[13],t[2]=s[14];const d=s.slice(),f=1/r,p=1/o,g=1/l;d[0]*=f,d[1]*=f,d[2]*=f,d[4]*=p,d[5]*=p,d[6]*=p,d[8]*=g,d[9]*=g,d[10]*=g,aS(e,d),n[0]=r,n[1]=o,n[2]=l}function Wz(s,e,t,n){const r=s,o=e[0],l=e[1],u=e[2],d=e[3],f=o+o,p=l+l,g=u+u,y=o*f,b=o*p,v=o*g,_=l*p,E=l*g,M=u*g,S=d*f,C=d*p,A=d*g,N=n[0],D=n[1],R=n[2];return r[0]=(1-(_+M))*N,r[1]=(b+A)*N,r[2]=(v-C)*N,r[3]=0,r[4]=(b-A)*D,r[5]=(1-(y+M))*D,r[6]=(E+S)*D,r[7]=0,r[8]=(v+C)*R,r[9]=(E-S)*R,r[10]=(1-(y+_))*R,r[11]=0,r[12]=t[0],r[13]=t[1],r[14]=t[2],r[15]=1,r}function qz(s,e){let t=e[0],n=e[1],r=e[2],o=e[3],l=t+t,u=n+n,d=r+r,f=t*l,p=n*l,g=n*u,y=r*l,b=r*u,v=r*d,_=o*l,E=o*u,M=o*d;return s[0]=1-g-v,s[1]=p+M,s[2]=y-E,s[3]=0,s[4]=p-M,s[5]=1-f-v,s[6]=b+_,s[7]=0,s[8]=y+E,s[9]=b-_,s[10]=1-f-g,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function Yz(s,e,t,n,r){let o=1/Math.tan(e/2),l=1/(n-r);return s[0]=o/t,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=o,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(r+n)*l,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*r*n*l,s[15]=0,s}function Xz(s,e,t,n,r,o,l){let u=1/(e-t),d=1/(n-r),f=1/(o-l);return s[0]=-2*u,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*d,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*f,s[11]=0,s[12]=(e+t)*u,s[13]=(r+n)*d,s[14]=(l+o)*f,s[15]=1,s}function Zz(s,e,t,n){let r=e[0],o=e[1],l=e[2],u=n[0],d=n[1],f=n[2],p=r-t[0],g=o-t[1],y=l-t[2],b=p*p+g*g+y*y;b===0?y=1:(b=1/Math.sqrt(b),p*=b,g*=b,y*=b);let v=d*y-f*g,_=f*p-u*y,E=u*g-d*p;return b=v*v+_*_+E*E,b===0&&(f?u+=1e-6:d?f+=1e-6:d+=1e-6,v=d*y-f*g,_=f*p-u*y,E=u*g-d*p,b=v*v+_*_+E*E),b=1/Math.sqrt(b),v*=b,_*=b,E*=b,s[0]=v,s[1]=_,s[2]=E,s[3]=0,s[4]=g*E-y*_,s[5]=y*v-p*E,s[6]=p*_-g*v,s[7]=0,s[8]=p,s[9]=g,s[10]=y,s[11]=0,s[12]=r,s[13]=o,s[14]=l,s[15]=1,s}function _w(s,e,t){return s[0]=e[0]+t[0],s[1]=e[1]+t[1],s[2]=e[2]+t[2],s[3]=e[3]+t[3],s[4]=e[4]+t[4],s[5]=e[5]+t[5],s[6]=e[6]+t[6],s[7]=e[7]+t[7],s[8]=e[8]+t[8],s[9]=e[9]+t[9],s[10]=e[10]+t[10],s[11]=e[11]+t[11],s[12]=e[12]+t[12],s[13]=e[13]+t[13],s[14]=e[14]+t[14],s[15]=e[15]+t[15],s}function Mw(s,e,t){return s[0]=e[0]-t[0],s[1]=e[1]-t[1],s[2]=e[2]-t[2],s[3]=e[3]-t[3],s[4]=e[4]-t[4],s[5]=e[5]-t[5],s[6]=e[6]-t[6],s[7]=e[7]-t[7],s[8]=e[8]-t[8],s[9]=e[9]-t[9],s[10]=e[10]-t[10],s[11]=e[11]-t[11],s[12]=e[12]-t[12],s[13]=e[13]-t[13],s[14]=e[14]-t[14],s[15]=e[15]-t[15],s}function Jz(s,e,t){return s[0]=e[0]*t,s[1]=e[1]*t,s[2]=e[2]*t,s[3]=e[3]*t,s[4]=e[4]*t,s[5]=e[5]*t,s[6]=e[6]*t,s[7]=e[7]*t,s[8]=e[8]*t,s[9]=e[9]*t,s[10]=e[10]*t,s[11]=e[11]*t,s[12]=e[12]*t,s[13]=e[13]*t,s[14]=e[14]*t,s[15]=e[15]*t,s}class br extends Array{constructor(e=1,t=0,n=0,r=0,o=0,l=1,u=0,d=0,f=0,p=0,g=1,y=0,b=0,v=0,_=0,E=1){return super(e,t,n,r,o,l,u,d,f,p,g,y,b,v,_,E),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,t,n,r,o,l,u,d,f,p,g,y,b,v,_,E){return e.length?this.copy(e):(Uz(this,e,t,n,r,o,l,u,d,f,p,g,y,b,v,_,E),this)}translate(e,t=this){return jz(this,t,e),this}rotate(e,t,n=this){return Iz(this,n,e,t),this}scale(e,t=this){return Fz(this,t,typeof e=="number"?[e,e,e]:e),this}add(e,t){return t?_w(this,e,t):_w(this,this,e),this}sub(e,t){return t?Mw(this,e,t):Mw(this,this,e),this}multiply(e,t){return e.length?t?ww(this,e,t):ww(this,this,e):Jz(this,this,e),this}identity(){return Pz(this),this}copy(e){return Bz(this,e),this}fromPerspective({fov:e,aspect:t,near:n,far:r}={}){return Yz(this,e,t,n,r),this}fromOrthogonal({left:e,right:t,bottom:n,top:r,near:o,far:l}){return Xz(this,e,t,n,r,o,l),this}fromQuaternion(e){return qz(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return kz(this,e),this}compose(e,t,n){return Wz(this,e,t,n),this}decompose(e,t,n){return Vz(this,e,t,n),this}getRotation(e){return aS(e,this),this}getTranslation(e){return Hz(e,this),this}getScaling(e){return rS(e,this),this}getMaxScaleOnAxis(){return Gz(this)}lookAt(e,t,n){return Zz(this,e,t,n),this}determinant(){return sS(this)}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this[3]=e[t+3],this[4]=e[t+4],this[5]=e[t+5],this[6]=e[t+6],this[7]=e[t+7],this[8]=e[t+8],this[9]=e[t+9],this[10]=e[t+10],this[11]=e[t+11],this[12]=e[t+12],this[13]=e[t+13],this[14]=e[t+14],this[15]=e[t+15],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e[t+4]=this[4],e[t+5]=this[5],e[t+6]=this[6],e[t+7]=this[7],e[t+8]=this[8],e[t+9]=this[9],e[t+10]=this[10],e[t+11]=this[11],e[t+12]=this[12],e[t+13]=this[13],e[t+14]=this[14],e[t+15]=this[15],e}}function Qz(s,e,t="YXZ"){return t==="XYZ"?(s[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(s[0]=Math.atan2(-e[9],e[10]),s[2]=Math.atan2(-e[4],e[0])):(s[0]=Math.atan2(e[6],e[5]),s[2]=0)):t==="YXZ"?(s[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(s[1]=Math.atan2(e[8],e[10]),s[2]=Math.atan2(e[1],e[5])):(s[1]=Math.atan2(-e[2],e[0]),s[2]=0)):t==="ZXY"?(s[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(s[1]=Math.atan2(-e[2],e[10]),s[2]=Math.atan2(-e[4],e[5])):(s[1]=0,s[2]=Math.atan2(e[1],e[0]))):t==="ZYX"?(s[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(s[0]=Math.atan2(e[6],e[10]),s[2]=Math.atan2(e[1],e[0])):(s[0]=0,s[2]=Math.atan2(-e[4],e[5]))):t==="YZX"?(s[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(s[0]=Math.atan2(-e[9],e[5]),s[1]=Math.atan2(-e[2],e[0])):(s[0]=0,s[1]=Math.atan2(e[8],e[10]))):t==="XZY"&&(s[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(s[0]=Math.atan2(e[6],e[5]),s[1]=Math.atan2(e[8],e[0])):(s[0]=Math.atan2(-e[9],e[10]),s[1]=0)),s}const Sw=new br;class Kz extends Array{constructor(e=0,t=e,n=e,r="YXZ"){super(e,t,n),this.order=r,this.onChange=()=>{},this._target=this;const o=["0","1","2"];return new Proxy(this,{set(l,u){const d=Reflect.set(...arguments);return d&&o.includes(u)&&l.onChange(),d}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,t=e,n=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=t,this._target[2]=n,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,t=this.order){return Qz(this._target,e,t),this.onChange(),this}fromQuaternion(e,t=this.order,n){return Sw.fromQuaternion(e),this._target.fromRotationMatrix(Sw,t),n||this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}}class Dg{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new br,this.worldMatrix=new br,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new on,this.quaternion=new zz,this.scale=new on(1),this.rotation=new Kz,this.up=new on(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,t=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,t&&e&&e.addChild(this,!1)}addChild(e,t=!0){~this.children.indexOf(e)||this.children.push(e),t&&e.setParent(this,!1)}removeChild(e,t=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),t&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let t=0,n=this.children.length;t<n;t++)this.children[t].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let t=0,n=this.children.length;t<n;t++)this.children[t].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,t=!1){t?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}const $z=new br,eO=new on,tO=new on;class nO extends Dg{constructor(e,{near:t=.1,far:n=100,fov:r=45,aspect:o=1,left:l,right:u,bottom:d,top:f,zoom:p=1}={}){super(),Object.assign(this,{near:t,far:n,fov:r,aspect:o,left:l,right:u,bottom:d,top:f,zoom:p}),this.projectionMatrix=new br,this.viewMatrix=new br,this.projectionViewMatrix=new br,this.worldPosition=new on,this.type=l||u?"orthographic":"perspective",this.type==="orthographic"?this.orthographic():this.perspective()}perspective({near:e=this.near,far:t=this.far,fov:n=this.fov,aspect:r=this.aspect}={}){return Object.assign(this,{near:e,far:t,fov:n,aspect:r}),this.projectionMatrix.fromPerspective({fov:n*(Math.PI/180),aspect:r,near:e,far:t}),this.type="perspective",this}orthographic({near:e=this.near,far:t=this.far,left:n=this.left||-1,right:r=this.right||1,bottom:o=this.bottom||-1,top:l=this.top||1,zoom:u=this.zoom}={}){return Object.assign(this,{near:e,far:t,left:n,right:r,bottom:o,top:l,zoom:u}),n/=u,r/=u,o/=u,l/=u,this.projectionMatrix.fromOrthogonal({left:n,right:r,bottom:o,top:l,near:e,far:t}),this.type="orthographic",this}updateMatrixWorld(){return super.updateMatrixWorld(),this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}updateProjectionMatrix(){return this.type==="perspective"?this.perspective():this.orthographic()}lookAt(e){return super.lookAt(e,!0),this}project(e){return e.applyMatrix4(this.viewMatrix),e.applyMatrix4(this.projectionMatrix),this}unproject(e){return e.applyMatrix4($z.inverse(this.projectionMatrix)),e.applyMatrix4(this.worldMatrix),this}updateFrustum(){this.frustum||(this.frustum=[new on,new on,new on,new on,new on,new on]);const e=this.projectionViewMatrix;this.frustum[0].set(e[3]-e[0],e[7]-e[4],e[11]-e[8]).constant=e[15]-e[12],this.frustum[1].set(e[3]+e[0],e[7]+e[4],e[11]+e[8]).constant=e[15]+e[12],this.frustum[2].set(e[3]+e[1],e[7]+e[5],e[11]+e[9]).constant=e[15]+e[13],this.frustum[3].set(e[3]-e[1],e[7]-e[5],e[11]-e[9]).constant=e[15]-e[13],this.frustum[4].set(e[3]-e[2],e[7]-e[6],e[11]-e[10]).constant=e[15]-e[14],this.frustum[5].set(e[3]+e[2],e[7]+e[6],e[11]+e[10]).constant=e[15]+e[14];for(let t=0;t<6;t++){const n=1/this.frustum[t].distance();this.frustum[t].multiply(n),this.frustum[t].constant*=n}}frustumIntersectsMesh(e,t=e.worldMatrix){if(!e.geometry.attributes.position||((!e.geometry.bounds||e.geometry.bounds.radius===1/0)&&e.geometry.computeBoundingSphere(),!e.geometry.bounds))return!0;const n=eO;n.copy(e.geometry.bounds.center),n.applyMatrix4(t);const r=e.geometry.bounds.radius*t.getMaxScaleOnAxis();return this.frustumIntersectsSphere(n,r)}frustumIntersectsSphere(e,t){const n=tO;for(let r=0;r<6;r++){const o=this.frustum[r];if(n.copy(o).dot(e)+o.constant<-t)return!1}return!0}}function iO(s,e){return s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=e[4],s[4]=e[5],s[5]=e[6],s[6]=e[8],s[7]=e[9],s[8]=e[10],s}function sO(s,e){let t=e[0],n=e[1],r=e[2],o=e[3],l=t+t,u=n+n,d=r+r,f=t*l,p=n*l,g=n*u,y=r*l,b=r*u,v=r*d,_=o*l,E=o*u,M=o*d;return s[0]=1-g-v,s[3]=p-M,s[6]=y+E,s[1]=p+M,s[4]=1-f-v,s[7]=b-_,s[2]=y-E,s[5]=b+_,s[8]=1-f-g,s}function rO(s,e){return s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=e[3],s[4]=e[4],s[5]=e[5],s[6]=e[6],s[7]=e[7],s[8]=e[8],s}function aO(s,e,t,n,r,o,l,u,d,f){return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s[4]=o,s[5]=l,s[6]=u,s[7]=d,s[8]=f,s}function oO(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=1,s[5]=0,s[6]=0,s[7]=0,s[8]=1,s}function lO(s,e){let t=e[0],n=e[1],r=e[2],o=e[3],l=e[4],u=e[5],d=e[6],f=e[7],p=e[8],g=p*l-u*f,y=-p*o+u*d,b=f*o-l*d,v=t*g+n*y+r*b;return v?(v=1/v,s[0]=g*v,s[1]=(-p*n+r*f)*v,s[2]=(u*n-r*l)*v,s[3]=y*v,s[4]=(p*t-r*d)*v,s[5]=(-u*t+r*o)*v,s[6]=b*v,s[7]=(-f*t+n*d)*v,s[8]=(l*t-n*o)*v,s):null}function Ew(s,e,t){let n=e[0],r=e[1],o=e[2],l=e[3],u=e[4],d=e[5],f=e[6],p=e[7],g=e[8],y=t[0],b=t[1],v=t[2],_=t[3],E=t[4],M=t[5],S=t[6],C=t[7],A=t[8];return s[0]=y*n+b*l+v*f,s[1]=y*r+b*u+v*p,s[2]=y*o+b*d+v*g,s[3]=_*n+E*l+M*f,s[4]=_*r+E*u+M*p,s[5]=_*o+E*d+M*g,s[6]=S*n+C*l+A*f,s[7]=S*r+C*u+A*p,s[8]=S*o+C*d+A*g,s}function cO(s,e,t){let n=e[0],r=e[1],o=e[2],l=e[3],u=e[4],d=e[5],f=e[6],p=e[7],g=e[8],y=t[0],b=t[1];return s[0]=n,s[1]=r,s[2]=o,s[3]=l,s[4]=u,s[5]=d,s[6]=y*n+b*l+f,s[7]=y*r+b*u+p,s[8]=y*o+b*d+g,s}function uO(s,e,t){let n=e[0],r=e[1],o=e[2],l=e[3],u=e[4],d=e[5],f=e[6],p=e[7],g=e[8],y=Math.sin(t),b=Math.cos(t);return s[0]=b*n+y*l,s[1]=b*r+y*u,s[2]=b*o+y*d,s[3]=b*l-y*n,s[4]=b*u-y*r,s[5]=b*d-y*o,s[6]=f,s[7]=p,s[8]=g,s}function hO(s,e,t){let n=t[0],r=t[1];return s[0]=n*e[0],s[1]=n*e[1],s[2]=n*e[2],s[3]=r*e[3],s[4]=r*e[4],s[5]=r*e[5],s[6]=e[6],s[7]=e[7],s[8]=e[8],s}function dO(s,e){let t=e[0],n=e[1],r=e[2],o=e[3],l=e[4],u=e[5],d=e[6],f=e[7],p=e[8],g=e[9],y=e[10],b=e[11],v=e[12],_=e[13],E=e[14],M=e[15],S=t*u-n*l,C=t*d-r*l,A=t*f-o*l,N=n*d-r*u,D=n*f-o*u,R=r*f-o*d,P=p*_-g*v,q=p*E-y*v,G=p*M-b*v,j=g*E-y*_,oe=g*M-b*_,Q=y*M-b*E,W=S*Q-C*oe+A*j+N*G-D*q+R*P;return W?(W=1/W,s[0]=(u*Q-d*oe+f*j)*W,s[1]=(d*G-l*Q-f*q)*W,s[2]=(l*oe-u*G+f*P)*W,s[3]=(r*oe-n*Q-o*j)*W,s[4]=(t*Q-r*G+o*q)*W,s[5]=(n*G-t*oe-o*P)*W,s[6]=(_*R-E*D+M*N)*W,s[7]=(E*A-v*R-M*C)*W,s[8]=(v*D-_*A+M*S)*W,s):null}class fO extends Array{constructor(e=1,t=0,n=0,r=0,o=1,l=0,u=0,d=0,f=1){return super(e,t,n,r,o,l,u,d,f),this}set(e,t,n,r,o,l,u,d,f){return e.length?this.copy(e):(aO(this,e,t,n,r,o,l,u,d,f),this)}translate(e,t=this){return cO(this,t,e),this}rotate(e,t=this){return uO(this,t,e),this}scale(e,t=this){return hO(this,t,e),this}multiply(e,t){return t?Ew(this,e,t):Ew(this,this,e),this}identity(){return oO(this),this}copy(e){return rO(this,e),this}fromMatrix4(e){return iO(this,e),this}fromQuaternion(e){return sO(this,e),this}fromBasis(e,t,n){return this.set(e[0],e[1],e[2],t[0],t[1],t[2],n[0],n[1],n[2]),this}inverse(e=this){return lO(this,e),this}getNormalMatrix(e){return dO(this,e),this}}let pO=0;class oS extends Dg{constructor(e,{geometry:t,program:n,mode:r=e.TRIANGLES,frustumCulled:o=!0,renderOrder:l=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=pO++,this.geometry=t,this.program=n,this.mode=r,this.frustumCulled=o,this.renderOrder=l,this.modelViewMatrix=new br,this.normalMatrix=new fO,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(n=>n&&n({mesh:this,camera:e}));let t=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:t}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(n=>n&&n({mesh:this,camera:e}))}}const Tw=new Uint8Array(4);function Aw(s){return(s&s-1)===0}let mO=1;class lS{constructor(e,{image:t,target:n=e.TEXTURE_2D,type:r=e.UNSIGNED_BYTE,format:o=e.RGBA,internalFormat:l=o,wrapS:u=e.CLAMP_TO_EDGE,wrapT:d=e.CLAMP_TO_EDGE,wrapR:f=e.CLAMP_TO_EDGE,generateMipmaps:p=n===(e.TEXTURE_2D||e.TEXTURE_CUBE_MAP),minFilter:g=p?e.NEAREST_MIPMAP_LINEAR:e.LINEAR,magFilter:y=e.LINEAR,premultiplyAlpha:b=!1,unpackAlignment:v=4,flipY:_=n==(e.TEXTURE_2D||e.TEXTURE_3D),anisotropy:E=0,level:M=0,width:S,height:C=S,length:A=1}={}){this.gl=e,this.id=mO++,this.image=t,this.target=n,this.type=r,this.format=o,this.internalFormat=l,this.minFilter=g,this.magFilter=y,this.wrapS=u,this.wrapT=d,this.wrapR=f,this.generateMipmaps=p,this.premultiplyAlpha=b,this.unpackAlignment=v,this.flipY=_,this.anisotropy=Math.min(E,this.gl.renderer.parameters.maxAnisotropy),this.level=M,this.width=S,this.height=C,this.length=A,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(e=0){const t=!(this.image===this.store.image&&!this.needsUpdate);if((t||this.glState.textureUnits[e]!==this.id)&&(this.gl.renderer.activeTexture(e),this.bind()),!!t){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.wrapR!==this.state.wrapR&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_R,this.wrapR),this.state.wrapR=this.wrapR),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let n=0;n<6;n++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+n,this.level,this.internalFormat,this.format,this.type,this.image[n]);else if(ArrayBuffer.isView(this.image))this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image):(this.target===this.gl.TEXTURE_2D_ARRAY||this.target===this.gl.TEXTURE_3D)&&this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let n=0;n<this.image.length;n++)this.gl.compressedTexImage2D(this.target,n,this.internalFormat,this.image[n].width,this.image[n].height,0,this.image[n].data);else this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image):this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,this.image);this.generateMipmaps&&(!this.gl.renderer.isWebgl2&&(!Aw(this.image.width)||!Aw(this.image.height))?(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR):this.gl.generateMipmap(this.target)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let n=0;n<6;n++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,Tw);else this.width?this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,Tw);this.store.image=this.image}}}class Fd extends lz{constructor(e,{width:t=1,height:n=1,widthSegments:r=1,heightSegments:o=1,attributes:l={}}={}){const u=r,d=o,f=(u+1)*(d+1),p=u*d*6,g=new Float32Array(f*3),y=new Float32Array(f*3),b=new Float32Array(f*2),v=p>65536?new Uint32Array(p):new Uint16Array(p);Fd.buildPlane(g,y,b,v,t,n,0,u,d),Object.assign(l,{position:{size:3,data:g},normal:{size:3,data:y},uv:{size:2,data:b},index:{data:v}}),super(e,l)}static buildPlane(e,t,n,r,o,l,u,d,f,p=0,g=1,y=2,b=1,v=-1,_=0,E=0){const M=_,S=o/d,C=l/f;for(let A=0;A<=f;A++){let N=A*C-l/2;for(let D=0;D<=d;D++,_++){let R=D*S-o/2;if(e[_*3+p]=R*b,e[_*3+g]=N*v,e[_*3+y]=u/2,t[_*3+p]=0,t[_*3+g]=0,t[_*3+y]=u>=0?1:-1,n[_*2]=D/d,n[_*2+1]=1-A/f,A===f||D===d)continue;let P=M+D+A*(d+1),q=M+D+(A+1)*(d+1),G=M+D+(A+1)*(d+1)+1,j=M+D+A*(d+1)+1;r[E*6]=P,r[E*6+1]=q,r[E*6+2]=j,r[E*6+3]=q,r[E*6+4]=G,r[E*6+5]=j,E++}}}}function gO(s,e){let t;return function(...n){clearTimeout(t),t=setTimeout(()=>s.apply(this,n),e)}}function xO(s,e,t){return s+(e-s)*t}function yO(s){const e=Object.getPrototypeOf(s);Object.getOwnPropertyNames(e).forEach(t=>{t!=="constructor"&&typeof s[t]=="function"&&(s[t]=s[t].bind(s))})}function vO(s,e,t="bold 30px monospace",n="black"){const r=document.createElement("canvas"),o=r.getContext("2d");o.font=t;const l=o.measureText(e),u=Math.ceil(l.width),d=Math.ceil(parseInt(t,10)*1.2);r.width=u+20,r.height=d+20,o.font=t,o.fillStyle=n,o.textBaseline="middle",o.textAlign="center",o.clearRect(0,0,r.width,r.height),o.fillText(e,r.width/2,r.height/2);const f=new lS(s,{generateMipmaps:!1});return f.image=r,{texture:f,width:r.width,height:r.height}}class bO{constructor({gl:e,plane:t,renderer:n,text:r,textColor:o="#545050",font:l="30px sans-serif"}){yO(this),this.gl=e,this.plane=t,this.renderer=n,this.text=r,this.textColor=o,this.font=l,this.createMesh()}createMesh(){const{texture:e,width:t,height:n}=vO(this.gl,this.text,this.font,this.textColor),r=new Fd(this.gl),o=new iS(this.gl,{vertex:`
        attribute vec3 position;
        attribute vec2 uv;
        uniform mat4 modelViewMatrix;
        uniform mat4 projectionMatrix;
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,fragment:`
        precision highp float;
        uniform sampler2D tMap;
        varying vec2 vUv;
        void main() {
          vec4 color = texture2D(tMap, vUv);
          if (color.a < 0.1) discard;
          gl_FragColor = color;
        }
      `,uniforms:{tMap:{value:e}},transparent:!0});this.mesh=new oS(this.gl,{geometry:r,program:o});const l=t/n,u=this.plane.scale.y*.15,d=u*l;this.mesh.scale.set(d,u,1),this.mesh.position.y=-this.plane.scale.y*.5-u*.5-.05,this.mesh.setParent(this.plane)}}class wO{constructor({geometry:e,gl:t,image:n,index:r,length:o,renderer:l,scene:u,screen:d,text:f,viewport:p,bend:g,textColor:y,borderRadius:b=0,font:v}){this.extra=0,this.geometry=e,this.gl=t,this.image=n,this.index=r,this.length=o,this.renderer=l,this.scene=u,this.screen=d,this.text=f,this.viewport=p,this.bend=g,this.textColor=y,this.borderRadius=b,this.font=v,this.createShader(),this.createMesh(),this.createTitle(),this.onResize()}createShader(){const e=new lS(this.gl,{generateMipmaps:!0});this.program=new iS(this.gl,{depthTest:!1,depthWrite:!1,vertex:`
        precision highp float;
        attribute vec3 position;
        attribute vec2 uv;
        uniform mat4 modelViewMatrix;
        uniform mat4 projectionMatrix;
        uniform float uTime;
        uniform float uSpeed;
        varying vec2 vUv;
        void main() {
          vUv = uv;
          vec3 p = position;
          p.z = (sin(p.x * 4.0 + uTime) * 1.5 + cos(p.y * 2.0 + uTime) * 1.5) * (0.1 + uSpeed * 0.5);
          gl_Position = projectionMatrix * modelViewMatrix * vec4(p, 1.0);
        }
      `,fragment:`
        precision highp float;
        uniform vec2 uImageSizes;
        uniform vec2 uPlaneSizes;
        uniform sampler2D tMap;
        uniform float uBorderRadius;
        varying vec2 vUv;
        
        float roundedBoxSDF(vec2 p, vec2 b, float r) {
          vec2 d = abs(p) - b;
          return length(max(d, vec2(0.0))) + min(max(d.x, d.y), 0.0) - r;
        }
        
        void main() {
          vec2 ratio = vec2(
            min((uPlaneSizes.x / uPlaneSizes.y) / (uImageSizes.x / uImageSizes.y), 1.0),
            min((uPlaneSizes.y / uPlaneSizes.x) / (uImageSizes.y / uImageSizes.x), 1.0)
          );
          vec2 uv = vec2(
            vUv.x * ratio.x + (1.0 - ratio.x) * 0.5,
            vUv.y * ratio.y + (1.0 - ratio.y) * 0.5
          );
          vec4 color = texture2D(tMap, uv);
          
          float d = roundedBoxSDF(vUv - 0.5, vec2(0.5 - uBorderRadius), uBorderRadius);
          
          // Smooth antialiasing for edges
          float edgeSmooth = 0.002;
          float alpha = 1.0 - smoothstep(-edgeSmooth, edgeSmooth, d);
          
          gl_FragColor = vec4(color.rgb, alpha);
        }
      `,uniforms:{tMap:{value:e},uPlaneSizes:{value:[0,0]},uImageSizes:{value:[0,0]},uSpeed:{value:0},uTime:{value:100*Math.random()},uBorderRadius:{value:this.borderRadius}},transparent:!0});const t=new Image;t.crossOrigin="anonymous",t.src=this.image,t.onload=()=>{e.image=t,this.program.uniforms.uImageSizes.value=[t.naturalWidth,t.naturalHeight]}}createMesh(){this.plane=new oS(this.gl,{geometry:this.geometry,program:this.program}),this.plane.setParent(this.scene)}createTitle(){this.title=new bO({gl:this.gl,plane:this.plane,renderer:this.renderer,text:this.text,textColor:this.textColor,fontFamily:this.font})}update(e,t){this.plane.position.x=this.x-e.current-this.extra;const n=this.plane.position.x,r=this.viewport.width/2;if(this.bend===0)this.plane.position.y=0,this.plane.rotation.z=0;else{const u=Math.abs(this.bend),d=(r*r+u*u)/(2*u),f=Math.min(Math.abs(n),r),p=d-Math.sqrt(d*d-f*f);this.bend>0?(this.plane.position.y=-p,this.plane.rotation.z=-Math.sign(n)*Math.asin(f/d)):(this.plane.position.y=p,this.plane.rotation.z=Math.sign(n)*Math.asin(f/d))}this.speed=e.current-e.last,this.program.uniforms.uTime.value+=.04,this.program.uniforms.uSpeed.value=this.speed;const o=this.plane.scale.x/2,l=this.viewport.width/2;this.isBefore=this.plane.position.x+o<-l,this.isAfter=this.plane.position.x-o>l,t==="right"&&this.isBefore&&(this.extra-=this.widthTotal,this.isBefore=this.isAfter=!1),t==="left"&&this.isAfter&&(this.extra+=this.widthTotal,this.isBefore=this.isAfter=!1)}onResize({screen:e,viewport:t}={}){e&&(this.screen=e),t&&(this.viewport=t,this.plane.program.uniforms.uViewportSizes&&(this.plane.program.uniforms.uViewportSizes.value=[this.viewport.width,this.viewport.height])),this.scale=this.screen.height/1500,this.plane.scale.y=this.viewport.height*(900*this.scale)/this.screen.height,this.plane.scale.x=this.viewport.width*(700*this.scale)/this.screen.width,this.plane.program.uniforms.uPlaneSizes.value=[this.plane.scale.x,this.plane.scale.y],this.padding=2,this.width=this.plane.scale.x+this.padding,this.widthTotal=this.width*this.length,this.x=this.width*this.index}}let _O=class{constructor(e,{items:t,bend:n,textColor:r="#ffffff",borderRadius:o=0,font:l="bold 30px Figtree",scrollSpeed:u=2,scrollEase:d=.05}={}){document.documentElement.classList.remove("no-js"),this.container=e,this.scrollSpeed=u,this.scroll={ease:d,current:0,target:0,last:0},this.onCheckDebounce=gO(this.onCheck,200),this.createRenderer(),this.createCamera(),this.createScene(),this.onResize(),this.createGeometry(),this.createMedias(t,n,r,o,l),this.update(),this.addEventListeners()}createRenderer(){this.renderer=new pz({alpha:!0,antialias:!0,dpr:Math.min(window.devicePixelRatio||1,2)}),this.gl=this.renderer.gl,this.gl.clearColor(0,0,0,0),this.container.appendChild(this.gl.canvas)}createCamera(){this.camera=new nO(this.gl),this.camera.fov=45,this.camera.position.z=20}createScene(){this.scene=new Dg}createGeometry(){this.planeGeometry=new Fd(this.gl,{heightSegments:50,widthSegments:100})}createMedias(e,t=1,n,r,o){const l=[{image:"https://picsum.photos/seed/1/800/600?grayscale",text:"Bridge"},{image:"https://picsum.photos/seed/2/800/600?grayscale",text:"Desk Setup"},{image:"https://picsum.photos/seed/3/800/600?grayscale",text:"Waterfall"},{image:"https://picsum.photos/seed/4/800/600?grayscale",text:"Strawberries"},{image:"https://picsum.photos/seed/5/800/600?grayscale",text:"Deep Diving"},{image:"https://picsum.photos/seed/16/800/600?grayscale",text:"Train Track"},{image:"https://picsum.photos/seed/17/800/600?grayscale",text:"Santorini"},{image:"https://picsum.photos/seed/8/800/600?grayscale",text:"Blurry Lights"},{image:"https://picsum.photos/seed/9/800/600?grayscale",text:"New York"},{image:"https://picsum.photos/seed/10/800/600?grayscale",text:"Good Boy"},{image:"https://picsum.photos/seed/21/800/600?grayscale",text:"Coastline"},{image:"https://picsum.photos/seed/12/800/600?grayscale",text:"Palm Trees"}],u=e&&e.length?e:l;this.mediasImages=u.concat(u),this.medias=this.mediasImages.map((d,f)=>new wO({geometry:this.planeGeometry,gl:this.gl,image:d.image,index:f,length:this.mediasImages.length,renderer:this.renderer,scene:this.scene,screen:this.screen,text:d.text,viewport:this.viewport,bend:t,textColor:n,borderRadius:r,font:o}))}onTouchDown(e){this.isDown=!0,this.scroll.position=this.scroll.current,this.start=e.touches?e.touches[0].clientX:e.clientX}onTouchMove(e){if(!this.isDown)return;const t=e.touches?e.touches[0].clientX:e.clientX,n=(this.start-t)*(this.scrollSpeed*.025);this.scroll.target=this.scroll.position+n}onTouchUp(){this.isDown=!1,this.onCheck()}onWheel(e){const t=e.deltaY||e.wheelDelta||e.detail;this.scroll.target+=(t>0?this.scrollSpeed:-this.scrollSpeed)*.2,this.onCheckDebounce()}onCheck(){if(!this.medias||!this.medias[0])return;const e=this.medias[0].width,t=Math.round(Math.abs(this.scroll.target)/e),n=e*t;this.scroll.target=this.scroll.target<0?-n:n}onResize(){this.screen={width:this.container.clientWidth,height:this.container.clientHeight},this.renderer.setSize(this.screen.width,this.screen.height),this.camera.perspective({aspect:this.screen.width/this.screen.height});const e=this.camera.fov*Math.PI/180,t=2*Math.tan(e/2)*this.camera.position.z,n=t*this.camera.aspect;this.viewport={width:n,height:t},this.medias&&this.medias.forEach(r=>r.onResize({screen:this.screen,viewport:this.viewport}))}update(){this.scroll.current=xO(this.scroll.current,this.scroll.target,this.scroll.ease);const e=this.scroll.current>this.scroll.last?"right":"left";this.medias&&this.medias.forEach(t=>t.update(this.scroll,e)),this.renderer.render({scene:this.scene,camera:this.camera}),this.scroll.last=this.scroll.current,this.raf=window.requestAnimationFrame(this.update.bind(this))}addEventListeners(){this.boundOnResize=this.onResize.bind(this),this.boundOnWheel=this.onWheel.bind(this),this.boundOnTouchDown=this.onTouchDown.bind(this),this.boundOnTouchMove=this.onTouchMove.bind(this),this.boundOnTouchUp=this.onTouchUp.bind(this),window.addEventListener("resize",this.boundOnResize),window.addEventListener("mousewheel",this.boundOnWheel),window.addEventListener("wheel",this.boundOnWheel),window.addEventListener("mousedown",this.boundOnTouchDown),window.addEventListener("mousemove",this.boundOnTouchMove),window.addEventListener("mouseup",this.boundOnTouchUp),window.addEventListener("touchstart",this.boundOnTouchDown),window.addEventListener("touchmove",this.boundOnTouchMove),window.addEventListener("touchend",this.boundOnTouchUp)}destroy(){window.cancelAnimationFrame(this.raf),window.removeEventListener("resize",this.boundOnResize),window.removeEventListener("mousewheel",this.boundOnWheel),window.removeEventListener("wheel",this.boundOnWheel),window.removeEventListener("mousedown",this.boundOnTouchDown),window.removeEventListener("mousemove",this.boundOnTouchMove),window.removeEventListener("mouseup",this.boundOnTouchUp),window.removeEventListener("touchstart",this.boundOnTouchDown),window.removeEventListener("touchmove",this.boundOnTouchMove),window.removeEventListener("touchend",this.boundOnTouchUp),this.renderer&&this.renderer.gl&&this.renderer.gl.canvas.parentNode&&this.renderer.gl.canvas.parentNode.removeChild(this.renderer.gl.canvas)}};function MO({items:s,bend:e=3,textColor:t="#ffffff",borderRadius:n=.05,font:r="bold 30px Figtree",scrollSpeed:o=2,scrollEase:l=.05}){const u=I.useRef(null);return I.useEffect(()=>{const d=new _O(u.current,{items:s,bend:e,textColor:t,borderRadius:n,font:r,scrollSpeed:o,scrollEase:l});return()=>{d.destroy()}},[s,e,t,n,r,o,l]),m.jsx("div",{className:"circular-gallery",ref:u})}const SO="/assets/ab-CYOqvmA5.jpg",EO="/assets/img1-CRfZsexG.jpeg",TO="/assets/img2-Ko_jR9VE.jpeg",AO="/assets/img3-Dq8L0HJj.jpeg",CO="/assets/img4-CJNezRCg.jpeg",RO="/assets/img5-Dk2YFEs0.jpeg",NO="/assets/img6-D75TOfpZ.jpeg",LO="/assets/img7-B6y_OxAn.jpeg",DO="/assets/img8-ON3nWUSc.jpeg",zO="/assets/img9-5aMKfPcU.jpeg",OO="/assets/img10-D7kiYclv.jpeg",BO="/assets/img11-Bde4NT8-.jpeg",UO="/assets/img12-CAJzDuy9.jpeg",PO="/assets/img13-B_cEYXRG.jpeg",kO="/assets/img14-Bz7DUTkD.jpeg",jO=()=>{const[s,e]=I.useState(null),t=[{image:EO,text:""},{image:TO,text:""},{image:AO,text:""},{image:CO,text:""},{image:RO,text:""},{image:NO,text:""},{image:LO,text:""},{image:DO,text:""},{image:zO,text:""},{image:OO,text:""},{image:BO,text:""},{image:UO,text:""},{image:PO,text:""},{image:kO,text:""}];return m.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-200 via-slate-100 to-blue-50 pt-32 pb-20",style:{backgroundImage:`url(${SO})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},children:[m.jsxs("div",{className:"container mx-auto px-6",children:[m.jsxs("div",{className:"text-center mb-16 animate-fade-in",children:[m.jsxs("h1",{className:"text-6xl font-bold text-slate-800 mb-4 tracking-tight",children:["About"," ",m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-600 to-blue-600",children:"Mag Marine"})]}),m.jsx("p",{className:"text-slate-700 text-lg max-w-3xl mx-auto",children:"Building India's marine engineering future with discipline, technical excellence, and commitment"})]}),m.jsx("div",{className:"max-w-7xl mx-auto mb-20",children:m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-3xl border border-cyan-500/20 overflow-hidden shadow-2xl",children:[m.jsx("div",{className:"bg-gradient-to-r from-cyan-600/20 to-blue-600/20 border-b border-cyan-500/20 px-8 py-6",children:m.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[m.jsx("svg",{className:"w-8 h-8 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Founder's Vision"]})}),m.jsx("div",{className:"p-8 md:p-12",children:m.jsxs("div",{className:"grid md:grid-cols-5 gap-8 md:gap-12 items-start",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-2xl blur opacity-25 group-hover:opacity-40 transition duration-500"}),m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:V6,alt:"Hrishikesh M Anilkumar - Founder & Managing Director",className:"w-full rounded-2xl shadow-2xl border-4 border-slate-300/10"}),m.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-t from-slate-900/80 via-transparent to-transparent"})]})]}),m.jsxs("div",{className:"mt-6 bg-gradient-to-r from-cyan-600/10 to-blue-600/10 backdrop-blur-sm border border-cyan-500/20 rounded-xl p-6 text-center",children:[m.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Hrishikesh M Anilkumar"}),m.jsx("p",{className:"text-cyan-400 font-semibold mb-1",children:"Founder & Managing Director"}),m.jsx("p",{className:"text-blue-300 text-sm",children:"Mag Marine Services Private Limited"})]})]}),m.jsxs("div",{className:"md:col-span-3 space-y-6",children:[m.jsxs("div",{className:"space-y-5 text-blue-100 leading-relaxed",children:[m.jsx("p",{className:"text-lg",children:"Mag Marine was founded with a clear belief  that the marine engineering sector in India requires not just skilled execution, but structured leadership, accountable systems, and long-term institutional thinking."}),m.jsx("p",{children:"Having worked closely within ship repair and shipbuilding environments, both in India and overseas, I witnessed firsthand the challenges caused by fragmented execution, lack of process discipline, and short-term contractor mindsets. Mag Marine was created to address these gaps and to build an organisation that operates with clarity, professionalism, and purpose."}),m.jsx("p",{children:"My vision is to develop Mag Marine into a leading marine engineering organisation that contributes meaningfully to India's defence and shipbuilding ecosystem. Every project we execute is treated as a step towards building scalable capability and strengthening systems."}),m.jsx("p",{children:"With India's growing focus on indigenous shipbuilding, defence self-reliance, and the Make in India initiative, I strongly believe this is a defining period for the marine sector. Mag Marine is being built to grow alongside this national transformation."}),m.jsx("div",{className:"bg-gradient-to-r from-cyan-600/10 to-blue-600/10 border-l-4 border-cyan-500 rounded-r-xl p-6 my-6",children:m.jsx("p",{className:"text-white font-semibold text-lg",children:"Our objective is not short-term expansion, but sustained leadership  where reliability, safety, quality, and accountability define our identity."})}),m.jsx("p",{children:"Through structured growth, skilled teams, and strong governance, Mag Marine aims to become a trusted name in defence and commercial marine engineering, both in India and beyond."})]}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-8",children:[{label:"Reliability"},{label:"Safety"},{label:"Quality"},{label:"Accountability"}].map((n,r)=>m.jsxs("div",{className:"bg-slate-700/30 backdrop-blur-sm border border-cyan-500/20 rounded-xl p-4 text-center hover:border-cyan-500/50 hover:scale-105 transition-all duration-300",children:[m.jsx("div",{className:"text-3xl mb-2",children:n.icon}),m.jsx("div",{className:"text-white font-semibold text-sm",children:n.label})]},r))})]})]})})]})}),m.jsxs("div",{className:"max-w-7xl mx-auto mb-20",children:[m.jsxs("div",{className:"text-center",children:[m.jsxs("h2",{className:"text-4xl font-bold text-slate-800 mb-4",children:["Our"," ",m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-600 to-blue-600",children:"Journey"})]}),m.jsx("p",{className:"text-slate-700 text-lg",children:"Explore our work, projects, and the Mag Marine story"})]}),m.jsx("div",{style:{height:"700px",position:"relative"},className:"bg-transparent",children:m.jsx(MO,{items:t,bend:1,textColor:"#0e7490",borderRadius:.05,font:"bold 30px system-ui",scrollSpeed:2,scrollEase:.05})}),m.jsx("div",{className:"text-center mt-8",children:m.jsxs("div",{className:"inline-flex items-center gap-2 text-slate-700 text-sm bg-white/90 backdrop-blur-sm px-8 py-3 rounded-full border border-cyan-200 shadow-lg font-semibold",children:[m.jsx("svg",{className:"w-5 h-5 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}),"Drag or scroll to explore  ",t.length," images in gallery"]})})]}),m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsxs("h2",{className:"text-4xl font-bold text-slate-800 text-center mb-12",children:["Our"," ",m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-600 to-blue-600",children:"Core Values"})]}),m.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{title:"Technical Excellence",description:"Delivering world-class marine engineering solutions with precision and expertise",icon:m.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},{title:"Systematic Approach",description:"Building robust processes and systems for consistent, reliable project delivery",icon:m.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})},{title:"Nation Building",description:"Contributing to India's defence self-reliance and maritime infrastructure growth",icon:m.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}].map((n,r)=>m.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-slate-300/50 rounded-2xl p-8 hover:border-cyan-400/70 hover:scale-105 transition-all duration-300 group",children:[m.jsx("div",{className:"w-16 h-16 bg-cyan-50/80 rounded-full flex items-center justify-center text-cyan-600 mb-6 group-hover:scale-110 transition-transform",children:n.icon}),m.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4",children:n.title}),m.jsx("p",{className:"text-slate-600 leading-relaxed",children:n.description})]},r))})]})]}),s&&m.jsx("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:()=>e(null),children:m.jsxs("div",{className:"relative max-w-6xl max-h-[90vh]",children:[m.jsx("button",{onClick:()=>e(null),className:"absolute -top-12 right-0 text-white hover:text-cyan-400 transition-colors group",children:m.jsx("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-full p-2 group-hover:bg-slate-700/50 transition-colors",children:m.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),m.jsx("div",{className:"relative",children:m.jsx("img",{src:s,alt:"Gallery",className:"max-w-full max-h-[90vh] rounded-xl shadow-2xl border-4 border-cyan-500/50"})})]})}),m.jsx("style",{jsx:!0,children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in {
          animation: fade-in 0.6s ease-out;
        }
      `})]})},FO="/assets/portal-BpR_puyU.jpg",IO=()=>{const[s,e]=I.useState(!1),[t,n]=I.useState({name:"",email:"",phone:"",subject:"",message:""}),[r,o]=I.useState(!1),l=[{name:"KOCHI OFFICE",address:"FIDA TOWER, KK PADMANABHAN ROAD, ERNAKULAM NORTH, 682018",phone:"0484 214 3140",email:"hello@magmarine.in",mapEmbed:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3929.0!2d76.2711!3d9.9816!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zOcKwNTgnNTMuOCJOIDc2wrAxNicxNi4wIkU!5e0!3m2!1sen!2sin!4v1234567890"},{name:"CHENNAI OFFICE",address:"71, L&T SHIPBUILDING, KATTUPALLI, TAMIL NADU 600120",phone:"8714139489",email:"hello@magmarine.in",mapEmbed:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3886.0!2d80.1!3d13.2!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMTPCsDEyJzAwLjAiTiA4MMKwMDYnMDAuMCJF!5e0!3m2!1sen!2sin!4v1234567890"},{name:"MANGLORE BRANCH",address:"CSBD, KASBA BENGRE, MANGALURU, KARNATAKA 575001",phone:"9961866395",email:"hello@magmarine.in",mapEmbed:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3889.0!2d74.8!3d12.9!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMTLCsDU0JzAwLjAiTiA3NMKwNDgnMDAuMCJF!5e0!3m2!1sen!2sin!4v1234567890"},{name:"VIZAG BRANCH",address:"SITE OFFICE, HINDUSTAN SHIPYARD, VISAKHAPATNAM, ANDHRA PRADESH 530005",phone:"9539759593",email:"hello@magmarine.in",mapEmbed:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3800.0!2d83.3!3d17.7!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMTfCsDQyJzAwLjAiTiA4M8KwMTgnMDAuMCJF!5e0!3m2!1sen!2sin!4v1234567890"},{name:"OVERSEAS BRANCH",address:"6A, LUMBARE AVE, KAMPALA, UGANDA",phone:"+256 752731787",email:"hello@magmarine.in",mapEmbed:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3989.0!2d32.6!3d0.3!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMMKwMTgnMDAuMCJOIDMywrAzNicwMC4wIkU!5e0!3m2!1sen!2sin!4v1234567890"}],u=f=>{n({...t,[f.target.name]:f.target.value})},d=f=>{f.preventDefault(),o(!0);const p=`mailto:saniaelizabathmanoj@gmail.com?subject=${encodeURIComponent(t.subject)}&body=${encodeURIComponent(`Name: ${t.name}
Email: ${t.email}
Phone: ${t.phone}

Message:
${t.message}`)}`;window.location.href=p,setTimeout(()=>{o(!1),e(!1),n({name:"",email:"",phone:"",subject:"",message:""})},1e3)};return m.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-slate-900 via-blue-950 to-slate-900 pt-24 pb-20",style:{backgroundImage:`url(${FO})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},children:[m.jsx("div",{className:"fixed inset-0 bg-black/40 pointer-events-none"}),m.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4 tracking-tight",children:["Contact ",m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400",children:"Us"})]}),m.jsx("p",{className:"text-blue-200 text-lg",children:"Get in touch with us for any inquiries or support"})]}),m.jsx("div",{className:"max-w-4xl mx-auto mb-12 glass-card rounded-2xl p-8 text-white text-center",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-8",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm uppercase tracking-wider mb-2 opacity-90",children:"Phone"}),m.jsx("a",{href:"tel:0484312140",className:"text-2xl md:text-3xl font-bold hover:text-cyan-300 transition-colors",children:"0484 312140"})]}),m.jsx("div",{className:"hidden md:block w-px h-16 bg-white/30"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm uppercase tracking-wider mb-2 opacity-90",children:"Email"}),m.jsx("a",{href:"mailto:hello@magmarine.in",className:"text-2xl md:text-3xl font-bold hover:text-cyan-300 transition-colors",children:"hello@magmarine.in"})]})]})}),m.jsx("div",{className:"text-center mb-12",children:m.jsx("button",{onClick:()=>e(!s),className:"glass-button text-white px-12 py-4 rounded-full text-lg font-semibold transition-all duration-300 hover:scale-105 transform",children:s?"Close Form":"Talk to Us"})}),s&&m.jsx("div",{className:"max-w-2xl mx-auto mb-16",children:m.jsxs("div",{className:"glass-card p-8 rounded-2xl",children:[m.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:"Send us a Message"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-blue-200 mb-2 font-medium",children:"Name *"}),m.jsx("input",{type:"text",name:"name",value:t.name,onChange:u,required:!0,className:"w-full bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-400 focus:bg-white/15 transition-all placeholder:text-white/50",placeholder:"Your name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-blue-200 mb-2 font-medium",children:"Email *"}),m.jsx("input",{type:"email",name:"email",value:t.email,onChange:u,required:!0,className:"w-full bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-400 focus:bg-white/15 transition-all placeholder:text-white/50",placeholder:"your@email.com"})]})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-blue-200 mb-2 font-medium",children:"Phone"}),m.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:u,className:"w-full bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-400 focus:bg-white/15 transition-all placeholder:text-white/50",placeholder:"+91 1234567890"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-blue-200 mb-2 font-medium",children:"Subject *"}),m.jsx("input",{type:"text",name:"subject",value:t.subject,onChange:u,required:!0,className:"w-full bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-400 focus:bg-white/15 transition-all placeholder:text-white/50",placeholder:"Subject"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-blue-200 mb-2 font-medium",children:"Message *"}),m.jsx("textarea",{name:"message",value:t.message,onChange:u,required:!0,rows:6,className:"w-full bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-400 focus:bg-white/15 transition-all resize-none placeholder:text-white/50",placeholder:"Tell us how we can help you..."})]}),m.jsx("button",{onClick:d,disabled:r,className:"w-full glass-button-submit text-white py-4 rounded-lg font-semibold transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-[1.02]",children:r?"Sending...":"Send Message"})]})]})}),m.jsxs("div",{className:"mb-16",children:[m.jsxs("h2",{className:"text-4xl font-bold text-white text-center mb-10",children:["Our ",m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400",children:"Locations"})]}),m.jsx("div",{className:"flex overflow-x-auto gap-6 pb-6 px-2 scroll-smooth",style:{scrollbarWidth:"thin"},children:l.map((f,p)=>m.jsxs("div",{className:"flex-shrink-0 w-80 glass-card rounded-2xl overflow-hidden hover:scale-105 transition-all duration-300",children:[m.jsx("div",{className:"h-48 bg-slate-700",children:m.jsx("iframe",{src:f.mapEmbed,width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"grayscale hover:grayscale-0 transition-all duration-500"})}),m.jsxs("div",{className:"p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:f.name}),m.jsxs("div",{className:"space-y-2 text-blue-200",children:[m.jsxs("p",{className:"flex items-start gap-2 text-sm",children:[m.jsxs("svg",{className:"w-5 h-5 text-cyan-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),m.jsx("span",{children:f.address})]}),m.jsxs("p",{className:"flex items-center gap-2 text-sm",children:[m.jsx("svg",{className:"w-5 h-5 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),m.jsx("a",{href:`tel:${f.phone.replace(/\s/g,"")}`,className:"hover:text-cyan-400 transition-colors",children:f.phone})]}),m.jsxs("p",{className:"flex items-center gap-2 text-sm",children:[m.jsx("svg",{className:"w-5 h-5 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),m.jsx("a",{href:`mailto:${f.email}`,className:"hover:text-cyan-400 transition-colors",children:f.email})]})]})]})]},p))})]})]}),m.jsx("style",{jsx:!0,children:`
        /* Glassmorphism Card Effect */
        .glass-card {
          background: rgba(15, 23, 42, 0.7);
          backdrop-filter: blur(20px);
          -webkit-backdrop-filter: blur(20px);
          border: 1px solid rgba(255, 255, 255, 0.18);
          box-shadow: 
            0 8px 32px 0 rgba(0, 0, 0, 0.37),
            inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
        }

        /* Glassmorphism Button Effect */
        .glass-button {
          background: rgba(30, 41, 59, 0.6);
          backdrop-filter: blur(16px);
          -webkit-backdrop-filter: blur(16px);
          border: 1px solid rgba(255, 255, 255, 0.2);
          box-shadow: 
            0 8px 32px 0 rgba(34, 211, 238, 0.3),
            inset 0 1px 0 0 rgba(255, 255, 255, 0.2);
        }

        .glass-button:hover {
          background: rgba(30, 41, 59, 0.75);
          border: 1px solid rgba(34, 211, 238, 0.4);
          box-shadow: 
            0 8px 32px 0 rgba(34, 211, 238, 0.5),
            inset 0 1px 0 0 rgba(255, 255, 255, 0.3);
        }

        /* Submit Button Glass Effect */
        .glass-button-submit {
          background: linear-gradient(135deg, rgba(34, 211, 238, 0.4), rgba(59, 130, 246, 0.4));
          backdrop-filter: blur(16px);
          -webkit-backdrop-filter: blur(16px);
          border: 1px solid rgba(255, 255, 255, 0.3);
          box-shadow: 
            0 8px 32px 0 rgba(34, 211, 238, 0.4),
            inset 0 1px 0 0 rgba(255, 255, 255, 0.2);
        }

        .glass-button-submit:hover:not(:disabled) {
          background: linear-gradient(135deg, rgba(34, 211, 238, 0.6), rgba(59, 130, 246, 0.6));
          box-shadow: 
            0 8px 32px 0 rgba(34, 211, 238, 0.6),
            inset 0 1px 0 0 rgba(255, 255, 255, 0.3);
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
          height: 8px;
        }
        ::-webkit-scrollbar-track {
          background: rgba(30, 41, 59, 0.5);
          border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
          background: rgba(34, 211, 238, 0.5);
          border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
          background: rgba(34, 211, 238, 0.8);
        }
      `})]})},HO="/assets/waves-DFSLCfxe.jpg",GO=({setCurrentPage:s,setIsAdmin:e})=>{const t=()=>{s("admin-login")},n=()=>{e(!1),s("employee-portal")};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-blue-950 to-slate-900 pt-32 pb-20 flex items-center justify-center relative",style:{backgroundImage:`url(${HO})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},children:[m.jsx("div",{className:"absolute inset-0 bg-black/50 pointer-events-none"}),m.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[m.jsxs("div",{className:"text-center mb-16 animate-fade-in",children:[m.jsxs("h1",{className:"text-6xl font-bold text-white mb-4 tracking-tight",children:["Portal ",m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400",children:"Login"})]}),m.jsx("p",{className:"text-blue-200 text-lg",children:"Select your portal to continue"})]}),m.jsxs("div",{className:"max-w-4xl mx-auto grid md:grid-cols-2 gap-8",children:[m.jsx("button",{onClick:t,className:"group relative bg-gradient-to-br from-slate-800/50 to-blue-950/30 backdrop-blur-sm p-12 rounded-2xl border border-blue-500/20 hover:border-cyan-500/50 transition-all duration-500 hover:shadow-2xl hover:shadow-cyan-500/30 transform hover:-translate-y-3",children:m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:"p-6 rounded-full bg-gradient-to-br from-cyan-500/20 to-blue-500/20 text-cyan-400 mb-6 group-hover:scale-110 transition-transform duration-500",children:m.jsxs("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),m.jsx("h2",{className:"text-3xl font-bold text-white mb-4 group-hover:text-cyan-400 transition-colors duration-300",children:"Admin Portal"}),m.jsx("p",{className:"text-blue-200 text-center mb-6",children:"Manage news, events, careers, and system settings"}),m.jsxs("div",{className:"flex items-center text-cyan-400 font-medium",children:[m.jsx("span",{children:"Access Portal"}),m.jsx("svg",{className:"w-5 h-5 ml-2 transform group-hover:translate-x-2 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})}),m.jsx("button",{onClick:n,className:"group relative bg-gradient-to-br from-slate-800/50 to-blue-950/30 backdrop-blur-sm p-12 rounded-2xl border border-blue-500/20 hover:border-cyan-500/50 transition-all duration-500 hover:shadow-2xl hover:shadow-cyan-500/30 transform hover:-translate-y-3",children:m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:"p-6 rounded-full bg-gradient-to-br from-blue-500/20 to-indigo-500/20 text-blue-400 mb-6 group-hover:scale-110 transition-transform duration-500",children:m.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),m.jsx("h2",{className:"text-3xl font-bold text-white mb-4 group-hover:text-blue-400 transition-colors duration-300",children:"Employee Portal"}),m.jsx("p",{className:"text-blue-200 text-center mb-6",children:"Mark attendance and view your records"}),m.jsxs("div",{className:"flex items-center text-blue-400 font-medium",children:[m.jsx("span",{children:"Access Portal"}),m.jsx("svg",{className:"w-5 h-5 ml-2 transform group-hover:translate-x-2 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})})]}),m.jsx("div",{className:"max-w-2xl mx-auto mt-12 text-center",children:m.jsxs("p",{className:"text-blue-300 text-sm",children:[m.jsx("svg",{className:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"For security purposes, please ensure you're using an authorized device"]})})]}),m.jsx("style",{jsx:!0,children:`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in { animation: fade-in 0.6s ease-out; }
      `})]})};function cS(s,e){return function(){return s.apply(e,arguments)}}const{toString:VO}=Object.prototype,{getPrototypeOf:zg}=Object,{iterator:Id,toStringTag:uS}=Symbol,Hd=(s=>e=>{const t=VO.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ki=s=>(s=s.toLowerCase(),e=>Hd(e)===s),Gd=s=>e=>typeof e===s,{isArray:sl}=Array,Jo=Gd("undefined");function Yc(s){return s!==null&&!Jo(s)&&s.constructor!==null&&!Jo(s.constructor)&&Xn(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const hS=ki("ArrayBuffer");function WO(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&hS(s.buffer),e}const qO=Gd("string"),Xn=Gd("function"),dS=Gd("number"),Xc=s=>s!==null&&typeof s=="object",YO=s=>s===!0||s===!1,id=s=>{if(Hd(s)!=="object")return!1;const e=zg(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(uS in s)&&!(Id in s)},XO=s=>{if(!Xc(s)||Yc(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},ZO=ki("Date"),JO=ki("File"),QO=ki("Blob"),KO=ki("FileList"),$O=s=>Xc(s)&&Xn(s.pipe),eB=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||Xn(s.append)&&((e=Hd(s))==="formdata"||e==="object"&&Xn(s.toString)&&s.toString()==="[object FormData]"))},tB=ki("URLSearchParams"),[nB,iB,sB,rB]=["ReadableStream","Request","Response","Headers"].map(ki),aB=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zc(s,e,{allOwnKeys:t=!1}={}){if(s===null||typeof s>"u")return;let n,r;if(typeof s!="object"&&(s=[s]),sl(s))for(n=0,r=s.length;n<r;n++)e.call(null,s[n],n,s);else{if(Yc(s))return;const o=t?Object.getOwnPropertyNames(s):Object.keys(s),l=o.length;let u;for(n=0;n<l;n++)u=o[n],e.call(null,s[u],u,s)}}function fS(s,e){if(Yc(s))return null;e=e.toLowerCase();const t=Object.keys(s);let n=t.length,r;for(;n-- >0;)if(r=t[n],e===r.toLowerCase())return r;return null}const ia=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pS=s=>!Jo(s)&&s!==ia;function E0(){const{caseless:s,skipUndefined:e}=pS(this)&&this||{},t={},n=(r,o)=>{const l=s&&fS(t,o)||o;id(t[l])&&id(r)?t[l]=E0(t[l],r):id(r)?t[l]=E0({},r):sl(r)?t[l]=r.slice():(!e||!Jo(r))&&(t[l]=r)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Zc(arguments[r],n);return t}const oB=(s,e,t,{allOwnKeys:n}={})=>(Zc(e,(r,o)=>{t&&Xn(r)?s[o]=cS(r,t):s[o]=r},{allOwnKeys:n}),s),lB=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),cB=(s,e,t,n)=>{s.prototype=Object.create(e.prototype,n),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),t&&Object.assign(s.prototype,t)},uB=(s,e,t,n)=>{let r,o,l;const u={};if(e=e||{},s==null)return e;do{for(r=Object.getOwnPropertyNames(s),o=r.length;o-- >0;)l=r[o],(!n||n(l,s,e))&&!u[l]&&(e[l]=s[l],u[l]=!0);s=t!==!1&&zg(s)}while(s&&(!t||t(s,e))&&s!==Object.prototype);return e},hB=(s,e,t)=>{s=String(s),(t===void 0||t>s.length)&&(t=s.length),t-=e.length;const n=s.indexOf(e,t);return n!==-1&&n===t},dB=s=>{if(!s)return null;if(sl(s))return s;let e=s.length;if(!dS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=s[e];return t},fB=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&zg(Uint8Array)),pB=(s,e)=>{const n=(s&&s[Id]).call(s);let r;for(;(r=n.next())&&!r.done;){const o=r.value;e.call(s,o[0],o[1])}},mB=(s,e)=>{let t;const n=[];for(;(t=s.exec(e))!==null;)n.push(t);return n},gB=ki("HTMLFormElement"),xB=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),Cw=(({hasOwnProperty:s})=>(e,t)=>s.call(e,t))(Object.prototype),yB=ki("RegExp"),mS=(s,e)=>{const t=Object.getOwnPropertyDescriptors(s),n={};Zc(t,(r,o)=>{let l;(l=e(r,o,s))!==!1&&(n[o]=l||r)}),Object.defineProperties(s,n)},vB=s=>{mS(s,(e,t)=>{if(Xn(s)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=s[t];if(Xn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},bB=(s,e)=>{const t={},n=r=>{r.forEach(o=>{t[o]=!0})};return sl(s)?n(s):n(String(s).split(e)),t},wB=()=>{},_B=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e;function MB(s){return!!(s&&Xn(s.append)&&s[uS]==="FormData"&&s[Id])}const SB=s=>{const e=new Array(10),t=(n,r)=>{if(Xc(n)){if(e.indexOf(n)>=0)return;if(Yc(n))return n;if(!("toJSON"in n)){e[r]=n;const o=sl(n)?[]:{};return Zc(n,(l,u)=>{const d=t(l,r+1);!Jo(d)&&(o[u]=d)}),e[r]=void 0,o}}return n};return t(s,0)},EB=ki("AsyncFunction"),TB=s=>s&&(Xc(s)||Xn(s))&&Xn(s.then)&&Xn(s.catch),gS=((s,e)=>s?setImmediate:e?((t,n)=>(ia.addEventListener("message",({source:r,data:o})=>{r===ia&&o===t&&n.length&&n.shift()()},!1),r=>{n.push(r),ia.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Xn(ia.postMessage)),AB=typeof queueMicrotask<"u"?queueMicrotask.bind(ia):typeof process<"u"&&process.nextTick||gS,CB=s=>s!=null&&Xn(s[Id]),ue={isArray:sl,isArrayBuffer:hS,isBuffer:Yc,isFormData:eB,isArrayBufferView:WO,isString:qO,isNumber:dS,isBoolean:YO,isObject:Xc,isPlainObject:id,isEmptyObject:XO,isReadableStream:nB,isRequest:iB,isResponse:sB,isHeaders:rB,isUndefined:Jo,isDate:ZO,isFile:JO,isBlob:QO,isRegExp:yB,isFunction:Xn,isStream:$O,isURLSearchParams:tB,isTypedArray:fB,isFileList:KO,forEach:Zc,merge:E0,extend:oB,trim:aB,stripBOM:lB,inherits:cB,toFlatObject:uB,kindOf:Hd,kindOfTest:ki,endsWith:hB,toArray:dB,forEachEntry:pB,matchAll:mB,isHTMLForm:gB,hasOwnProperty:Cw,hasOwnProp:Cw,reduceDescriptors:mS,freezeMethods:vB,toObjectSet:bB,toCamelCase:xB,noop:wB,toFiniteNumber:_B,findKey:fS,global:ia,isContextDefined:pS,isSpecCompliantForm:MB,toJSONObject:SB,isAsyncFn:EB,isThenable:TB,setImmediate:gS,asap:AB,isIterable:CB};function rt(s,e,t,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}ue.inherits(rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const xS=rt.prototype,yS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{yS[s]={value:s}});Object.defineProperties(rt,yS);Object.defineProperty(xS,"isAxiosError",{value:!0});rt.from=(s,e,t,n,r,o)=>{const l=Object.create(xS);ue.toFlatObject(s,l,function(p){return p!==Error.prototype},f=>f!=="isAxiosError");const u=s&&s.message?s.message:"Error",d=e==null&&s?s.code:e;return rt.call(l,u,d,t,n,r),s&&l.cause==null&&Object.defineProperty(l,"cause",{value:s,configurable:!0}),l.name=s&&s.name||"Error",o&&Object.assign(l,o),l};const RB=null;function T0(s){return ue.isPlainObject(s)||ue.isArray(s)}function vS(s){return ue.endsWith(s,"[]")?s.slice(0,-2):s}function Rw(s,e,t){return s?s.concat(e).map(function(r,o){return r=vS(r),!t&&o?"["+r+"]":r}).join(t?".":""):e}function NB(s){return ue.isArray(s)&&!s.some(T0)}const LB=ue.toFlatObject(ue,{},null,function(e){return/^is[A-Z]/.test(e)});function Vd(s,e,t){if(!ue.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,t=ue.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,E){return!ue.isUndefined(E[_])});const n=t.metaTokens,r=t.visitor||p,o=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(e);if(!ue.isFunction(r))throw new TypeError("visitor must be a function");function f(v){if(v===null)return"";if(ue.isDate(v))return v.toISOString();if(ue.isBoolean(v))return v.toString();if(!d&&ue.isBlob(v))throw new rt("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(v)||ue.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function p(v,_,E){let M=v;if(v&&!E&&typeof v=="object"){if(ue.endsWith(_,"{}"))_=n?_:_.slice(0,-2),v=JSON.stringify(v);else if(ue.isArray(v)&&NB(v)||(ue.isFileList(v)||ue.endsWith(_,"[]"))&&(M=ue.toArray(v)))return _=vS(_),M.forEach(function(C,A){!(ue.isUndefined(C)||C===null)&&e.append(l===!0?Rw([_],A,o):l===null?_:_+"[]",f(C))}),!1}return T0(v)?!0:(e.append(Rw(E,_,o),f(v)),!1)}const g=[],y=Object.assign(LB,{defaultVisitor:p,convertValue:f,isVisitable:T0});function b(v,_){if(!ue.isUndefined(v)){if(g.indexOf(v)!==-1)throw Error("Circular reference detected in "+_.join("."));g.push(v),ue.forEach(v,function(M,S){(!(ue.isUndefined(M)||M===null)&&r.call(e,M,ue.isString(S)?S.trim():S,_,y))===!0&&b(M,_?_.concat(S):[S])}),g.pop()}}if(!ue.isObject(s))throw new TypeError("data must be an object");return b(s),e}function Nw(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Og(s,e){this._pairs=[],s&&Vd(s,this,e)}const bS=Og.prototype;bS.append=function(e,t){this._pairs.push([e,t])};bS.toString=function(e){const t=e?function(n){return e.call(this,n,Nw)}:Nw;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function DB(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function wS(s,e,t){if(!e)return s;const n=t&&t.encode||DB;ue.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let o;if(r?o=r(e,t):o=ue.isURLSearchParams(e)?e.toString():new Og(e,t).toString(n),o){const l=s.indexOf("#");l!==-1&&(s=s.slice(0,l)),s+=(s.indexOf("?")===-1?"?":"&")+o}return s}class Lw{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ue.forEach(this.handlers,function(n){n!==null&&e(n)})}}const _S={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zB=typeof URLSearchParams<"u"?URLSearchParams:Og,OB=typeof FormData<"u"?FormData:null,BB=typeof Blob<"u"?Blob:null,UB={isBrowser:!0,classes:{URLSearchParams:zB,FormData:OB,Blob:BB},protocols:["http","https","file","blob","url","data"]},Bg=typeof window<"u"&&typeof document<"u",A0=typeof navigator=="object"&&navigator||void 0,PB=Bg&&(!A0||["ReactNative","NativeScript","NS"].indexOf(A0.product)<0),kB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jB=Bg&&window.location.href||"http://localhost",FB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bg,hasStandardBrowserEnv:PB,hasStandardBrowserWebWorkerEnv:kB,navigator:A0,origin:jB},Symbol.toStringTag,{value:"Module"})),zn={...FB,...UB};function IB(s,e){return Vd(s,new zn.classes.URLSearchParams,{visitor:function(t,n,r,o){return zn.isNode&&ue.isBuffer(t)?(this.append(n,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function HB(s){return ue.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function GB(s){const e={},t=Object.keys(s);let n;const r=t.length;let o;for(n=0;n<r;n++)o=t[n],e[o]=s[o];return e}function MS(s){function e(t,n,r,o){let l=t[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=t.length;return l=!l&&ue.isArray(r)?r.length:l,d?(ue.hasOwnProp(r,l)?r[l]=[r[l],n]:r[l]=n,!u):((!r[l]||!ue.isObject(r[l]))&&(r[l]=[]),e(t,n,r[l],o)&&ue.isArray(r[l])&&(r[l]=GB(r[l])),!u)}if(ue.isFormData(s)&&ue.isFunction(s.entries)){const t={};return ue.forEachEntry(s,(n,r)=>{e(HB(n),r,t,0)}),t}return null}function VB(s,e,t){if(ue.isString(s))try{return(e||JSON.parse)(s),ue.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(s)}const Jc={transitional:_S,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=ue.isObject(e);if(o&&ue.isHTMLForm(e)&&(e=new FormData(e)),ue.isFormData(e))return r?JSON.stringify(MS(e)):e;if(ue.isArrayBuffer(e)||ue.isBuffer(e)||ue.isStream(e)||ue.isFile(e)||ue.isBlob(e)||ue.isReadableStream(e))return e;if(ue.isArrayBufferView(e))return e.buffer;if(ue.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return IB(e,this.formSerializer).toString();if((u=ue.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Vd(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),VB(e)):e}],transformResponse:[function(e){const t=this.transitional||Jc.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(ue.isResponse(e)||ue.isReadableStream(e))return e;if(e&&ue.isString(e)&&(n&&!this.responseType||r)){const l=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?rt.from(u,rt.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zn.classes.FormData,Blob:zn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],s=>{Jc.headers[s]={}});const WB=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qB=s=>{const e={};let t,n,r;return s&&s.split(`
`).forEach(function(l){r=l.indexOf(":"),t=l.substring(0,r).trim().toLowerCase(),n=l.substring(r+1).trim(),!(!t||e[t]&&WB[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},Dw=Symbol("internals");function oc(s){return s&&String(s).trim().toLowerCase()}function sd(s){return s===!1||s==null?s:ue.isArray(s)?s.map(sd):String(s)}function YB(s){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(s);)e[n[1]]=n[2];return e}const XB=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Zm(s,e,t,n,r){if(ue.isFunction(n))return n.call(this,e,t);if(r&&(e=t),!!ue.isString(e)){if(ue.isString(n))return e.indexOf(n)!==-1;if(ue.isRegExp(n))return n.test(e)}}function ZB(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function JB(s,e){const t=ue.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+t,{value:function(r,o,l){return this[n].call(this,e,r,o,l)},configurable:!0})})}let Zn=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(u,d,f){const p=oc(d);if(!p)throw new Error("header name must be a non-empty string");const g=ue.findKey(r,p);(!g||r[g]===void 0||f===!0||f===void 0&&r[g]!==!1)&&(r[g||d]=sd(u))}const l=(u,d)=>ue.forEach(u,(f,p)=>o(f,p,d));if(ue.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(ue.isString(e)&&(e=e.trim())&&!XB(e))l(qB(e),t);else if(ue.isObject(e)&&ue.isIterable(e)){let u={},d,f;for(const p of e){if(!ue.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[f=p[0]]=(d=u[f])?ue.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,t)}else e!=null&&o(t,e,n);return this}get(e,t){if(e=oc(e),e){const n=ue.findKey(this,e);if(n){const r=this[n];if(!t)return r;if(t===!0)return YB(r);if(ue.isFunction(t))return t.call(this,r,n);if(ue.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=oc(e),e){const n=ue.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Zm(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let r=!1;function o(l){if(l=oc(l),l){const u=ue.findKey(n,l);u&&(!t||Zm(n,n[u],u,t))&&(delete n[u],r=!0)}}return ue.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];(!e||Zm(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return ue.forEach(this,(r,o)=>{const l=ue.findKey(n,o);if(l){t[l]=sd(r),delete t[o];return}const u=e?ZB(o):String(o).trim();u!==o&&delete t[o],t[u]=sd(r),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ue.forEach(this,(n,r)=>{n!=null&&n!==!1&&(t[r]=e&&ue.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(r=>n.set(r)),n}static accessor(e){const n=(this[Dw]=this[Dw]={accessors:{}}).accessors,r=this.prototype;function o(l){const u=oc(l);n[u]||(JB(r,l),n[u]=!0)}return ue.isArray(e)?e.forEach(o):o(e),this}};Zn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(Zn.prototype,({value:s},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(n){this[t]=n}}});ue.freezeMethods(Zn);function Jm(s,e){const t=this||Jc,n=e||t,r=Zn.from(n.headers);let o=n.data;return ue.forEach(s,function(u){o=u.call(t,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function SS(s){return!!(s&&s.__CANCEL__)}function rl(s,e,t){rt.call(this,s??"canceled",rt.ERR_CANCELED,e,t),this.name="CanceledError"}ue.inherits(rl,rt,{__CANCEL__:!0});function ES(s,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?s(t):e(new rt("Request failed with status code "+t.status,[rt.ERR_BAD_REQUEST,rt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function QB(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function KB(s,e){s=s||10;const t=new Array(s),n=new Array(s);let r=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),p=n[o];l||(l=f),t[r]=d,n[r]=f;let g=o,y=0;for(;g!==r;)y+=t[g++],g=g%s;if(r=(r+1)%s,r===o&&(o=(o+1)%s),f-l<e)return;const b=p&&f-p;return b?Math.round(y*1e3/b):void 0}}function $B(s,e){let t=0,n=1e3/e,r,o;const l=(f,p=Date.now())=>{t=p,r=null,o&&(clearTimeout(o),o=null),s(...f)};return[(...f)=>{const p=Date.now(),g=p-t;g>=n?l(f,p):(r=f,o||(o=setTimeout(()=>{o=null,l(r)},n-g)))},()=>r&&l(r)]}const hd=(s,e,t=3)=>{let n=0;const r=KB(50,250);return $B(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-n,f=r(d),p=l<=u;n=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&p?(u-l)/f:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};s(g)},t)},zw=(s,e)=>{const t=s!=null;return[n=>e[0]({lengthComputable:t,total:s,loaded:n}),e[1]]},Ow=s=>(...e)=>ue.asap(()=>s(...e)),eU=zn.hasStandardBrowserEnv?((s,e)=>t=>(t=new URL(t,zn.origin),s.protocol===t.protocol&&s.host===t.host&&(e||s.port===t.port)))(new URL(zn.origin),zn.navigator&&/(msie|trident)/i.test(zn.navigator.userAgent)):()=>!0,tU=zn.hasStandardBrowserEnv?{write(s,e,t,n,r,o,l){if(typeof document>"u")return;const u=[`${s}=${encodeURIComponent(e)}`];ue.isNumber(t)&&u.push(`expires=${new Date(t).toUTCString()}`),ue.isString(n)&&u.push(`path=${n}`),ue.isString(r)&&u.push(`domain=${r}`),o===!0&&u.push("secure"),ue.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(s){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function nU(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function iU(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function TS(s,e,t){let n=!nU(e);return s&&(n||t==!1)?iU(s,e):e}const Bw=s=>s instanceof Zn?{...s}:s;function ya(s,e){e=e||{};const t={};function n(f,p,g,y){return ue.isPlainObject(f)&&ue.isPlainObject(p)?ue.merge.call({caseless:y},f,p):ue.isPlainObject(p)?ue.merge({},p):ue.isArray(p)?p.slice():p}function r(f,p,g,y){if(ue.isUndefined(p)){if(!ue.isUndefined(f))return n(void 0,f,g,y)}else return n(f,p,g,y)}function o(f,p){if(!ue.isUndefined(p))return n(void 0,p)}function l(f,p){if(ue.isUndefined(p)){if(!ue.isUndefined(f))return n(void 0,f)}else return n(void 0,p)}function u(f,p,g){if(g in e)return n(f,p);if(g in s)return n(void 0,f)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,p,g)=>r(Bw(f),Bw(p),g,!0)};return ue.forEach(Object.keys({...s,...e}),function(p){const g=d[p]||r,y=g(s[p],e[p],p);ue.isUndefined(y)&&g!==u||(t[p]=y)}),t}const AS=s=>{const e=ya({},s);let{data:t,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:o,headers:l,auth:u}=e;if(e.headers=l=Zn.from(l),e.url=wS(TS(e.baseURL,e.url,e.allowAbsoluteUrls),s.params,s.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),ue.isFormData(t)){if(zn.hasStandardBrowserEnv||zn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ue.isFunction(t.getHeaders)){const d=t.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([p,g])=>{f.includes(p.toLowerCase())&&l.set(p,g)})}}if(zn.hasStandardBrowserEnv&&(n&&ue.isFunction(n)&&(n=n(e)),n||n!==!1&&eU(e.url))){const d=r&&o&&tU.read(o);d&&l.set(r,d)}return e},sU=typeof XMLHttpRequest<"u",rU=sU&&function(s){return new Promise(function(t,n){const r=AS(s);let o=r.data;const l=Zn.from(r.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=r,p,g,y,b,v;function _(){b&&b(),v&&v(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let E=new XMLHttpRequest;E.open(r.method.toUpperCase(),r.url,!0),E.timeout=r.timeout;function M(){if(!E)return;const C=Zn.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),N={data:!u||u==="text"||u==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:C,config:s,request:E};ES(function(R){t(R),_()},function(R){n(R),_()},N),E=null}"onloadend"in E?E.onloadend=M:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(M)},E.onabort=function(){E&&(n(new rt("Request aborted",rt.ECONNABORTED,s,E)),E=null)},E.onerror=function(A){const N=A&&A.message?A.message:"Network Error",D=new rt(N,rt.ERR_NETWORK,s,E);D.event=A||null,n(D),E=null},E.ontimeout=function(){let A=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const N=r.transitional||_S;r.timeoutErrorMessage&&(A=r.timeoutErrorMessage),n(new rt(A,N.clarifyTimeoutError?rt.ETIMEDOUT:rt.ECONNABORTED,s,E)),E=null},o===void 0&&l.setContentType(null),"setRequestHeader"in E&&ue.forEach(l.toJSON(),function(A,N){E.setRequestHeader(N,A)}),ue.isUndefined(r.withCredentials)||(E.withCredentials=!!r.withCredentials),u&&u!=="json"&&(E.responseType=r.responseType),f&&([y,v]=hd(f,!0),E.addEventListener("progress",y)),d&&E.upload&&([g,b]=hd(d),E.upload.addEventListener("progress",g),E.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(p=C=>{E&&(n(!C||C.type?new rl(null,s,E):C),E.abort(),E=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const S=QB(r.url);if(S&&zn.protocols.indexOf(S)===-1){n(new rt("Unsupported protocol "+S+":",rt.ERR_BAD_REQUEST,s));return}E.send(o||null)})},aU=(s,e)=>{const{length:t}=s=s?s.filter(Boolean):[];if(e||t){let n=new AbortController,r;const o=function(f){if(!r){r=!0,u();const p=f instanceof Error?f:this.reason;n.abort(p instanceof rt?p:new rl(p instanceof Error?p.message:p))}};let l=e&&setTimeout(()=>{l=null,o(new rt(`timeout ${e} of ms exceeded`,rt.ETIMEDOUT))},e);const u=()=>{s&&(l&&clearTimeout(l),l=null,s.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),s=null)};s.forEach(f=>f.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>ue.asap(u),d}},oU=function*(s,e){let t=s.byteLength;if(t<e){yield s;return}let n=0,r;for(;n<t;)r=n+e,yield s.slice(n,r),n=r},lU=async function*(s,e){for await(const t of cU(s))yield*oU(t,e)},cU=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},Uw=(s,e,t,n)=>{const r=lU(s,e);let o=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await r.next();if(f){u(),d.close();return}let g=p.byteLength;if(t){let y=o+=g;t(y)}d.enqueue(new Uint8Array(p))}catch(f){throw u(f),f}},cancel(d){return u(d),r.return()}},{highWaterMark:2})},Pw=64*1024,{isFunction:Qh}=ue,uU=(({Request:s,Response:e})=>({Request:s,Response:e}))(ue.global),{ReadableStream:kw,TextEncoder:jw}=ue.global,Fw=(s,...e)=>{try{return!!s(...e)}catch{return!1}},hU=s=>{s=ue.merge.call({skipUndefined:!0},uU,s);const{fetch:e,Request:t,Response:n}=s,r=e?Qh(e):typeof fetch=="function",o=Qh(t),l=Qh(n);if(!r)return!1;const u=r&&Qh(kw),d=r&&(typeof jw=="function"?(v=>_=>v.encode(_))(new jw):async v=>new Uint8Array(await new t(v).arrayBuffer())),f=o&&u&&Fw(()=>{let v=!1;const _=new t(zn.origin,{body:new kw,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!_}),p=l&&u&&Fw(()=>ue.isReadableStream(new n("").body)),g={stream:p&&(v=>v.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!g[v]&&(g[v]=(_,E)=>{let M=_&&_[v];if(M)return M.call(_);throw new rt(`Response type '${v}' is not supported`,rt.ERR_NOT_SUPPORT,E)})});const y=async v=>{if(v==null)return 0;if(ue.isBlob(v))return v.size;if(ue.isSpecCompliantForm(v))return(await new t(zn.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(v)||ue.isArrayBuffer(v))return v.byteLength;if(ue.isURLSearchParams(v)&&(v=v+""),ue.isString(v))return(await d(v)).byteLength},b=async(v,_)=>{const E=ue.toFiniteNumber(v.getContentLength());return E??y(_)};return async v=>{let{url:_,method:E,data:M,signal:S,cancelToken:C,timeout:A,onDownloadProgress:N,onUploadProgress:D,responseType:R,headers:P,withCredentials:q="same-origin",fetchOptions:G}=AS(v),j=e||fetch;R=R?(R+"").toLowerCase():"text";let oe=aU([S,C&&C.toAbortSignal()],A),Q=null;const W=oe&&oe.unsubscribe&&(()=>{oe.unsubscribe()});let re;try{if(D&&f&&E!=="get"&&E!=="head"&&(re=await b(P,M))!==0){let k=new t(_,{method:"POST",body:M,duplex:"half"}),$;if(ue.isFormData(M)&&($=k.headers.get("content-type"))&&P.setContentType($),k.body){const[Z,ie]=zw(re,hd(Ow(D)));M=Uw(k.body,Pw,Z,ie)}}ue.isString(q)||(q=q?"include":"omit");const B=o&&"credentials"in t.prototype,V={...G,signal:oe,method:E.toUpperCase(),headers:P.normalize().toJSON(),body:M,duplex:"half",credentials:B?q:void 0};Q=o&&new t(_,V);let ce=await(o?j(Q,G):j(_,V));const Te=p&&(R==="stream"||R==="response");if(p&&(N||Te&&W)){const k={};["status","statusText","headers"].forEach(_e=>{k[_e]=ce[_e]});const $=ue.toFiniteNumber(ce.headers.get("content-length")),[Z,ie]=N&&zw($,hd(Ow(N),!0))||[];ce=new n(Uw(ce.body,Pw,Z,()=>{ie&&ie(),W&&W()}),k)}R=R||"text";let Le=await g[ue.findKey(g,R)||"text"](ce,v);return!Te&&W&&W(),await new Promise((k,$)=>{ES(k,$,{data:Le,headers:Zn.from(ce.headers),status:ce.status,statusText:ce.statusText,config:v,request:Q})})}catch(B){throw W&&W(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new rt("Network Error",rt.ERR_NETWORK,v,Q),{cause:B.cause||B}):rt.from(B,B&&B.code,v,Q)}}},dU=new Map,CS=s=>{let e=s&&s.env||{};const{fetch:t,Request:n,Response:r}=e,o=[n,r,t];let l=o.length,u=l,d,f,p=dU;for(;u--;)d=o[u],f=p.get(d),f===void 0&&p.set(d,f=u?new Map:hU(e)),p=f;return f};CS();const Ug={http:RB,xhr:rU,fetch:{get:CS}};ue.forEach(Ug,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const Iw=s=>`- ${s}`,fU=s=>ue.isFunction(s)||s===null||s===!1;function pU(s,e){s=ue.isArray(s)?s:[s];const{length:t}=s;let n,r;const o={};for(let l=0;l<t;l++){n=s[l];let u;if(r=n,!fU(n)&&(r=Ug[(u=String(n)).toLowerCase()],r===void 0))throw new rt(`Unknown adapter '${u}'`);if(r&&(ue.isFunction(r)||(r=r.get(e))))break;o[u||"#"+l]=r}if(!r){const l=Object.entries(o).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=t?l.length>1?`since :
`+l.map(Iw).join(`
`):" "+Iw(l[0]):"as no adapter specified";throw new rt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r}const RS={getAdapter:pU,adapters:Ug};function Qm(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new rl(null,s)}function Hw(s){return Qm(s),s.headers=Zn.from(s.headers),s.data=Jm.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),RS.getAdapter(s.adapter||Jc.adapter,s)(s).then(function(n){return Qm(s),n.data=Jm.call(s,s.transformResponse,n),n.headers=Zn.from(n.headers),n},function(n){return SS(n)||(Qm(s),n&&n.response&&(n.response.data=Jm.call(s,s.transformResponse,n.response),n.response.headers=Zn.from(n.response.headers))),Promise.reject(n)})}const NS="1.13.2",Wd={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{Wd[s]=function(n){return typeof n===s||"a"+(e<1?"n ":" ")+s}});const Gw={};Wd.transitional=function(e,t,n){function r(o,l){return"[Axios v"+NS+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(e===!1)throw new rt(r(l," has been removed"+(t?" in "+t:"")),rt.ERR_DEPRECATED);return t&&!Gw[l]&&(Gw[l]=!0,console.warn(r(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,u):!0}};Wd.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function mU(s,e,t){if(typeof s!="object")throw new rt("options must be an object",rt.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let r=n.length;for(;r-- >0;){const o=n[r],l=e[o];if(l){const u=s[o],d=u===void 0||l(u,o,s);if(d!==!0)throw new rt("option "+o+" must be "+d,rt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new rt("Unknown option "+o,rt.ERR_BAD_OPTION)}}const rd={assertOptions:mU,validators:Wd},Vi=rd.validators;let ca=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Lw,response:new Lw}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ya(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;n!==void 0&&rd.assertOptions(n,{silentJSONParsing:Vi.transitional(Vi.boolean),forcedJSONParsing:Vi.transitional(Vi.boolean),clarifyTimeoutError:Vi.transitional(Vi.boolean)},!1),r!=null&&(ue.isFunction(r)?t.paramsSerializer={serialize:r}:rd.assertOptions(r,{encode:Vi.function,serialize:Vi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),rd.assertOptions(t,{baseUrl:Vi.spelling("baseURL"),withXsrfToken:Vi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&ue.merge(o.common,o[t.method]);o&&ue.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),t.headers=Zn.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(t)===!1||(d=d&&_.synchronous,u.unshift(_.fulfilled,_.rejected))});const f=[];this.interceptors.response.forEach(function(_){f.push(_.fulfilled,_.rejected)});let p,g=0,y;if(!d){const v=[Hw.bind(this),void 0];for(v.unshift(...u),v.push(...f),y=v.length,p=Promise.resolve(t);g<y;)p=p.then(v[g++],v[g++]);return p}y=u.length;let b=t;for(;g<y;){const v=u[g++],_=u[g++];try{b=v(b)}catch(E){_.call(this,E);break}}try{p=Hw.call(this,b)}catch(v){return Promise.reject(v)}for(g=0,y=f.length;g<y;)p=p.then(f[g++],f[g++]);return p}getUri(e){e=ya(this.defaults,e);const t=TS(e.baseURL,e.url,e.allowAbsoluteUrls);return wS(t,e.params,e.paramsSerializer)}};ue.forEach(["delete","get","head","options"],function(e){ca.prototype[e]=function(t,n){return this.request(ya(n||{},{method:e,url:t,data:(n||{}).data}))}});ue.forEach(["post","put","patch"],function(e){function t(n){return function(o,l,u){return this.request(ya(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}ca.prototype[e]=t(),ca.prototype[e+"Form"]=t(!0)});let gU=class LS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const n=this;this.promise.then(r=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](r);n._listeners=null}),this.promise.then=r=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(r);return l.cancel=function(){n.unsubscribe(o)},l},e(function(o,l,u){n.reason||(n.reason=new rl(o,l,u),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new LS(function(r){e=r}),cancel:e}}};function xU(s){return function(t){return s.apply(null,t)}}function yU(s){return ue.isObject(s)&&s.isAxiosError===!0}const C0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(C0).forEach(([s,e])=>{C0[e]=s});function DS(s){const e=new ca(s),t=cS(ca.prototype.request,e);return ue.extend(t,ca.prototype,e,{allOwnKeys:!0}),ue.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return DS(ya(s,r))},t}const tn=DS(Jc);tn.Axios=ca;tn.CanceledError=rl;tn.CancelToken=gU;tn.isCancel=SS;tn.VERSION=NS;tn.toFormData=Vd;tn.AxiosError=rt;tn.Cancel=tn.CanceledError;tn.all=function(e){return Promise.all(e)};tn.spread=xU;tn.isAxiosError=yU;tn.mergeConfig=ya;tn.AxiosHeaders=Zn;tn.formToJSON=s=>MS(ue.isHTMLForm(s)?new FormData(s):s);tn.getAdapter=RS.getAdapter;tn.HttpStatusCode=C0;tn.default=tn;const{Axios:IU,AxiosError:HU,CanceledError:GU,isCancel:VU,CancelToken:WU,VERSION:qU,all:YU,Cancel:XU,isAxiosError:ZU,spread:JU,toFormData:QU,AxiosHeaders:KU,HttpStatusCode:$U,formToJSON:eP,getAdapter:tP,mergeConfig:nP}=tn,ct=tn.create({baseURL:"http://127.0.0.1:8000"}),Vw={attendance_url:"",project_report_url:"",timesheet_url:"",policy_hub_url:"",inventory_url:"",petty_cash_url:"",salary_advance_url:"",approved_pr_url:""},vU=({newsEvents:s,setNewsEvents:e,careers:t,setCareers:n})=>{const[r,o]=I.useState("news"),[l,u]=I.useState(null),[d,f]=I.useState(null),[p,g]=I.useState({title:"",description:"",date:"",image:null,imagePreview:""}),[y,b]=I.useState({title:"",description:"",location:""}),[v,_]=I.useState([]),[E,M]=I.useState({id:"",name:"",email:"",password:""}),[S,C]=I.useState(null),[A,N]=I.useState(null),[D,R]=I.useState(!1),[P,q]=I.useState("today"),[G,j]=I.useState(new Date().toISOString().split("T")[0]),[oe,Q]=I.useState(""),[W,re]=I.useState(""),[B,V]=I.useState(new Date().getMonth()+1),[ce,Te]=I.useState(new Date().getFullYear()),Le=["January","February","March","April","May","June","July","August","September","October","November","December"],[k,$]=I.useState([]),[Z,ie]=I.useState(null),_e=()=>{const Y={};return k.forEach(Ae=>{Y[Ae.key]=""}),Y},[te,ee]=I.useState({}),[be,ye]=I.useState(!0),[ze,je]=I.useState(null),[fe,we]=I.useState(""),[Ne,Ge]=I.useState([]),[De,F]=I.useState({name:"",url:""}),[U,pe]=I.useState(null);I.useEffect(()=>{localStorage.getItem("admin_token")||(window.location.href="/")},[]);const Re=()=>{localStorage.removeItem("admin_token"),window.location.href="/"},Ce=async()=>{try{const Y=await ct.get("/news");e(Y.data.map(Ae=>({id:Ae._id,title:Ae.title,description:Ae.description,date:Ae.date,image:`http://127.0.0.1:8000/${Ae.image_path}`})))}catch(Y){console.error("Error loading news:",Y)}},ke=async()=>{try{const Y=await ct.get("/jobs");n(Y.data.map(Ae=>({id:Ae._id,title:Ae.title,description:Ae.description,location:Ae.location})))}catch(Y){console.error("Error loading careers:",Y)}},Qe=async()=>{try{const Y=await ct.get("/employees");_(Y.data)}catch(Y){console.error("Error loading employees:",Y)}},Pe=async()=>{try{const Y=await ct.get("/employee-links/config");$(Y.data.links)}catch(Y){console.error("Error loading links config:",Y)}},$e=async()=>{try{const Y=await ct.get("/admin-links");Ge(Y.data)}catch(Y){console.error("Error loading admin links:",Y)}},Ve=()=>{switch(P){case"today":return"?filter=today";case"week":return"?filter=week";case"month":return"?filter=month";case"custom-date":return`?date=${G}`;case"custom-week":return`?start_date=${oe}&end_date=${W}`;case"custom-month":return`?month=${B}&year=${ce}`;default:return"?filter=today"}},J=async()=>{R(!0);try{const Y=Ve(),Ae=await ct.get(`/attendance/all${Y}`);N(Ae.data)}catch(Y){console.error("Error loading attendance:",Y),alert("Failed to load attendance data")}finally{R(!1)}};I.useEffect(()=>{r==="attendance"&&J()},[r,P,G,oe,W,B,ce]),I.useEffect(()=>{Ce(),ke(),Qe(),Pe(),$e()},[]);const Oe=async Y=>{Y.preventDefault();try{const Ae={id:parseInt(E.id),name:E.name,email:E.email,password_hash:E.password};S?(await ct.put(`/employees/${S}`,Ae),alert("Employee updated successfully!"),C(null)):(await ct.post("/employees",Ae),alert("Employee added successfully!")),await Qe(),M({id:"",name:"",email:"",password:""})}catch(Ae){console.error(Ae),alert("Failed to save employee: "+(Ae.response?.data?.detail||Ae.message))}},Se=Y=>{C(Y.id),M({id:Y.id.toString(),name:Y.name,email:Y.email,password:""})},qe=async(Y,Ae)=>{if(window.confirm(`Delete employee: ${Ae}? This will also delete all their attendance records and links.`))try{await ct.delete(`/employees/${Y}`),await Qe(),Z===Y&&(ie(null),ee(_e())),alert("Employee deleted successfully!")}catch(O){console.error(O),alert("Failed to delete employee: "+(O.response?.data?.detail||O.message))}},We=async Y=>{if(!Y){ie(null),ee(_e());return}const Ae=parseInt(Y);ie(Ae);try{const O=await ct.get(`/employee-links/${Ae}`),ae={};k.forEach(me=>{ae[me.key]=O.data[me.key]||""}),ee(ae),ye(!0)}catch(O){console.error("Failed to fetch links for employee:",O),ee(_e())}},ot=async()=>{if(Z)try{await ct.put(`/employee-links/${Z}`,te),ye(!0),alert("Links saved successfully!")}catch(Y){console.error(Y),alert("Failed to save links: "+(Y.response?.data?.detail||Y.message))}},Gt=async()=>{if(!Z)return;const Y=v.find(Ae=>Ae.id===Z);if(window.confirm(`Delete all links for ${Y?.name||"this employee"}?`))try{await ct.delete(`/employee-links/${Z}`),ee(_e()),ye(!0),alert("Links deleted successfully!")}catch(Ae){console.error(Ae),alert("Failed to delete links: "+(Ae.response?.data?.detail||Ae.message))}},Mt=Y=>{je(Y),we(te[Y]||"")},un=()=>{je(null),we("")},ut=async Y=>{if(Z)try{const Ae=new FormData;Ae.append("url",fe),await ct.patch(`/employee-links/${Z}/${Y}`,Ae),ee(O=>({...O,[Y]:fe})),je(null),we(""),alert(`${Vw[Y]} Link updated successfully!`)}catch(Ae){console.error(Ae),alert("Failed to update link: "+(Ae.response?.data?.detail||Ae.message))}},Qn=async Y=>{Y.preventDefault();try{const Ae=new FormData;Ae.append("name",De.name),Ae.append("url",De.url),U?(await ct.put(`/admin-links/${U}`,Ae),alert("Link updated successfully!"),pe(null)):(await ct.post("/admin-links",Ae),alert("Link added successfully!")),await $e(),F({name:"",url:""})}catch(Ae){console.error(Ae),alert("Failed to save link: "+(Ae.response?.data?.detail||Ae.message))}},Un=Y=>{pe(Y._id),F({name:Y.name,url:Y.url}),window.scrollTo({top:0,behavior:"smooth"})},al=async(Y,Ae)=>{if(window.confirm(`Delete link: ${Ae}?`))try{await ct.delete(`/admin-links/${Y}`),await $e(),alert("Link deleted successfully!")}catch(O){console.error(O),alert("Failed to delete link: "+(O.response?.data?.detail||O.message))}},es=Y=>{window.open(Y,"_blank","noopener,noreferrer")},ts=Y=>{const Ae=Y.target.files[0];if(!Ae)return;const O=new FileReader;O.onloadend=()=>{g(ae=>({...ae,image:Ae,imagePreview:O.result}))},O.readAsDataURL(Ae)},Fn=async Y=>{Y.preventDefault();try{const Ae=new FormData;Ae.append("title",p.title),Ae.append("description",p.description),Ae.append("date",p.date),p.image&&Ae.append("image",p.image),l?(await ct.put(`/news/${l}`,Ae),u(null),alert("News/Event updated successfully!")):(await ct.post("/news",Ae),alert("News/Event added successfully!")),await Ce(),g({title:"",description:"",date:"",image:null,imagePreview:""})}catch(Ae){console.error(Ae),alert("Failed to save news: "+(Ae.response?.data?.detail||Ae.message))}},fi=Y=>{u(Y.id),g({title:Y.title,description:Y.description,date:Y.date,image:null,imagePreview:Y.image})},ns=async Y=>{if(window.confirm("Delete this news/event?"))try{await ct.delete(`/news/${Y}`),await Ce(),alert("News/Event deleted successfully!")}catch(Ae){console.error(Ae),alert("Failed to delete news: "+(Ae.response?.data?.detail||Ae.message))}},is=async Y=>{Y.preventDefault();try{d?(await ct.put(`/jobs/${d}`,y),f(null),alert("Career updated successfully!")):(await ct.post("/jobs",y),alert("Career added successfully!")),await ke(),b({title:"",description:"",location:""})}catch(Ae){console.error(Ae),alert("Failed to save career: "+(Ae.response?.data?.detail||Ae.message))}},js=Y=>{f(Y.id),b({title:Y.title,description:Y.description,location:Y.location})},Ra=async Y=>{if(window.confirm("Delete this job posting?"))try{await ct.delete(`/jobs/${Y}`),await ke(),alert("Job deleted successfully!")}catch(Ae){console.error(Ae),alert("Failed to delete job: "+(Ae.response?.data?.detail||Ae.message))}},ss=async(Y,Ae)=>{if(window.confirm(`Delete this attendance record for ${Ae}?`))try{await ct.delete(`/attendance/${Y}`),await J(),alert("Attendance record deleted successfully!")}catch(O){console.error(O),alert("Failed to delete attendance: "+(O.response?.data?.detail||O.message))}},ji=async(Y,Ae)=>{if(window.confirm(`Delete all attendance records for ${Ae} in this period?`))try{const O=Ve().replace("?",""),ae=await ct.delete(`/attendance/employee/${Y}?${O}`);await J(),alert(`Deleted ${ae.data.deleted_count} attendance record(s) successfully!`)}catch(O){console.error(O),alert("Failed to delete attendance: "+(O.response?.data?.detail||O.message))}},Na=Y=>new Date(Y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return m.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-blue-950 to-slate-900 pt-32 pb-20",children:m.jsxs("div",{className:"container mx-auto px-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-12",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-5xl font-bold text-white mb-2",children:["Admin ",m.jsx("span",{className:"text-cyan-400",children:"Dashboard"})]}),m.jsx("p",{className:"text-blue-200",children:"Manage website content and postings"})]}),m.jsx("button",{onClick:Re,className:"bg-red-500/20 border border-red-500/40 text-red-400 px-6 py-3 rounded-lg hover:bg-red-500/30 transition-all duration-300 font-semibold",children:"Logout"})]}),m.jsx("div",{className:"max-w-7xl mx-auto mb-8",children:m.jsx("div",{className:"flex gap-4 bg-slate-800/50 p-2 rounded-xl backdrop-blur-sm",children:[{key:"news",label:" News & Events"},{key:"careers",label:" Careers"},{key:"employees",label:" Employees"},{key:"attendance",label:" Attendance"},{key:"admin-links",label:" My Links"}].map(Y=>m.jsx("button",{onClick:()=>o(Y.key),className:`flex-1 py-3 rounded-lg font-semibold transition-all duration-300 ${r===Y.key?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white shadow-lg":"text-blue-300 hover:bg-slate-700/50"}`,children:Y.label},Y.key))})}),r==="news"&&m.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[m.jsxs("form",{onSubmit:Fn,className:"space-y-4 bg-slate-800/50 p-6 rounded-2xl border border-cyan-500/20 backdrop-blur-sm",children:[m.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:l?" Edit News/Event":" Add News/Event"}),m.jsx("input",{type:"text",value:p.title,onChange:Y=>g({...p,title:Y.target.value}),required:!0,placeholder:"Title",className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none transition-colors"}),m.jsx("input",{type:"date",value:p.date,onChange:Y=>g({...p,date:Y.target.value}),required:!0,className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none transition-colors"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-blue-300 text-sm font-semibold",children:"Upload Image"}),m.jsx("input",{type:"file",accept:"image/*",onChange:ts,required:!l,className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none transition-colors file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-cyan-600 file:text-white hover:file:bg-cyan-700"})]}),p.imagePreview&&m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:p.imagePreview,className:"h-40 w-full object-cover rounded-lg border border-cyan-500/30",alt:"Preview"}),m.jsx("button",{type:"button",onClick:()=>g({...p,image:null,imagePreview:""}),className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors",children:""})]}),m.jsx("textarea",{value:p.description,onChange:Y=>g({...p,description:Y.target.value}),required:!0,rows:"5",placeholder:"Description",className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none transition-colors"}),m.jsx("button",{className:"w-full py-4 bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold rounded-lg hover:shadow-lg hover:shadow-cyan-500/50 transition-all duration-300",children:l?" Update News/Event":" Add News/Event"}),l&&m.jsx("button",{type:"button",onClick:()=>{u(null),g({title:"",description:"",date:"",image:null,imagePreview:""})},className:"w-full py-3 bg-slate-700 text-slate-300 font-semibold rounded-lg hover:bg-slate-600 transition-all duration-300",children:"Cancel Edit"})]}),m.jsx("div",{className:"space-y-4",children:s.map(Y=>m.jsxs("div",{className:"flex justify-between items-center bg-slate-800/50 backdrop-blur-sm p-6 rounded-xl border border-cyan-500/20 hover:border-cyan-500/40 transition-all duration-300",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[Y.image&&m.jsx("img",{src:Y.image,alt:Y.title,className:"w-16 h-16 object-cover rounded-lg"}),m.jsxs("div",{children:[m.jsx("span",{className:"text-white font-semibold text-lg",children:Y.title}),m.jsx("p",{className:"text-blue-300 text-sm",children:Na(Y.date)})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>fi(Y),className:"px-4 py-2 bg-blue-600/20 border border-blue-500/40 text-blue-300 rounded-lg hover:bg-blue-600/30 transition-all duration-300",children:" Edit"}),m.jsx("button",{onClick:()=>ns(Y.id),className:"px-4 py-2 bg-red-600/20 border border-red-500/40 text-red-300 rounded-lg hover:bg-red-600/30 transition-all duration-300",children:" Delete"})]})]},Y.id))})]}),r==="careers"&&m.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[m.jsxs("form",{onSubmit:is,className:"space-y-4 bg-slate-800/50 p-6 rounded-2xl border border-cyan-500/20 backdrop-blur-sm",children:[m.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:d?" Edit Career":" Add Career"}),m.jsx("input",{type:"text",value:y.title,onChange:Y=>b({...y,title:Y.target.value}),required:!0,placeholder:"Job Title",className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none transition-colors"}),m.jsx("input",{type:"text",value:y.location,onChange:Y=>b({...y,location:Y.target.value}),required:!0,placeholder:"Location",className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none transition-colors"}),m.jsx("textarea",{value:y.description,onChange:Y=>b({...y,description:Y.target.value}),required:!0,rows:"5",placeholder:"Job Description",className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none transition-colors"}),m.jsx("button",{className:"w-full py-4 bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold rounded-lg hover:shadow-lg hover:shadow-cyan-500/50 transition-all duration-300",children:d?" Update Career":" Add Career"}),d&&m.jsx("button",{type:"button",onClick:()=>{f(null),b({title:"",description:"",location:""})},className:"w-full py-3 bg-slate-700 text-slate-300 font-semibold rounded-lg hover:bg-slate-600 transition-all duration-300",children:"Cancel Edit"})]}),m.jsx("div",{className:"space-y-4",children:t.map(Y=>m.jsxs("div",{className:"flex justify-between items-center bg-slate-800/50 backdrop-blur-sm p-6 rounded-xl border border-cyan-500/20 hover:border-cyan-500/40 transition-all duration-300",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-white font-semibold text-lg",children:Y.title}),m.jsxs("p",{className:"text-blue-300 text-sm",children:[" ",Y.location]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>js(Y),className:"px-4 py-2 bg-blue-600/20 border border-blue-500/40 text-blue-300 rounded-lg hover:bg-blue-600/30 transition-all duration-300",children:" Edit"}),m.jsx("button",{onClick:()=>Ra(Y.id),className:"px-4 py-2 bg-red-600/20 border border-red-500/40 text-red-300 rounded-lg hover:bg-red-600/30 transition-all duration-300",children:" Delete"})]})]},Y.id))})]}),r==="employees"&&m.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[m.jsxs("form",{onSubmit:Oe,className:"space-y-4 bg-slate-800/50 p-6 rounded-2xl border border-cyan-500/20 backdrop-blur-sm",children:[m.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:S?" Edit Employee":" Add Employee"}),m.jsx("input",{type:"number",value:E.id,onChange:Y=>M({...E,id:Y.target.value}),required:!0,placeholder:"Employee ID (Number)",disabled:S!==null,className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none transition-colors disabled:opacity-50"}),m.jsx("input",{type:"text",value:E.name,onChange:Y=>M({...E,name:Y.target.value}),required:!0,placeholder:"Full Name",className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none transition-colors"}),m.jsx("input",{type:"email",value:E.email,onChange:Y=>M({...E,email:Y.target.value}),required:!0,placeholder:"Email Address",className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none transition-colors"}),m.jsx("input",{type:"password",value:E.password,onChange:Y=>M({...E,password:Y.target.value}),required:!S,placeholder:S?"Leave blank to keep current password":"Password",className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none transition-colors"}),m.jsx("button",{className:"w-full py-4 bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold rounded-lg hover:shadow-lg hover:shadow-cyan-500/50 transition-all duration-300",children:S?" Update Employee":" Add Employee"}),S&&m.jsx("button",{type:"button",onClick:()=>{C(null),M({id:"",name:"",email:"",password:""})},className:"w-full py-3 bg-slate-700 text-slate-300 font-semibold rounded-lg hover:bg-slate-600 transition-all duration-300",children:"Cancel Edit"})]}),m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-cyan-500/20",children:[m.jsxs("h3",{className:"text-2xl font-bold text-white mb-6",children:[" All Employees (",v.length,")"]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-slate-700",children:[m.jsx("th",{className:"text-left py-3 px-4 text-cyan-300 font-semibold",children:"ID"}),m.jsx("th",{className:"text-left py-3 px-4 text-cyan-300 font-semibold",children:"Name"}),m.jsx("th",{className:"text-left py-3 px-4 text-cyan-300 font-semibold",children:"Email"}),m.jsx("th",{className:"text-left py-3 px-4 text-cyan-300 font-semibold",children:"Actions"})]})}),m.jsx("tbody",{children:v.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"4",className:"text-center py-8 text-slate-400",children:"No employees found. Add your first employee above."})}):v.map(Y=>m.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30 transition-colors",children:[m.jsx("td",{className:"py-3 px-4 text-blue-300 font-mono",children:Y.id}),m.jsx("td",{className:"py-3 px-4 text-white font-semibold",children:Y.name}),m.jsx("td",{className:"py-3 px-4 text-slate-300",children:Y.email}),m.jsx("td",{className:"py-3 px-4",children:m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>Se(Y),className:"px-3 py-1 bg-blue-600/20 border border-blue-500/40 text-blue-300 rounded-lg hover:bg-blue-600/30 transition-all duration-300 text-sm",children:" Edit"}),m.jsx("button",{onClick:()=>qe(Y.id,Y.name),className:"px-2 py-1 bg-red-600/20 border border-red-500/40 text-red-300 rounded-lg hover:bg-red-600/30 transition-all duration-300 text-sm",children:" Delete"})]})})]},Y.id))})]})})]}),m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-cyan-500/20",children:[m.jsxs("h3",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:[m.jsx("span",{children:""})," Manage Employee Quick Links"]}),m.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Select an employee below to set their individual Google Sheets links. You can edit each link individually or save all at once."}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"text-blue-300 text-sm font-semibold mb-2 block",children:"Select Employee"}),m.jsxs("select",{value:Z||"",onChange:Y=>We(Y.target.value),className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none transition-colors cursor-pointer",children:[m.jsx("option",{value:"",children:"-- Choose an employee --"}),v.map(Y=>m.jsxs("option",{value:Y.id,children:[Y.id,"  ",Y.name]},Y.id))]})]}),Z&&k.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"space-y-4 mb-6",children:k.map(Y=>m.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg border border-slate-600",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsxs("label",{className:"text-blue-300 text-sm font-semibold flex items-center gap-2",children:[m.jsx("span",{children:Vw[Y.key]})," ",Y.name]}),ze===Y.key?m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>ut(Y.key),className:"px-3 py-1 bg-green-600/20 border border-green-500/40 text-green-300 rounded-lg hover:bg-green-600/30 transition-all duration-300 text-sm",children:" Save"}),m.jsx("button",{onClick:un,className:"px-3 py-1 bg-slate-600/20 border border-slate-500/40 text-slate-300 rounded-lg hover:bg-slate-600/30 transition-all duration-300 text-sm",children:" Cancel"})]}):m.jsx("button",{onClick:()=>Mt(Y.key),className:"px-3 py-1 bg-blue-600/20 border border-blue-500/40 text-blue-300 rounded-lg hover:bg-blue-600/30 transition-all duration-300 text-sm",children:" Edit"})]}),ze===Y.key?m.jsx("input",{type:"url",value:fe,onChange:Ae=>we(Ae.target.value),placeholder:"https://docs.google.com/spreadsheets/...",className:"w-full px-4 py-3 bg-slate-600 text-white rounded-lg border border-cyan-500 focus:border-cyan-400 focus:outline-none transition-colors text-sm",autoFocus:!0}):m.jsx("div",{className:"px-4 py-3 bg-slate-800/50 text-slate-300 rounded-lg text-sm break-all",children:te[Y.key]||m.jsx("span",{className:"text-slate-500 italic",children:"No URL set"})})]},Y.key))}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:ot,className:`flex-1 py-3 font-semibold rounded-lg transition-all duration-300 ${be?"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-cyan-600 text-white hover:shadow-lg hover:shadow-cyan-500/50"}`,disabled:be,children:" Save All Links"}),m.jsx("button",{onClick:Gt,className:"px-6 py-3 bg-red-600/20 border border-red-500/40 text-red-300 rounded-lg hover:bg-red-600/30 transition-all duration-300 font-semibold",children:" Delete All"})]}),be&&m.jsx("p",{className:"text-green-400 text-sm mt-3 text-center",children:" All changes saved"})]}),!Z&&m.jsx("div",{className:"text-center py-6 text-slate-500 text-sm",children:"Select an employee above to manage their links"})]})]}),r==="attendance"&&m.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-cyan-500/20",children:[m.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[m.jsx("span",{children:""})," Filter Attendance"]}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3 mb-4",children:[{key:"today",label:" Today"},{key:"week",label:" This Week"},{key:"month",label:" This Month"},{key:"custom-date",label:" Custom Date"},{key:"custom-week",label:" Custom Week"},{key:"custom-month",label:" Custom Month"}].map(Y=>m.jsx("button",{onClick:()=>q(Y.key),className:`py-3 px-4 rounded-lg font-semibold transition-all ${P===Y.key?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:Y.label},Y.key))}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[P==="custom-date"&&m.jsxs("div",{className:"col-span-1",children:[m.jsx("label",{className:"text-blue-300 text-sm mb-2 block",children:"Select Date"}),m.jsx("input",{type:"date",value:G,onChange:Y=>j(Y.target.value),className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none"})]}),P==="custom-week"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-blue-300 text-sm mb-2 block",children:"Week Start"}),m.jsx("input",{type:"date",value:oe,onChange:Y=>Q(Y.target.value),className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-blue-300 text-sm mb-2 block",children:"Week End"}),m.jsx("input",{type:"date",value:W,onChange:Y=>re(Y.target.value),className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none"})]})]}),P==="custom-month"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-blue-300 text-sm mb-2 block",children:"Month"}),m.jsx("select",{value:B,onChange:Y=>V(parseInt(Y.target.value)),className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none",children:Le.map((Y,Ae)=>m.jsx("option",{value:Ae+1,children:Y},Ae))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-blue-300 text-sm mb-2 block",children:"Year"}),m.jsx("input",{type:"number",value:ce,onChange:Y=>Te(parseInt(Y.target.value)),className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none",min:"2020",max:"2030"})]})]})]}),A&&m.jsxs("div",{className:"mt-4 text-blue-200 text-sm",children:["Showing: ",A.date_range?.start," to ",A.date_range?.end]})]}),D?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"}),m.jsx("p",{className:"text-blue-300 mt-4",children:"Loading attendance data..."})]}):A?m.jsx("div",{className:"space-y-6",children:A.attendance.map(Y=>m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-cyan-500/20",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:Y.employee_name}),m.jsxs("p",{className:"text-blue-300",children:["ID: ",Y.employee_id," | ",Y.email]})]}),m.jsx("button",{onClick:()=>ji(Y.employee_id,Y.employee_name),className:"px-4 py-2 bg-red-600/20 border border-red-500/40 text-red-300 rounded-lg hover:bg-red-600/30 transition-all duration-300 font-semibold",children:" Delete All Records"})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-emerald-600/20 rounded-lg p-4 border border-green-500/30",children:[m.jsx("p",{className:"text-green-300 text-sm mb-1",children:"Present Days"}),m.jsx("p",{className:"text-3xl font-bold text-white",children:Y.summary.present_days})]}),m.jsxs("div",{className:"bg-gradient-to-br from-cyan-500/20 to-blue-600/20 rounded-lg p-4 border border-cyan-500/30",children:[m.jsx("p",{className:"text-cyan-300 text-sm mb-1",children:"Total Hours"}),m.jsxs("p",{className:"text-3xl font-bold text-white",children:[Y.summary.total_hours,"h"]})]}),m.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-600/20 rounded-lg p-4 border border-purple-500/30",children:[m.jsx("p",{className:"text-purple-300 text-sm mb-1",children:"Total Days"}),m.jsx("p",{className:"text-3xl font-bold text-white",children:Y.summary.total_days})]})]}),Y.records.length>0?m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-slate-700",children:[m.jsx("th",{className:"text-left py-3 px-4 text-cyan-300 font-semibold",children:"Date"}),m.jsx("th",{className:"text-left py-3 px-4 text-cyan-300 font-semibold",children:"In Time"}),m.jsx("th",{className:"text-left py-3 px-4 text-cyan-300 font-semibold",children:"Out Time"}),m.jsx("th",{className:"text-left py-3 px-4 text-cyan-300 font-semibold",children:"Hours"}),m.jsx("th",{className:"text-left py-3 px-4 text-cyan-300 font-semibold",children:"Actions"})]})}),m.jsx("tbody",{children:Y.records.map(Ae=>m.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30 transition-colors",children:[m.jsx("td",{className:"py-3 px-4 text-white font-mono text-sm",children:Na(Ae.date)}),m.jsx("td",{className:"py-3 px-4 text-cyan-400 font-mono text-sm",children:Ae.in_time_display}),m.jsx("td",{className:"py-3 px-4 text-blue-400 font-mono text-sm",children:Ae.out_time_display}),m.jsxs("td",{className:"py-3 px-4 text-purple-400 font-mono text-sm",children:[Ae.hours_worked,"h"]}),m.jsx("td",{className:"py-3 px-4",children:m.jsx("button",{onClick:()=>ss(Ae._id,Y.employee_name),className:"px-3 py-1 bg-red-600/20 border border-red-500/40 text-red-300 rounded-lg hover:bg-red-600/30 transition-all duration-300 text-sm",children:" Delete"})})]},Ae._id))})]})}):m.jsx("div",{className:"text-center py-8 text-slate-400",children:"No attendance records for this period"})]},Y.employee_id))}):m.jsx("div",{className:"text-center py-12 text-slate-400",children:"No attendance data available"})]}),r==="admin-links"&&m.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[m.jsxs("form",{onSubmit:Qn,className:"space-y-4 bg-slate-800/50 p-6 rounded-2xl border border-cyan-500/20 backdrop-blur-sm",children:[m.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:U?" Edit Link":" Add New Link"}),m.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Add your own Excel sheets and documents with custom names and URLs for quick access."}),m.jsxs("div",{children:[m.jsx("label",{className:"text-blue-300 text-sm font-semibold mb-2 block",children:"Link Name"}),m.jsx("input",{type:"text",value:De.name,onChange:Y=>F({...De,name:Y.target.value}),required:!0,placeholder:"e.g., Monthly Budget Tracker, Sales Report 2025",className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none transition-colors"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-blue-300 text-sm font-semibold mb-2 block",children:"Sheet URL"}),m.jsx("input",{type:"url",value:De.url,onChange:Y=>F({...De,url:Y.target.value}),required:!0,placeholder:"https://docs.google.com/spreadsheets/...",className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none transition-colors"})]}),m.jsx("button",{className:"w-full py-4 bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold rounded-lg hover:shadow-lg hover:shadow-cyan-500/50 transition-all duration-300",children:U?" Update Link":" Add Link"}),U&&m.jsx("button",{type:"button",onClick:()=>{pe(null),F({name:"",url:""})},className:"w-full py-3 bg-slate-700 text-slate-300 font-semibold rounded-lg hover:bg-slate-600 transition-all duration-300",children:"Cancel Edit"})]}),m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-cyan-500/20",children:[m.jsxs("h3",{className:"text-2xl font-bold text-white mb-6",children:[" My Links (",Ne.length,")"]}),Ne.length===0?m.jsxs("div",{className:"text-center py-12 text-slate-400",children:[m.jsx("div",{className:"text-6xl mb-4",children:""}),m.jsx("p",{children:"No links added yet. Add your first link above!"})]}):m.jsx("div",{className:"space-y-3",children:Ne.map(Y=>m.jsxs("div",{className:"flex justify-between items-center bg-slate-700/50 p-4 rounded-xl border border-slate-600 hover:border-cyan-500/50 transition-all duration-300 group",children:[m.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[m.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-cyan-500/20 to-blue-600/20 rounded-lg flex items-center justify-center border border-cyan-500/30",children:m.jsx("span",{className:"text-2xl",children:""})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"text-white font-semibold text-lg mb-1 truncate",children:Y.name}),m.jsx("p",{className:"text-slate-400 text-sm truncate",children:Y.url}),Y.created_at&&m.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:["Added: ",new Date(Y.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]}),m.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[m.jsxs("button",{onClick:()=>es(Y.url),className:"px-4 py-2 bg-cyan-600/20 border border-cyan-500/40 text-cyan-300 rounded-lg hover:bg-cyan-600/30 transition-all duration-300 flex items-center gap-2",title:"Open link",children:[m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Open"]}),m.jsx("button",{onClick:()=>Un(Y),className:"px-4 py-2 bg-blue-600/20 border border-blue-500/40 text-blue-300 rounded-lg hover:bg-blue-600/30 transition-all duration-300",children:" Edit"}),m.jsx("button",{onClick:()=>al(Y._id,Y.name),className:"px-4 py-2 bg-red-600/20 border border-red-500/40 text-red-300 rounded-lg hover:bg-red-600/30 transition-all duration-300",children:" Delete"})]})]},Y._id))})]}),m.jsxs("div",{className:"bg-gradient-to-r from-cyan-500/10 to-blue-600/10 backdrop-blur-sm rounded-2xl p-6 border border-cyan-500/20",children:[m.jsxs("h4",{className:"text-cyan-300 font-semibold mb-3 flex items-center gap-2",children:[m.jsx("span",{children:""})," Quick Tips"]}),m.jsxs("ul",{className:"text-slate-300 text-sm space-y-2",children:[m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-cyan-400 mt-1",children:""}),m.jsx("span",{children:"You can add any type of link - Google Sheets, Excel Online, Google Docs, or other documents"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-cyan-400 mt-1",children:""}),m.jsx("span",{children:"Give your links descriptive names so you can find them easily"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-cyan-400 mt-1",children:""}),m.jsx("span",{children:'Click "Open" to view the link in a new tab'})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-cyan-400 mt-1",children:""}),m.jsx("span",{children:"Links are sorted by creation date (newest first)"})]})]})]})]})]})})},bU="/assets/news-xgYz2hR3.jpg",wU=()=>{const[s,e]=I.useState([]);return I.useEffect(()=>{ct.get("/news").then(t=>{e(t.data.map(n=>({id:n.id,title:n.title,description:n.description,image:`http://127.0.0.1:8000/${n.image_path}`,date:n.date})))}).catch(t=>{console.error("Failed to fetch news:",t)})},[]),m.jsxs("div",{className:"relative bg-slate-900",children:[m.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`url(${bU})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"scroll"}}),m.jsx("div",{className:"relative z-10 pt-20 sm:pt-24 lg:pt-28 pb-12 sm:pb-16 lg:pb-20",children:m.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-10 sm:mb-12 lg:mb-16 animate-fade-in",children:[m.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-3 sm:mb-4 tracking-tight drop-shadow-lg",children:["News &"," ",m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-indigo-400",children:"Events"})]}),m.jsx("p",{className:"text-white text-sm sm:text-base lg:text-lg max-w-3xl mx-auto drop-shadow-md px-4",children:"Stay updated with our latest achievements and activities"})]}),s.length>0?m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 sm:gap-6 lg:gap-8 max-w-7xl mx-auto",children:s.map(t=>m.jsxs("div",{className:"group bg-white/95 backdrop-blur-md rounded-xl sm:rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden border border-gray-200 hover:border-blue-300",children:[m.jsxs("div",{className:"relative h-48 sm:h-52 lg:h-56 overflow-hidden",children:[m.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),m.jsx("div",{className:"absolute top-3 sm:top-4 right-3 sm:right-4 bg-white/95 backdrop-blur-sm text-blue-600 px-3 sm:px-4 py-1.5 sm:py-2 rounded-full text-xs sm:text-sm font-semibold shadow-md border border-blue-200",children:t.date})]}),m.jsxs("div",{className:"p-5 sm:p-6",children:[m.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-2 sm:mb-3 group-hover:text-blue-600 transition-colors duration-300",children:t.title}),m.jsx("p",{className:"text-gray-600 leading-relaxed text-sm sm:text-base",children:t.description})]}),m.jsx("div",{className:"h-1 bg-gradient-to-r from-blue-500 to-indigo-600 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500"})]},t.id))}):m.jsx("div",{className:"max-w-2xl mx-auto",children:m.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl sm:rounded-2xl shadow-lg p-8 sm:p-10 lg:p-12 border border-gray-200 text-center",children:[m.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-full flex items-center justify-center mx-auto mb-5 sm:mb-6",children:m.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),m.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-2 sm:mb-3",children:"No News or Events Yet"}),m.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Check back soon for updates on our latest achievements and activities"})]})})]})}),m.jsx("style",{jsx:!0,children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in {
          animation: fade-in 0.6s ease-out;
        }
      `})]})},_U="/assets/careers-UHe4R7aJ.jpeg",MU=()=>{const[s,e]=I.useState([]);I.useEffect(()=>{ct.get("/jobs").then(n=>{e(n.data.map(r=>({id:r.id,title:r.title,description:r.description,location:r.location,postedDate:new Date().toLocaleDateString()})))}).catch(n=>{console.error("Failed to fetch careers:",n)})},[]);const t=n=>{const r=encodeURIComponent(`Application for ${n}`),o=encodeURIComponent(`Dear Hiring Team,

I am writing to express my interest in the ${n} position at Mag Marine Services.

Please find my resume attached.

Best regards,`);window.location.href=`mailto:sania.elizabath@btech.christuniversity.in?subject=${r}&body=${o}`};return m.jsxs("div",{className:"relative bg-slate-900",children:[m.jsxs("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`url(${_U})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"scroll"},children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900/70 via-blue-950/60 to-slate-900/75"}),m.jsx("div",{className:"absolute inset-0 bg-slate-900/20"})]}),m.jsx("div",{className:"relative z-10 pt-20 sm:pt-24 lg:pt-28 pb-12 sm:pb-16 lg:pb-20",children:m.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-10 sm:mb-12 lg:mb-16 animate-fade-in",children:[m.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-3 sm:mb-4 tracking-tight",children:["Join Our"," ",m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400",children:"Team"})]}),m.jsx("p",{className:"text-blue-200 text-sm sm:text-base lg:text-lg max-w-3xl mx-auto px-4",children:"Build your career with India's leading marine services provider. Explore exciting opportunities and be part of something extraordinary."})]}),m.jsx("div",{className:"max-w-4xl mx-auto mb-10 sm:mb-12 lg:mb-16",children:m.jsx("div",{className:"bg-gradient-to-r from-cyan-600/20 to-blue-600/20 backdrop-blur-md border border-cyan-500/30 rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-xl",children:m.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[m.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8 text-cyan-400 flex-shrink-0 mt-0.5 sm:mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-1.5 sm:mb-2",children:"How to Apply"}),m.jsx("p",{className:"text-blue-200 leading-relaxed text-sm sm:text-base",children:"Click the Apply Now button on any job posting below. You will be redirected to your email client where you can send us your resume and cover letter. Make sure to include your detailed CV and a brief introduction about yourself. We look forward to hearing from you!"})]})]})})}),s.length>0?m.jsx("div",{className:"max-w-5xl mx-auto space-y-5 sm:space-y-6",children:s.map(n=>m.jsxs("div",{className:"group bg-slate-800/60 backdrop-blur-md rounded-xl sm:rounded-2xl border border-blue-500/20 hover:border-cyan-500/50 transition-all duration-500 hover:shadow-2xl hover:shadow-cyan-500/30 overflow-hidden",children:[m.jsxs("div",{className:"p-5 sm:p-6 lg:p-8",children:[m.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 mb-5 sm:mb-6",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-white mb-2 sm:mb-3 group-hover:text-cyan-400 transition-colors duration-300",children:n.title}),m.jsxs("div",{className:"flex flex-wrap gap-3 sm:gap-4 text-xs sm:text-sm",children:[m.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-cyan-400",children:[m.jsxs("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),m.jsx("span",{children:n.location})]}),m.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-blue-300",children:[m.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),m.jsxs("span",{children:["Posted: ",n.postedDate]})]})]})]}),m.jsx("button",{onClick:()=>t(n.title),className:"bg-gradient-to-r from-cyan-500 to-blue-600 text-white px-6 sm:px-8 py-2.5 sm:py-3 rounded-full font-semibold hover:shadow-lg hover:shadow-cyan-500/50 transition-all duration-300 hover:scale-105 whitespace-nowrap text-sm sm:text-base",children:"Apply Now"})]}),m.jsxs("div",{className:"border-t border-blue-500/20 pt-5 sm:pt-6",children:[m.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white mb-2 sm:mb-3",children:"Job Description"}),m.jsx("p",{className:"text-blue-200 leading-relaxed whitespace-pre-line text-sm sm:text-base",children:n.description})]})]}),m.jsx("div",{className:"h-1 bg-gradient-to-r from-cyan-500 to-blue-600 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500"})]},n.id))}):m.jsx("div",{className:"max-w-2xl mx-auto",children:m.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-md p-8 sm:p-10 lg:p-12 rounded-xl sm:rounded-2xl border border-blue-500/20 text-center shadow-xl",children:[m.jsx("svg",{className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto text-blue-500/50 mb-5 sm:mb-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),m.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-2 sm:mb-3",children:"No Open Positions"}),m.jsx("p",{className:"text-blue-200 mb-5 sm:mb-6 text-sm sm:text-base",children:"We do not have any open positions at the moment, but we are always looking for talented individuals. Feel free to send us your resume for future opportunities."}),m.jsxs("button",{onClick:()=>t("General Application"),className:"inline-flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-600 text-white px-6 sm:px-8 py-2.5 sm:py-3 rounded-full font-semibold hover:shadow-lg hover:shadow-cyan-500/50 transition-all duration-300 hover:scale-105 text-sm sm:text-base",children:[m.jsx("span",{children:"Send Your Resume"}),m.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})]})]})}),m.jsxs("div",{className:"max-w-5xl mx-auto mt-12 sm:mt-16 lg:mt-20",children:[m.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center mb-8 sm:mb-10 lg:mb-12",children:["Why Work"," ",m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400",children:"With Us?"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-5 sm:gap-6",children:[{title:"Career Growth",description:"Continuous learning and advancement opportunities",icon:m.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})},{title:"Great Team",description:"Work with industry experts and passionate professionals",icon:m.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})},{title:"Benefits",description:"Competitive salary and comprehensive benefits package",icon:m.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}].map((n,r)=>m.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-md p-5 sm:p-6 rounded-xl border border-blue-500/20 hover:border-cyan-500/50 transition-all duration-300 text-center group hover:scale-105 shadow-lg",children:[m.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 bg-gradient-to-br from-cyan-500/20 to-blue-600/20 rounded-full flex items-center justify-center text-cyan-400 group-hover:scale-110 transition-transform",children:n.icon}),m.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-1.5 sm:mb-2",children:n.title}),m.jsx("p",{className:"text-blue-200 text-xs sm:text-sm",children:n.description})]},r))})]})]})}),m.jsx("style",{jsx:!0,children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in {
          animation: fade-in 0.6s ease-out;
        }
      `})]})},SU=({setCurrentPage:s})=>{const e=new Date().getFullYear(),t=n=>{s(n),window.scrollTo({top:0,behavior:"smooth"})};return m.jsx("footer",{className:"bg-slate-950 border-t border-blue-500/20",children:m.jsxs("div",{className:"container mx-auto px-4 md:px-6 py-8 md:py-12",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8 mb-8",children:[m.jsxs("div",{className:"col-span-1 md:col-span-2 lg:col-span-2",children:[m.jsx("h3",{className:"text-lg md:text-2xl font-bold text-white mb-3 md:mb-4",children:"MAG MARINE SERVICES"}),m.jsx("p",{className:"text-sm md:text-base text-blue-200 mb-4 leading-relaxed",children:"Your trusted partner in marine engineering, diving services, and maritime solutions. Committed to excellence, safety, and innovation."})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-base md:text-lg text-white font-semibold mb-3 md:mb-4",children:"Quick Links"}),m.jsx("ul",{className:"space-y-2",children:[{label:"About Us",id:"about"},{label:"Services",id:"services"},{label:"Projects",id:"projects"},{label:"Careers",id:"careers"}].map(n=>m.jsx("li",{children:m.jsx("button",{onClick:()=>t(n.id),className:"text-sm md:text-base text-blue-300 hover:text-cyan-400 transition-colors duration-300 cursor-pointer bg-none border-none p-0",children:n.label})},n.id))})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-base md:text-lg text-white font-semibold mb-3 md:mb-4",children:"Contact"}),m.jsxs("ul",{className:"space-y-2 text-sm md:text-base text-blue-200",children:[m.jsx("li",{children:"Email: hello@magmarine.in"}),m.jsx("li",{children:"Phone: 0484 312140"})]})]})]}),m.jsx("div",{className:"pt-6 md:pt-8 border-t border-blue-500/20 text-center text-sm md:text-base text-blue-300",children:m.jsxs("p",{children:[" ",e," Mag Marine Services Pvt. Ltd. All rights reserved."]})})]})})},EU=({setCurrentPage:s})=>{const[e,t]=I.useState(""),[n,r]=I.useState(""),[o,l]=I.useState(""),u=async d=>{d.preventDefault(),l("");try{const f=new FormData;f.append("email",e),f.append("password",n);const p=await ct.post("/auth/login",f);localStorage.setItem("admin_token",p.data.access_token),s("admin-dashboard")}catch{l("Invalid email or password")}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 pt-32",children:m.jsxs("form",{onSubmit:u,className:"bg-slate-800 p-8 rounded-xl w-full max-w-md border border-blue-500/20",children:[m.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:"Admin Login"}),o&&m.jsx("p",{className:"text-red-400 mb-4",children:o}),m.jsx("input",{type:"email",required:!0,placeholder:"Email",className:"w-full px-4 py-3 mb-4 bg-slate-900 text-white",value:e,onChange:d=>t(d.target.value)}),m.jsx("input",{type:"password",required:!0,placeholder:"Password",className:"w-full px-4 py-3 mb-4 bg-slate-900 text-white",value:n,onChange:d=>r(d.target.value)}),m.jsx("div",{className:"text-right mb-6",children:m.jsx("button",{type:"button",onClick:()=>s("forgot-password"),className:"text-sm text-cyan-400 hover:underline",children:"Forgot password?"})}),m.jsx("button",{className:"w-full py-3 bg-blue-600 text-white font-semibold rounded-lg",children:"Login"})]})})},TU=({setCurrentPage:s})=>{const[e,t]=I.useState(""),[n,r]=I.useState(""),o=async l=>{l.preventDefault(),r(""),t("");try{await ct.post("/auth/forgot-password"),t("Reset link has been sent to admin email.")}catch{r("Something went wrong. Try again.")}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 pt-32",children:m.jsxs("form",{onSubmit:o,className:"bg-slate-800 p-8 rounded-xl w-full max-w-md",children:[m.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:"Forgot Password"}),e&&m.jsx("p",{className:"text-green-400 mb-4",children:e}),n&&m.jsx("p",{className:"text-red-400 mb-4",children:n}),m.jsx("p",{className:"text-blue-200 text-sm mb-6 text-center",children:"A reset link will be sent to the registered admin email."}),m.jsx("button",{className:"w-full py-3 bg-blue-600 text-white font-semibold",children:"Send Reset Link"}),m.jsx("button",{type:"button",onClick:()=>s("admin-login"),className:"w-full mt-4 text-blue-400 text-sm",children:"Back to login"})]})})},AU=({token:s,setCurrentPage:e})=>{const[t,n]=I.useState(""),[r,o]=I.useState(""),[l,u]=I.useState(""),d=async f=>{if(f.preventDefault(),o(""),u(""),!s){u("Invalid reset link. Please request a new password reset.");return}try{const p=new FormData;p.append("token",s),p.append("new_password",t),await ct.post("/auth/reset-password",p,{headers:{"Content-Type":"multipart/form-data"}}),o("Password reset successful! Redirecting to login..."),setTimeout(()=>{e("admin-login")},2e3)}catch(p){console.error("Reset error:",p),u(p.response?.data?.detail||"Invalid or expired reset link.")}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 pt-32",children:m.jsxs("form",{onSubmit:d,className:"bg-slate-800 p-8 rounded-xl w-full max-w-md border border-blue-500/20",children:[m.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:"Reset Password"}),r&&m.jsx("div",{className:"mb-4 p-3 bg-green-500/20 border border-green-500/50 rounded-lg",children:m.jsx("p",{className:"text-green-300 text-center",children:r})}),l&&m.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg",children:m.jsx("p",{className:"text-red-300 text-center",children:l})}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-blue-300 mb-2 text-sm font-medium",children:"New Password"}),m.jsx("input",{type:"password",required:!0,placeholder:"Enter your new password",className:"w-full px-4 py-3 bg-slate-900 text-white border border-blue-500/30 rounded-lg focus:outline-none focus:border-blue-500 transition-colors",value:t,onChange:f=>n(f.target.value),minLength:6}),m.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Password must be at least 6 characters"})]}),m.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold rounded-lg hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300",children:"Reset Password"}),m.jsx("div",{className:"mt-4 text-center",children:m.jsx("button",{type:"button",onClick:()=>e("admin-login"),className:"text-blue-400 hover:text-blue-300 text-sm transition-colors",children:"Back to Login"})})]})})},CU=({setCurrentPage:s,setSelectedEmployee:e})=>{const[t,n]=I.useState([]),[r,o]=I.useState(!0);I.useEffect(()=>{l()},[]);const l=async()=>{try{const d=await ct.get("/employees");n(d.data),o(!1)}catch(d){console.error("Error fetching employees:",d),o(!1)}},u=d=>{e(d),s("employee-login")};return r?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 pt-32",children:m.jsx("div",{className:"text-white text-xl",children:"Loading employees..."})}):m.jsx("div",{className:"min-h-screen bg-slate-900 pt-32 pb-20 px-4",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("h1",{className:"text-5xl font-bold text-white mb-4",children:"Employee Portal"}),m.jsx("p",{className:"text-blue-300 text-lg",children:"Select your profile to login and mark attendance"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((d,f)=>m.jsxs("button",{onClick:()=>u(d),className:"group relative bg-slate-800/50 backdrop-blur-sm rounded-2xl p-8 border border-blue-500/20 hover:border-blue-500/50 transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-blue-500/20",children:[m.jsx("div",{className:"mb-6",children:m.jsx("div",{className:"w-24 h-24 mx-auto bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:m.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),m.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:d.name}),m.jsx("div",{className:"inline-block bg-cyan-500/20 border border-cyan-500/30 px-4 py-1 rounded-full",children:m.jsxs("span",{className:"text-cyan-400 text-sm font-medium",children:["ID: ",d.id]})}),m.jsx("div",{className:"absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:m.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})})]},d.id))}),m.jsx("div",{className:"mt-12 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 backdrop-blur-sm rounded-xl p-6 border border-blue-500/20",children:m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-white font-semibold mb-2",children:"Important Information"}),m.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[m.jsx("li",{children:" You must be at the office location to mark attendance"}),m.jsx("li",{children:" Mark your IN time when you arrive"}),m.jsx("li",{children:" Mark your OUT time when you leave"}),m.jsx("li",{children:" View your attendance history in your dashboard"})]})]})]})})]})})},RU=({setCurrentPage:s,selectedEmployee:e,setLoggedInEmployee:t})=>{const[n,r]=I.useState(""),[o,l]=I.useState(""),[u,d]=I.useState(""),[f,p]=I.useState(!1),g=async y=>{y.preventDefault(),d(""),p(!0);try{const b=new FormData;b.append("email",n),b.append("password",o),b.append("employee_id",e.id);const v=await ct.post("/employee/login",b,{headers:{"Content-Type":"multipart/form-data"}});t(v.data.employee),s(`employee-dashboard-${e.id}`)}catch(b){console.error("Login error:",b),d(b.response?.data?.detail||"Invalid credentials. Please try again.")}finally{p(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 pt-32 px-4",children:m.jsxs("div",{className:"w-full max-w-md",children:[m.jsxs("button",{onClick:()=>s("employee-portal"),className:"mb-6 flex items-center gap-2 text-blue-400 hover:text-blue-300 transition-colors",children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Employee Portal"]}),m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-8 border border-blue-500/20",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full flex items-center justify-center",children:m.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),m.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:e.name}),m.jsx("p",{className:"text-blue-300",children:"Login to your dashboard"})]}),u&&m.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg",children:m.jsx("p",{className:"text-red-300 text-center text-sm",children:u})}),m.jsxs("form",{onSubmit:g,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-blue-300 mb-2 text-sm font-medium",children:"Email Address"}),m.jsx("input",{type:"email",required:!0,placeholder:"Enter your email",className:"w-full px-4 py-3 bg-slate-900 text-white border border-blue-500/30 rounded-lg focus:outline-none focus:border-blue-500 transition-colors",value:n,onChange:y=>r(y.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-blue-300 mb-2 text-sm font-medium",children:"Password"}),m.jsx("input",{type:"password",required:!0,placeholder:"Enter your password",className:"w-full px-4 py-3 bg-slate-900 text-white border border-blue-500/30 rounded-lg focus:outline-none focus:border-blue-500 transition-colors",value:o,onChange:y=>l(y.target.value)})]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full py-3 bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold rounded-lg hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Logging in...":"Login"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("button",{onClick:()=>s("employee-forgot-password"),className:"text-blue-400 hover:text-blue-300 text-sm transition-colors",children:"Forgot your password?"})})]}),m.jsxs("div",{className:"mt-6 text-center text-slate-400 text-sm",children:[m.jsx("p",{children:"Default credentials for testing:"}),m.jsx("p",{className:"text-blue-300 mt-1",children:"Password: 123456"})]})]})})},NU=({setCurrentPage:s,selectedEmployee:e})=>{const[t,n]=I.useState(""),[r,o]=I.useState(""),[l,u]=I.useState(!1),d=async f=>{f.preventDefault(),n(""),o(""),u(!0);try{const p=new FormData;p.append("employee_id",e.id),await ct.post("/employee/forgot-password",p,{headers:{"Content-Type":"multipart/form-data"}}),n("Password reset link has been sent to your email. Please check your inbox.")}catch(p){console.error("Forgot password error:",p),o(p.response?.data?.detail||"Failed to send reset link. Please try again.")}finally{u(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 pt-32 px-4",children:m.jsxs("div",{className:"w-full max-w-md",children:[m.jsxs("button",{onClick:()=>s("employee-login"),className:"mb-6 flex items-center gap-2 text-blue-400 hover:text-blue-300 transition-colors",children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Login"]}),m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-8 border border-blue-500/20",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full flex items-center justify-center",children:m.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),m.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Forgot Password"}),m.jsxs("p",{className:"text-blue-300",children:[e.name," - ID: ",e.id]})]}),t&&m.jsx("div",{className:"mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-lg",children:m.jsx("p",{className:"text-green-300 text-center text-sm",children:t})}),r&&m.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg",children:m.jsx("p",{className:"text-red-300 text-center text-sm",children:r})}),m.jsxs("form",{onSubmit:d,children:[m.jsx("div",{className:"mb-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:m.jsx("p",{className:"text-blue-200 text-sm text-center",children:"A password reset link will be sent to the email address registered with your account."})}),m.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold rounded-lg hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Sending...":"Send Reset Link"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs("p",{className:"text-slate-400 text-sm",children:["Remember your password?"," ",m.jsx("button",{onClick:()=>s("employee-login"),className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Back to Login"})]})})]})]})})},LU=({setCurrentPage:s,token:e})=>{const[t,n]=I.useState(""),[r,o]=I.useState(""),[l,u]=I.useState(""),[d,f]=I.useState(""),[p,g]=I.useState(!1),y=async b=>{if(b.preventDefault(),u(""),f(""),t!==r){f("Passwords do not match");return}if(t.length<6){f("Password must be at least 6 characters");return}if(!e){f("Invalid reset link. Please request a new password reset.");return}g(!0);try{const v=new FormData;v.append("token",e),v.append("new_password",t),await ct.post("/employee/reset-password",v,{headers:{"Content-Type":"multipart/form-data"}}),u("Password reset successful! Redirecting to employee portal..."),setTimeout(()=>{s("employee-portal")},2e3)}catch(v){console.error("Reset password error:",v),f(v.response?.data?.detail||"Failed to reset password. Please try again.")}finally{g(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 pt-32 px-4",children:m.jsx("div",{className:"w-full max-w-md",children:m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-8 border border-blue-500/20",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full flex items-center justify-center",children:m.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),m.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Reset Password"}),m.jsx("p",{className:"text-blue-300",children:"Enter your new password"})]}),l&&m.jsx("div",{className:"mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-lg",children:m.jsx("p",{className:"text-green-300 text-center text-sm",children:l})}),d&&m.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg",children:m.jsx("p",{className:"text-red-300 text-center text-sm",children:d})}),m.jsxs("form",{onSubmit:y,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-blue-300 mb-2 text-sm font-medium",children:"New Password"}),m.jsx("input",{type:"password",required:!0,placeholder:"Enter new password",className:"w-full px-4 py-3 bg-slate-900 text-white border border-blue-500/30 rounded-lg focus:outline-none focus:border-blue-500 transition-colors",value:t,onChange:b=>n(b.target.value),minLength:6}),m.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Password must be at least 6 characters"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-blue-300 mb-2 text-sm font-medium",children:"Confirm Password"}),m.jsx("input",{type:"password",required:!0,placeholder:"Confirm new password",className:"w-full px-4 py-3 bg-slate-900 text-white border border-blue-500/30 rounded-lg focus:outline-none focus:border-blue-500 transition-colors",value:r,onChange:b=>o(b.target.value),minLength:6})]}),m.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold rounded-lg hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Resetting...":"Reset Password"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("button",{onClick:()=>s("employee-portal"),className:"text-blue-400 hover:text-blue-300 text-sm transition-colors",children:"Back to Employee Portal"})})]})})})},DU={attendance_url:"",project_report_url:"",timesheet_url:"",policy_hub_url:"",inventory_url:"",petty_cash_url:"",salary_advance_url:"",approved_pr_url:""},zU=({loggedInEmployee:s,setCurrentPage:e})=>{const[t,n]=I.useState([]),[r,o]=I.useState(!1),[l,u]=I.useState(""),[d,f]=I.useState(""),[p,g]=I.useState(""),[y,b]=I.useState(null),[v,_]=I.useState("month"),[E,M]=I.useState(new Date().toISOString().split("T")[0]),[S,C]=I.useState(""),[A,N]=I.useState(""),[D,R]=I.useState(new Date().getMonth()+1),[P,q]=I.useState(new Date().getFullYear()),[G,j]=I.useState([]),[oe,Q]=I.useState(!1);I.useEffect(()=>{(async()=>{try{const ye=(await ct.get("/employee-links/config")).data.links,je=(await ct.get(`/employee-links/${s.id}`)).data,fe=ye.filter(we=>je[we.key]&&je[we.key].trim()!=="").map(we=>({key:we.key,name:we.name,icon:DU[we.key]||"",url:je[we.key]}));j(fe)}catch(be){console.error("Failed to load quick links:",be),j([])}finally{Q(!0)}})()},[s.id]),I.useEffect(()=>{B()},[v,E,S,A,D,P]);const W=ee=>{if(!ee)return null;let be;if(typeof ee=="string"?be=new Date(ee):ee instanceof Date?be=ee:be=new Date(ee),isNaN(be.getTime()))return null;const ye=be.getFullYear(),ze=String(be.getMonth()+1).padStart(2,"0"),je=String(be.getDate()).padStart(2,"0");return`${ye}-${ze}-${je}`},re=()=>{switch(v){case"today":return"Today";case"week":return"This Week";case"month":return"This Month";case"all":return"All Time";case"custom-date":return`${ie(E)}`;case"custom-week":return`Week (${ie(S)} to ${ie(A)})`;case"custom-month":return`${new Date(P,D-1).toLocaleDateString("en-US",{month:"long",year:"numeric"})}`;default:return"This Month"}},B=async()=>{try{let ee=`/attendance/${s.id}`;switch(v){case"today":ee+="?filter=today";break;case"week":ee+="?filter=week";break;case"month":ee+="?filter=month";break;case"all":ee+="?filter=all";break;case"custom-date":ee+=`?date=${E}`;break;case"custom-week":S&&A&&(ee+=`?start_date=${S}&end_date=${A}`);break;case"custom-month":ee+=`?month=${D}&year=${P}`;break;default:ee+="?filter=month"}const be=await ct.get(ee);let ye=[];be.data.records&&Array.isArray(be.data.records)?ye=be.data.records:Array.isArray(be.data)&&(ye=be.data),n(ye);const je=W(new Date),fe=ye.find(we=>we.date?W(we.date)===je:!1);b(fe||null)}catch(ee){console.error("Error fetching attendance:",ee),n([])}},V=()=>new Promise((ee,be)=>{if(!navigator.geolocation){be(new Error("Geolocation is not supported by your browser"));return}g("Getting your location..."),navigator.geolocation.getCurrentPosition(ye=>{ee({latitude:ye.coords.latitude,longitude:ye.coords.longitude})},ye=>{let ze="Unable to retrieve your location";switch(ye.code){case ye.PERMISSION_DENIED:ze="Location permission denied. Please enable location access.";break;case ye.POSITION_UNAVAILABLE:ze="Location information is unavailable.";break;case ye.TIMEOUT:ze="Location request timed out.";break}be(new Error(ze))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),ce=async()=>{u(""),f(""),o(!0);try{const ee=await V();g("Verifying location...");const be=new FormData;be.append("employee_id",s.id),be.append("latitude",ee.latitude),be.append("longitude",ee.longitude);const ye=await ct.post("/attendance/mark-in",be,{headers:{"Content-Type":"multipart/form-data"}});u(` IN time marked successfully at ${ye.data.time} (${ye.data.location})`),g(""),setTimeout(()=>{B()},1e3)}catch(ee){const be=ee.response?.data?.detail||ee.message||"Failed to mark attendance";f(be),g("")}finally{o(!1)}},Te=async()=>{u(""),f(""),o(!0);try{const ee=await V();g("Verifying location...");const be=new FormData;be.append("employee_id",s.id),be.append("latitude",ee.latitude),be.append("longitude",ee.longitude);const ye=await ct.post("/attendance/mark-out",be,{headers:{"Content-Type":"multipart/form-data"}});u(` OUT time marked successfully at ${ye.data.time} (${ye.data.location})`),g(""),setTimeout(()=>{B()},1e3)}catch(ee){const be=ee.response?.data?.detail||ee.message||"Failed to mark exit";f(be),g("")}finally{o(!1)}},Le=()=>{e("employee-portal")},k=ee=>{window.open(ee,"_blank","noopener,noreferrer")},$=(ee,be)=>{if(!ee||!be)return"-";const ye=new Date(ee),je=new Date(be)-ye,fe=Math.floor(je/(1e3*60*60)),we=Math.floor(je%(1e3*60*60)/(1e3*60));return`${fe}h ${we}m`},Z=ee=>ee?new Date(ee).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):"-",ie=ee=>new Date(ee).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),te=(()=>{const ee=Array.isArray(t)?t:[],be=ee.length,ye=ee.filter(je=>je.in_time&&je.out_time).length,ze=be>0?(ye/be*100).toFixed(1):0;return{totalDays:be,presentDays:ye,percentage:ze}})();return m.jsx("div",{className:"min-h-screen bg-slate-900 pt-32 pb-20 px-4",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Welcome, ",s.name,"!"]}),m.jsxs("p",{className:"text-blue-300",children:["Employee ID: ",s.id]})]}),m.jsx("button",{onClick:Le,className:"px-6 py-3 bg-red-500/20 border border-red-500/50 text-red-300 rounded-lg hover:bg-red-500/30 transition-colors",children:"Logout"})]}),m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-blue-500/20 mb-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Quick Links"}),!oe&&m.jsxs("div",{className:"text-center py-6",children:[m.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500"}),m.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Loading links..."})]}),oe&&G.length>0&&m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:G.map(ee=>m.jsxs("button",{onClick:()=>k(ee.url),className:"flex flex-col items-center justify-center p-4 bg-slate-700/50 rounded-lg border border-blue-500/20 hover:border-blue-500/50 hover:bg-slate-700 transition-all duration-300 group",children:[m.jsx("span",{className:"text-4xl mb-2 group-hover:scale-110 transition-transform",children:ee.icon}),m.jsx("span",{className:"text-white text-sm text-center",children:ee.name})]},ee.key))}),oe&&G.length===0&&m.jsx("div",{className:"text-center py-6 text-slate-500 text-sm",children:"No quick links have been configured yet. Please contact your admin."})]}),m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-blue-500/20 mb-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Mark Attendance"}),p&&m.jsx("div",{className:"mb-4 p-3 bg-blue-500/20 border border-blue-500/50 rounded-lg",children:m.jsx("p",{className:"text-blue-300 text-center",children:p})}),l&&m.jsx("div",{className:"mb-4 p-3 bg-green-500/20 border border-green-500/50 rounded-lg",children:m.jsx("p",{className:"text-green-300 text-center",children:l})}),d&&m.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg",children:m.jsx("p",{className:"text-red-300 text-center",children:d})}),m.jsxs("div",{className:"mb-6 p-4 bg-slate-900/50 rounded-lg",children:[m.jsx("h3",{className:"text-white font-semibold mb-3",children:"Today's Status"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"IN Time"}),m.jsx("p",{className:"text-xl font-bold text-cyan-400",children:y?.in_time?Z(y.in_time):"Not marked"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"OUT Time"}),m.jsx("p",{className:"text-xl font-bold text-blue-400",children:y?.out_time?Z(y.out_time):"Not marked"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("button",{onClick:ce,disabled:r||y&&y.in_time,className:"py-4 bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold rounded-lg hover:shadow-lg hover:shadow-cyan-500/50 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Mark IN",y?.in_time&&m.jsx("span",{className:"text-xs",children:"(Done)"})]}),m.jsxs("button",{onClick:Te,disabled:r||!y||!y.in_time||y.out_time,className:"py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Mark OUT",y?.out_time&&m.jsx("span",{className:"text-xs",children:"(Done)"})]})]}),m.jsx("div",{className:"mt-4 p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:m.jsx("p",{className:"text-yellow-300 text-sm text-center",children:" You must be at the office location to mark attendance"})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[m.jsx("div",{className:"bg-gradient-to-br from-cyan-500/20 to-blue-600/20 backdrop-blur-sm rounded-xl p-6 border border-cyan-500/30",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-cyan-300 text-sm mb-1",children:"Days Present"}),m.jsx("p",{className:"text-4xl font-bold text-white",children:te.presentDays}),m.jsx("p",{className:"text-cyan-400 text-xs mt-1",children:"Both IN & OUT marked"})]}),m.jsx("div",{className:"w-16 h-16 bg-cyan-500/30 rounded-full flex items-center justify-center",children:m.jsx("svg",{className:"w-8 h-8 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),m.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-purple-600/20 backdrop-blur-sm rounded-xl p-6 border border-blue-500/30",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-blue-300 text-sm mb-1",children:"Total Days"}),m.jsx("p",{className:"text-4xl font-bold text-white",children:te.totalDays})]}),m.jsx("div",{className:"w-16 h-16 bg-blue-500/30 rounded-full flex items-center justify-center",children:m.jsx("svg",{className:"w-8 h-8 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})}),m.jsx("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-600/20 backdrop-blur-sm rounded-xl p-6 border border-purple-500/30",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-purple-300 text-sm mb-1",children:"Attendance %"}),m.jsxs("p",{className:"text-4xl font-bold text-white",children:[te.percentage,"%"]})]}),m.jsx("div",{className:"w-16 h-16 bg-purple-500/30 rounded-full flex items-center justify-center",children:m.jsx("svg",{className:"w-8 h-8 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})]}),m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-blue-500/20 mb-6",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:" Filter Attendance"}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3 mb-6",children:[{key:"today",label:" Today"},{key:"week",label:" This Week"},{key:"month",label:" This Month"},{key:"all",label:" All Time"},{key:"custom-date",label:" Custom Date"},{key:"custom-month",label:" Custom Month"}].map(ee=>m.jsx("button",{onClick:()=>_(ee.key),className:`py-3 px-4 rounded-lg font-semibold transition-all duration-200 ${v===ee.key?"bg-cyan-500 text-white shadow-lg shadow-cyan-500/50":"bg-slate-700 text-slate-300 hover:bg-slate-600 border border-slate-600"}`,children:ee.label},ee.key))}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v==="custom-date"&&m.jsxs("div",{className:"col-span-1",children:[m.jsx("label",{className:"text-blue-300 text-sm mb-2 block font-semibold",children:"Select Date"}),m.jsx("input",{type:"date",value:E,onChange:ee=>M(ee.target.value),className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 transition-all"})]}),v==="custom-month"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-blue-300 text-sm mb-2 block font-semibold",children:"Month"}),m.jsx("select",{value:D,onChange:ee=>R(parseInt(ee.target.value)),className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 transition-all cursor-pointer",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map((ee,be)=>m.jsx("option",{value:be+1,children:ee},be))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-blue-300 text-sm mb-2 block font-semibold",children:"Year"}),m.jsx("input",{type:"number",value:P,onChange:ee=>q(parseInt(ee.target.value)),className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 transition-all",min:"2020",max:"2030"})]})]})]})]}),m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-blue-500/20",children:[m.jsx("div",{className:"mb-6",children:m.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Attendance History - ",re(),m.jsxs("span",{className:"text-sm text-slate-400 ml-3",children:["(",t.length," records)"]})]})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-slate-700",children:[m.jsx("th",{className:"text-left py-3 px-4 text-blue-300 font-semibold",children:"Date"}),m.jsx("th",{className:"text-left py-3 px-4 text-blue-300 font-semibold",children:"Day"}),m.jsx("th",{className:"text-left py-3 px-4 text-blue-300 font-semibold",children:"IN Time"}),m.jsx("th",{className:"text-left py-3 px-4 text-blue-300 font-semibold",children:"OUT Time"}),m.jsx("th",{className:"text-left py-3 px-4 text-blue-300 font-semibold",children:"Total Hours"}),m.jsx("th",{className:"text-left py-3 px-4 text-blue-300 font-semibold",children:"Status"})]})}),m.jsx("tbody",{children:t.length===0?m.jsx("tr",{children:m.jsxs("td",{colSpan:"6",className:"text-center py-8 text-slate-400",children:["No attendance records found for ",re().toLowerCase()]})}):t.map((ee,be)=>m.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30 transition-colors",children:[m.jsx("td",{className:"py-3 px-4 text-white",children:ie(ee.date)}),m.jsx("td",{className:"py-3 px-4 text-slate-300",children:new Date(ee.date).toLocaleDateString("en-US",{weekday:"long"})}),m.jsx("td",{className:"py-3 px-4 text-cyan-400 font-mono",children:Z(ee.in_time)}),m.jsx("td",{className:"py-3 px-4 text-blue-400 font-mono",children:Z(ee.out_time)}),m.jsx("td",{className:"py-3 px-4 text-purple-400 font-mono",children:$(ee.in_time,ee.out_time)}),m.jsx("td",{className:"py-3 px-4",children:ee.in_time&&ee.out_time?m.jsx("span",{className:"px-3 py-1 bg-green-500/20 border border-green-500/50 text-green-300 rounded-full text-sm",children:"Present"}):ee.in_time?m.jsx("span",{className:"px-3 py-1 bg-yellow-500/20 border border-yellow-500/50 text-yellow-300 rounded-full text-sm",children:"Incomplete"}):m.jsx("span",{className:"px-3 py-1 bg-red-500/20 border border-red-500/50 text-red-300 rounded-full text-sm",children:"Absent"})})]},ee._id||be))})]})})]})]})})};function OU(){const s=()=>{const M=new URLSearchParams(window.location.search),S=M.get("token"),C=M.get("type");return S?C==="employee"?"employee-reset-password":"reset-password":"home"},[e,t]=I.useState(s),[n,r]=I.useState(!1),[o,l]=I.useState(()=>new URLSearchParams(window.location.search).get("token")),[u,d]=I.useState([]),[f,p]=I.useState([]),[g,y]=I.useState(null),[b,v]=I.useState(null);I.useEffect(()=>{const M=new URLSearchParams(window.location.search),S=M.get("token"),C=M.get("type");S&&(l(S),t(C==="employee"?"employee-reset-password":"reset-password"),window.history.replaceState({},document.title,window.location.pathname))},[]),I.useEffect(()=>{console.log(" Current page changed to:",e)},[e]),I.useEffect(()=>{const M=S=>{const C=S.state?.page||"home";t(C)};return window.addEventListener("popstate",M),()=>window.removeEventListener("popstate",M)},[]);const _=M=>{t(M),window.history.pushState({page:M},"",`?page=${M}`)},E=()=>{window.scrollTo({top:0,behavior:"smooth"})};return I.useEffect(()=>{E()},[e]),m.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col",children:[m.jsx(RA,{currentPage:e,setCurrentPage:_}),m.jsxs("main",{className:"flex-1 w-full",children:[e==="home"&&m.jsxs("div",{className:"snap-y snap-mandatory h-[calc(100vh-64px)] md:h-screen overflow-y-scroll scroll-smooth",children:[m.jsx("div",{className:"snap-start snap-always",children:m.jsx(BA,{})}),m.jsx("div",{className:"snap-start snap-always",children:m.jsx(PA,{})}),m.jsx("div",{className:"snap-start snap-always",children:m.jsx(h6,{})}),m.jsx("div",{className:"snap-start snap-always",children:m.jsx(x6,{})}),m.jsx("div",{className:"snap-start snap-always",children:m.jsx(v6,{})}),m.jsx("div",{className:"snap-start snap-always",children:m.jsx(j6,{})}),m.jsx("div",{className:"snap-start snap-always",children:m.jsx(I6,{})})]}),e==="about"&&m.jsx("div",{className:"w-full",children:m.jsx(jO,{})}),e==="services"&&m.jsx("div",{className:"w-full",children:m.jsx(G6,{})}),e==="contact"&&m.jsx("div",{className:"w-full",children:m.jsx(IO,{})}),e==="portal"&&m.jsx("div",{className:"w-full",children:m.jsx(GO,{setCurrentPage:_,setIsAdmin:r})}),e==="admin-login"&&m.jsx("div",{className:"w-full",children:m.jsx(EU,{setCurrentPage:_})}),e==="forgot-password"&&m.jsx("div",{className:"w-full",children:m.jsx(TU,{setCurrentPage:_})}),e==="reset-password"&&m.jsx("div",{className:"w-full",children:m.jsx(AU,{setCurrentPage:_,token:o})}),e==="admin-dashboard"&&m.jsx("div",{className:"w-full",children:m.jsx(vU,{newsEvents:u,setNewsEvents:d,careers:f,setCareers:p,setCurrentPage:_})}),e==="employee-portal"&&m.jsx("div",{className:"w-full",children:m.jsx(CU,{setCurrentPage:_,setSelectedEmployee:y})}),e==="employee-login"&&m.jsx("div",{className:"w-full",children:m.jsx(RU,{setCurrentPage:_,selectedEmployee:g,setLoggedInEmployee:v})}),e==="employee-forgot-password"&&m.jsx("div",{className:"w-full",children:m.jsx(NU,{setCurrentPage:_,selectedEmployee:g})}),e==="employee-reset-password"&&m.jsx("div",{className:"w-full",children:m.jsx(LU,{setCurrentPage:_,token:o})}),e.startsWith("employee-dashboard-")&&b&&m.jsx("div",{className:"w-full",children:m.jsx(zU,{loggedInEmployee:b,setCurrentPage:_})}),e==="news"&&m.jsx("div",{className:"w-full",children:m.jsx(wU,{newsEvents:u})}),e==="careers"&&m.jsx("div",{className:"w-full",children:m.jsx(MU,{careers:f})})]}),e!=="home"&&m.jsx(SU,{setCurrentPage:_}),e!=="home"&&m.jsx("button",{onClick:E,className:"fixed bottom-6 right-4 md:bottom-8 md:right-8 bg-gradient-to-r from-cyan-500 to-blue-600 text-white p-3 md:p-4 rounded-full shadow-lg hover:shadow-cyan-500/50 transition-all duration-300 hover:scale-110 z-50 group","aria-label":"Scroll to top",children:m.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6 transform group-hover:-translate-y-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})}),m.jsx("style",{jsx:"true",global:"true",children:`
        /* Smooth scrolling for the entire app */
        html {
          scroll-behavior: smooth;
        }

        /* Prevent horizontal overflow on mobile */
        body {
          overflow-x: hidden;
        }

        /* Custom scrollbar styling */
        .snap-y::-webkit-scrollbar {
          width: 6px;
        }

        .snap-y::-webkit-scrollbar-track {
          background: rgba(15, 23, 42, 0.5);
        }

        .snap-y::-webkit-scrollbar-thumb {
          background: rgba(56, 189, 248, 0.3);
          border-radius: 4px;
        }

        .snap-y::-webkit-scrollbar-thumb:hover {
          background: rgba(56, 189, 248, 0.5);
        }

        /* Ensure sections take full viewport height */
        .snap-start > * {
          min-height: 100vh;
        }

        /* Mobile-specific adjustments */
        @media (max-width: 768px) {
          .snap-y::-webkit-scrollbar {
            width: 4px;
          }
          
          /* Adjust snap behavior on mobile for better UX */
          .snap-y {
            scroll-snap-type: y proximity;
          }
        }

        /* Prevent text from overflowing on small screens */
        * {
          word-wrap: break-word;
          overflow-wrap: break-word;
        }

        /* Ensure all containers respect viewport width on mobile */
        .w-full {
          max-width: 100vw;
        }
      `})]})}KE.createRoot(document.getElementById("root")).render(m.jsx(yA,{children:m.jsx(OU,{})}));
